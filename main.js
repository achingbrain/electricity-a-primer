"use strict";!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1);var i=n(2),r=n(3),o=n(4),a=n(5),s=n(6),c=n(7),l=n(8),u=n(9),d=n(10),p=n(11),f=n(13),g=[r(),o(),a(),s("li, .bullet"),c(),l(),u(),d(),p(),f()];try{n(!function(){var e=new Error('Cannot find module "plugins"');throw e.code="MODULE_NOT_FOUND",e}())(g)}catch(h){}var m=i.from("article",g);try{n(!function(){var e=new Error('Cannot find module "deck"');throw e.code="MODULE_NOT_FOUND",e}())(m)}catch(h){}},function(e,t){(function(t){var n="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},i=function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=n.Prism={util:{encode:function(e){return e instanceof i?new i(e.type,t.util.encode(e.content),e.alias):"Array"===t.util.type(e)?e.map(t.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function o(e){var n=t.util.type(e);switch(n){case"Object":var o={};for(var i in e)e.hasOwnProperty(i)&&(o[i]=t.util.clone(e[i]));return o;case"Array":return e.map&&e.map(function(e){return t.util.clone(e)})}return e}},languages:{extend:function(e,n){var i=t.util.clone(t.languages[e]);for(var r in n)i[r]=n[r];return i},insertBefore:function(e,n,i,r){r=r||t.languages;var o=r[e];if(2==arguments.length){i=arguments[1];for(var a in i)i.hasOwnProperty(a)&&(o[a]=i[a]);return o}var s={};for(var c in o)if(o.hasOwnProperty(c)){if(c==n)for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a]);s[c]=o[c]}return t.languages.DFS(t.languages,function(t,n){n===r[e]&&t!=e&&(this[t]=s)}),r[e]=s},DFS:function(e,n,i){for(var r in e)e.hasOwnProperty(r)&&(n.call(e,r,e[r],i||r),"Object"===t.util.type(e[r])?t.languages.DFS(e[r],n):"Array"===t.util.type(e[r])&&t.languages.DFS(e[r],n,r))}},plugins:{},highlightAll:function(e,n){for(var i,r=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),o=0;i=r[o++];)t.highlightElement(i,e===!0,n)},highlightElement:function(i,r,o){for(var a,s,c=i;c&&!e.test(c.className);)c=c.parentNode;c&&(a=(c.className.match(e)||[,""])[1],s=t.languages[a]),i.className=i.className.replace(e,"").replace(/\s+/g," ")+" language-"+a,c=i.parentNode,/pre/i.test(c.nodeName)&&(c.className=c.className.replace(e,"").replace(/\s+/g," ")+" language-"+a);var l=i.textContent,u={element:i,language:a,grammar:s,code:l};if(!l||!s)return void t.hooks.run("complete",u);if(t.hooks.run("before-highlight",u),r&&n.Worker){var d=new Worker(t.filename);d.onmessage=function(e){u.highlightedCode=e.data,t.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,o&&o.call(u.element),t.hooks.run("after-highlight",u),t.hooks.run("complete",u)},d.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=t.highlight(u.code,u.grammar,u.language),t.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,o&&o.call(i),t.hooks.run("after-highlight",u),t.hooks.run("complete",u)},highlight:function(e,n,r){var o=t.tokenize(e,n);return i.stringify(t.util.encode(o),r)},tokenize:function(e,n,i){var r=t.Token,o=[e],a=n.rest;if(a){for(var s in a)n[s]=a[s];delete n.rest}e:for(var s in n)if(n.hasOwnProperty(s)&&n[s]){var c=n[s];c="Array"===t.util.type(c)?c:[c];for(var l=0;l<c.length;++l){var u=c[l],d=u.inside,p=!!u.lookbehind,f=0,g=u.alias;u=u.pattern||u;for(var h=0;h<o.length;h++){var m=o[h];if(o.length>e.length)break e;if(!(m instanceof r)){u.lastIndex=0;var b=u.exec(m);if(b){p&&(f=b[1].length);var v=b.index-1+f,b=b[0].slice(f),y=b.length,k=v+y,w=m.slice(0,v+1),x=m.slice(k+1),E=[h,1];w&&E.push(w);var O=new r(s,d?t.tokenize(b,d):b,g);E.push(O),x&&E.push(x),Array.prototype.splice.apply(o,E)}}}}}return o},hooks:{all:{},add:function(e,n){var i=t.hooks.all;i[e]=i[e]||[],i[e].push(n)},run:function(e,n){var i=t.hooks.all[e];if(i&&i.length)for(var r,o=0;r=i[o++];)r(n)}}},i=t.Token=function(e,t,n){this.type=e,this.content=t,this.alias=n};if(i.stringify=function(e,n,r){if("string"==typeof e)return e;if("Array"===t.util.type(e))return e.map(function(t){return i.stringify(t,n,e)}).join("");var o={type:e.type,content:i.stringify(e.content,n,r),tag:"span",classes:["token",e.type],attributes:{},language:n,parent:r};if("comment"==o.type&&(o.attributes.spellcheck="true"),e.alias){var a="Array"===t.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(o.classes,a)}t.hooks.run("wrap",o);var s="";for(var c in o.attributes)s+=(s?" ":"")+c+'="'+(o.attributes[c]||"")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'" '+s+">"+o.content+"</"+o.tag+">"},!n.document)return n.addEventListener?(n.addEventListener("message",function(e){var i=JSON.parse(e.data),r=i.language,o=i.code,a=i.immediateClose;n.postMessage(t.highlight(o,t.languages[r],r)),a&&n.close()},!1),n.Prism):n.Prism;var r=document.getElementsByTagName("script");return r=r[r.length-1],r&&(t.filename=r.src,document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll)),n.Prism}();"undefined"!=typeof e&&e.exports&&(e.exports=i),"undefined"!=typeof t&&(t.Prism=i),i.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=.$<]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},i.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),i.languages.xml=i.languages.markup,i.languages.html=i.languages.markup,i.languages.mathml=i.languages.markup,i.languages.svg=i.languages.markup,i.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,"function":/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},i.languages.css.atrule.inside.rest=i.util.clone(i.languages.css),i.languages.markup&&(i.languages.insertBefore("markup","tag",{style:{pattern:/(<style[\w\W]*?>)[\w\W]*?(?=<\/style>)/i,lookbehind:!0,inside:i.languages.css,alias:"language-css"}}),i.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:i.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:i.languages.css}},alias:"language-css"}},i.languages.markup.tag)),i.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},i.languages.javascript=i.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,"function":/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i}),i.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}}),i.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:i.languages.javascript}},string:/[\s\S]+/}}}),i.languages.markup&&i.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\w\W]*?>)[\w\W]*?(?=<\/script>)/i,lookbehind:!0,inside:i.languages.javascript,alias:"language-javascript"}}),i.languages.js=i.languages.javascript,function(){"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(){var e={js:"javascript",html:"markup",svg:"markup",xml:"markup",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell"};Array.prototype.forEach&&Array.prototype.slice.call(document.querySelectorAll("pre[data-src]")).forEach(function(t){for(var n,r=t.getAttribute("data-src"),o=t,a=/\blang(?:uage)?-(?!\*)(\w+)\b/i;o&&!a.test(o.className);)o=o.parentNode;if(o&&(n=(t.className.match(a)||[,""])[1]),!n){var s=(r.match(/\.(\w+)$/)||[,""])[1];n=e[s]||s}var c=document.createElement("code");c.className="language-"+n,t.textContent="",c.textContent="Loading…",t.appendChild(c);var l=new XMLHttpRequest;l.open("GET",r,!0),l.onreadystatechange=function(){4==l.readyState&&(l.status<400&&l.responseText?(c.textContent=l.responseText,i.highlightElement(c)):l.status>=400?c.textContent="✖ Error "+l.status+" while fetching file: "+l.statusText:c.textContent="✖ Error: File does not exist or is empty")},l.send(null)})},self.Prism.fileHighlight())}()}).call(t,function(){return this}())},function(e,t){var n=function(e,t){var n=1===(e.parent||e).nodeType?e.parent||e:document.querySelector(e.parent||e),i=[].filter.call("string"==typeof e.slides?n.querySelectorAll(e.slides):e.slides||n.children,function(e){return"SCRIPT"!==e.nodeName}),r=i[0],o={},a=function(e,t){i[e]&&(d("deactivate",p(r,t)),r=i[e],d("activate",p(r,t)))},s=function(e,t){return arguments.length?void(d("slide",p(i[e],t))&&a(e,t)):i.indexOf(r)},c=function(e,t){var n=i.indexOf(r)+e;d(e>0?"next":"prev",p(r,t))&&a(n,t)},l=function(e,t){return(o[e]||(o[e]=[])).push(t),u.bind(null,e,t)},u=function(e,t){o[e]=(o[e]||[]).filter(function(e){return e!==t})},d=function(e,t){return(o[e]||[]).reduce(function(e,n){return e&&n(t)!==!1},!0)},p=function(e,t){return t=t||{},t.index=i.indexOf(e),t.slide=e,t},f={on:l,off:u,fire:d,slide:s,next:c.bind(null,1),prev:c.bind(null,-1),parent:n,slides:i};return(t||[]).forEach(function(e){e(f)}),a(0),f};e.exports={from:n}},function(e,t,n){var i,i;!function(t){e.exports=t()}(function(){return function e(t,n,r){function o(s,c){if(!n[s]){if(!t[s]){var l="function"==typeof i&&i;if(!c&&l)return i(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return o(n?n:e)},u,u.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){var i=e("bespoke-classes"),r=e("insert-css");t.exports=function(){var e='/*! normalize.css v3.0.0 | MIT License | git.io/normalize */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background:0 0}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b{font-weight:700}dfn{font-style:italic}h1{font-size:2em}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box}pre{overflow:auto}code,kbd,pre,samp{font-size:1em}kbd,pre,samp{font-family:monospace,monospace}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th,*{padding:0}*{margin:0}html{-webkit-text-size-adjust:auto;-ms-text-size-adjust:auto;text-size-adjust:auto}.bespoke-parent{font-size:1.5em;background:#111;color:#ddd;font-family:futura,helvetica,arial,arial,sans-serif;overflow:hidden;text-align:center;-webkit-transition:background 1s ease;transition:background 1s ease;background-position:50% 50%}.bespoke-parent,.bespoke-scale-parent{position:absolute;top:0;left:0;right:0;bottom:0}.bespoke-scale-parent{pointer-events:none;z-index:1}.bespoke-scale-parent .bespoke-active{pointer-events:auto}.bespoke-slide{-webkit-transition:opacity .5s ease;transition:opacity .5s ease;width:940px;height:480px;position:absolute;top:50%;left:50%;margin-left:-470px;margin-top:-240px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;z-index:1}.bespoke-active{-webkit-transition-delay:.5s;transition-delay:.5s}.bespoke-active[data-bespoke-backdrop]{-webkit-transition-delay:.75s;transition-delay:.75s}.bespoke-inactive{opacity:0;pointer-events:none}.bespoke-backdrop{-webkit-transition:opacity 1s ease;position:absolute;top:0;left:0;right:0;bottom:0}.bespoke-progress-parent{position:absolute;top:0;left:0;right:0;height:.3vw;z-index:1}.bespoke-progress-bar{background:#ddd;position:absolute;top:0;left:0;height:100%;-webkit-transition:width 1s ease;transition:width 1s ease}.bespoke-bullet{-webkit-transition:opacity .3s ease;transition:opacity .3s ease}.bespoke-bullet-inactive{opacity:0}strong{font-weight:400}hr{width:50%;margin:1rem auto;height:1px;border:0;background:#ddd}h3,p,li{padding-left:20px;padding-right:20px}h3,h4,p,li,pre{font-weight:200}h1{line-height:1.4em;padding:1em;border:1px solid #ddd;border-left-width:0;border-right-width:0;min-width:8em}h1,h2{letter-spacing:.3em;text-transform:uppercase;font-weight:400;margin:.17em 0;position:relative}h2{line-height:1.1em;padding:0 0 0 .3em}h3{font-family:didot,times new roman,serif;font-style:italic;font-size:1.2em;line-height:1.6em;margin:.5em 0}h4{text-transform:uppercase;font-size:.8em;line-height:1.8em;letter-spacing:.3em;margin:1em 0}ul,ol{padding:0;margin:0;text-align:left}li{list-style:none;margin:.2em;font-style:normal;-webkit-transform:translateX(-6px);-ms-transform:translateX(-6px);transform:translateX(-6px)}li:before{content:\'\\2014\';margin-right:4px}pre{background:none!important}code{font-family:prestige elite std,consolas,courier new,monospace!important;font-style:normal;font-weight:200!important;text-align:left}a{padding-left:.3em;color:currentColor;text-decoration:none;border-bottom:1px solid currentColor}.emphatic{background:#f30}.single-words{word-spacing:9999px;line-height:2.9em;overflow:hidden}.bespoke-backdrop{opacity:0;-webkit-transition:opacity 1s ease,-webkit-transform 6s ease;transition:opacity 1s ease,transform 6s ease;background-size:cover;background-position:50% 50%;-webkit-transform:translateZ(0)scale(1.3);transform:translateZ(0)scale(1.3)}.bespoke-backdrop-active,.bespoke-backdrop-before{-webkit-transform:translateZ(0);transform:translateZ(0)}.bespoke-backdrop-before{-webkit-transition-delay:.2s;transition-delay:.2s}.bespoke-backdrop-active{opacity:.5}';return r(e,{prepend:!0}),function(e){i()(e)}}},{"bespoke-classes":2,"insert-css":3}],2:[function(e,t,n){t.exports=function(){return function(e){var t=function(e,t){e.classList.add("bespoke-"+t)},n=function(e,t){e.className=e.className.replace(new RegExp("bespoke-"+t+"(\\s|$)","g")," ").trim()},i=function(i,r){var o=e.slides[e.slide()],a=r-e.slide(),s=a>0?"after":"before";["before(-\\d+)?","after(-\\d+)?","active","inactive"].map(n.bind(null,i)),i!==o&&["inactive",s,s+"-"+Math.abs(a)].map(t.bind(null,i))};t(e.parent,"parent"),e.slides.map(function(e){t(e,"slide")}),e.on("activate",function(r){e.slides.map(i),t(r.slide,"active"),n(r.slide,"inactive")})}}},{}],3:[function(e,t,n){var i={};t.exports=function(e,t){if(!i[e]){i[e]=!0;var n=document.createElement("style");n.setAttribute("type","text/css"),"textContent"in n?n.textContent=e:n.styleSheet.cssText=e;var r=document.getElementsByTagName("head")[0];t&&t.prepend?r.insertBefore(n,r.childNodes[0]):r.appendChild(n)}}},{}]},{},[1])(1)})},function(e,t){e.exports=function(e){return function(t){var n="vertical"!==e;document.addEventListener("keydown",function(e){(34==e.which||32==e.which&&!e.shiftKey||n&&39==e.which||!n&&40==e.which)&&t.next(),(33==e.which||32==e.which&&e.shiftKey||n&&37==e.which||!n&&38==e.which)&&t.prev()})}}},function(e,t){e.exports=function(e){return function(t){var n,i,r="vertical"==e?"Y":"X";t.parent.addEventListener("touchstart",function(e){1==e.touches.length&&(n=e.touches[0]["page"+r],i=0)}),t.parent.addEventListener("touchmove",function(e){1==e.touches.length&&(e.preventDefault(),i=e.touches[0]["page"+r]-n)}),t.parent.addEventListener("touchend",function(){Math.abs(i)>50&&t[i>0?"prev":"next"]()})}}},function(e,t){e.exports=function(e){return function(t){var n,i,r=t.slides.map(function(t){return[].slice.call(t.querySelectorAll("string"==typeof e?e:"[data-bespoke-bullet]"),0)}),o=function(){var e=n+1;return c(1)?(s(n,i+1),!1):void(r[e]&&s(e,0))},a=function(){var e=n-1;return c(-1)?(s(n,i-1),!1):void(r[e]&&s(e,r[e].length-1))},s=function(e,t){n=e,i=t,r.forEach(function(n,i){n.forEach(function(n,r){n.classList.add("bespoke-bullet"),e>i||i===e&&t>=r?(n.classList.add("bespoke-bullet-active"),n.classList.remove("bespoke-bullet-inactive")):(n.classList.add("bespoke-bullet-inactive"),n.classList.remove("bespoke-bullet-active")),i===e&&r===t?n.classList.add("bespoke-bullet-current"):n.classList.remove("bespoke-bullet-current")})})},c=function(e){return void 0!==r[n][i+e]};t.on("next",o),t.on("prev",a),t.on("slide",function(e){s(e.index,0)}),s(0,0)}}},function(e,t){e.exports=function(){return function(e){function t(t){var n=t.getAttribute("data-bespoke-backdrop");if(n){var i=document.createElement("div");return i.className=n,i.classList.add("bespoke-backdrop"),e.parent.appendChild(i),i}}function n(t){if(t){var n=o.indexOf(t),a=e.slide();i(t,"active"),i(t,"inactive"),i(t,"before"),i(t,"after"),n!==a?(r(t,"inactive"),r(t,a>n?"before":"after")):r(t,"active")}}function i(e,t){e.classList.remove("bespoke-backdrop-"+t)}function r(e,t){e.classList.add("bespoke-backdrop-"+t)}var o;o=e.slides.map(t),e.on("activate",function(){o.forEach(n)})}}},function(e,t){e.exports=function(e){return function(t){var n=t.parent,i=t.slides[0],r=i.offsetHeight,o=i.offsetWidth,a="zoom"===e||"zoom"in n.style&&"transform"!==e,s=function(e){var t=document.createElement("div");return t.className="bespoke-scale-parent",e.parentNode.insertBefore(t,e),t.appendChild(e),t},c=a?t.slides:t.slides.map(s),l=function(e){var t="Moz Webkit O ms".split(" ");return t.reduce(function(t,i){return i+e in n.style?i+e:t},e.toLowerCase())}("Transform"),u=a?function(e,t){t.style.zoom=e}:function(e,t){t.style[l]="scale("+e+")"},d=function(){var e=n.offsetWidth/o,t=n.offsetHeight/r;c.forEach(u.bind(null,Math.min(e,t)))};window.addEventListener("resize",d),d()}}},function(e,t){e.exports=function(){return function(e){var t=function(){var t=window.location.hash.slice(1),i=parseInt(t,10);t&&(i?n(i-1):e.slides.forEach(function(e,i){e.getAttribute("data-bespoke-hash")===t&&n(i)}))},n=function(t){var n=t>-1&&t<e.slides.length?t:0;n!==e.slide()&&e.slide(n)};setTimeout(function(){t(),e.on("activate",function(e){var t=e.slide.getAttribute("data-bespoke-hash");window.location.hash=t||e.index+1}),window.addEventListener("hashchange",t)},0)}}},function(e,t){e.exports=function(e){return function(t){var n=document.createElement("div"),i=document.createElement("div"),r="vertical"===e?"height":"width";n.className="bespoke-progress-parent",i.className="bespoke-progress-bar",n.appendChild(i),t.parent.appendChild(n),t.on("activate",function(e){i.style[r]=100*e.index/(t.slides.length-1)+"%"})}}},function(e,t,n){var i="indexfinger",r=function(e){return e("return this")()}(Function),o=r.bespoke&&r.bespoke.plugins&&r.bespoke.plugins.convenient||n(12),a=o.builder(i),s=function(e){var t=function(e){var t=(a.activateDeck(e),{}),n=null,i=-1,r={enableActiveSlideListener:function(){t.saveActiveSlide=this.on("activate",r.saveActiveSlide.bind(this))},saveActiveSlide:function(e){n=e.slide,i=e.index},getActiveSlide:function(){return n},getActiveSlideIndex:function(){return i}},o=function(){e.getActiveSlide=r.getActiveSlide.bind(e),e.getActiveSlideIndex=r.getActiveSlideIndex.bind(e)},s=function(){r.enableActiveSlideListener.call(e)},c=function(){o(),s()};c()};return t};e.exports=s},function(e,t){var n,i="convenient",r=function(e){return e("return this")()}(Function),o={logger:{log:function(){console.log.apply(console,arguments)}}},a=function(){var e={};e.logger={},e.logger.log=r.convenientOptions&&r.convenientOptions.logger&&r.convenientOptions.logger.log||o.logger.log,r.convenientOptions=e},s={},c=[],l=function(e){if(!e)throw n.generateErrorObject("deck must be defined.");var t=c.some(function(t){return t.deck===e});return t},u=function(e){var t=l(e);t||c.push({deck:e,storage:{}})},d=function(e,t){if(!e)throw n.generateErrorObject("pluginName must be defined.");if(!t)throw n.generateErrorObject("deck must be defined.");var i=s.getDeckStorage(t),r=!(!i||!i[e]);return r},p=function(e,t){if(!e)throw n.generateErrorObject("pluginName must be defined.");if(!t)throw n.generateErrorObject("deck must be defined.");var i=s.getDeckStorage(t);i||(u(t),i=s.getDeckStorage(t)),i[e]={}},f=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},g=function(){a()};s.builder=function(e){if(!e)throw n.generateErrorObject("The plugin options were not properly defined.");if("string"==typeof e&&(e={pluginName:e}),"string"!=typeof e.pluginName)throw n.generateErrorObject("The plugin name was not properly defined.");var t={},i="bespoke."+e.pluginName,o=function(e){return new Error(i+": "+e)},a=e.pluginName,c=function(e){return a+"."+e},l=function(e,t,n,i,r,o){var a=s.createEventData.call(e,t,n,i,r,o);return a},u=function(e,t,n,i,r){return e.fire(c(t),l(e,a,t,n,i,r))},f=function(){var e=[i];r.convenientOptions.logger.log.apply(r.convenientOptions.logger.log,e.concat(s.copyArray(arguments)))},g=function(t){var i=d(e.pluginName,t);if(i)throw n.generateErrorObject("The '"+e.pluginName+"' plugin has already been activated for this deck, can't activate it twice.")},h=function(e){var n={};return n.createEventData=t.createEventData.bind(this,e),n.fire=t.fire.bind(this,e),n.getStorage=t.getStorage.bind(this,e),n.log=t.log.bind(this,e),n},m=function(t){var n;return g(t),p(e.pluginName,t),n=h(t)},b=function(){t.createEventData=l.bind(this),t.generateErrorObject=o.bind(this),t.fire=u.bind(this),t.log=f.bind(this),t.activateDeck=m.bind(this),t.getStorage=s.getDeckPluginStorage.bind(this,e.pluginName)},v=function(){b()};return v(),t},s.getDeckStorage=function(e){if(!e)throw n.generateErrorObject("deck must be defined.");var t=null;return c.some(function(n){return n.deck===e?(t=n.storage,!0):!1}),t},s.getDeckPluginStorage=function(e,t){if(!e)throw n.generateErrorObject("pluginName must be defined.");if(!t)throw n.generateErrorObject("deck must be defined.");var i=s.getDeckStorage(t);if(!i)throw n.generateErrorObject("storage was not initiated for this deck.");return i[e]},s.createEventData=function(e,t,n,i,r){return r=r||{},r.eventNamespace=e||null,r.eventName=t||null,r.innerEvent=n||null,f(i)?(r.index=i,r.slide=this.slides[i]):(r.index=this.slides.indexOf(i),r.slide=i),r},s.copyArray=function(e){return[].slice.call(e,0)},n=s.builder(i),g(),e.exports=s},function(e,t,n){var i="secondary",r=function(e){return e("return this")()}(Function),o=r.bespoke&&r.bespoke.plugins&&r.bespoke.plugins.convenient||n(12),a=o.builder(i),s=(r.bespoke&&r.bespoke.plugins&&r.bespoke.plugins.indexfinger||n(11),{S:83}),c={notes:"aside",keys:{toggle:s.S}},l=function(e,t){var n,i;return void 0===t&&(t=e,e=0),n=t-e,i=e+Math.floor(Math.random()*n)},u=i+"-window-",d=function(){var e=l(1e3,1e4),t=u+e;return t},p=function(e){e.body.innerHTML="<h1>Notes</h1><div id='notes'></div>"},f=function(e){var t=function(t){var n=a.activateDeck(t),i={},r={getNotesElement:function(){return this.secondary.window&&this.secondary.window.document&&this.secondary.window.document.getElementById("notes")},isOpen:function(){var e=this.secondary,t=e.window,n=!(void 0===e||null===t||t.closed===!0||t.opener!==window||null===this.secondary.getNotesElement());return n},open:function(){return this.secondary.isOpen()||(this.secondary.window=window.open(),p(this.secondary.window.document)),this.secondary.isOpen()},close:function(){return this.secondary.isOpen()&&this.secondary.window.close(),!this.secondary.isOpen()},focus:function(){return this.secondary.isOpen()&&this.secondary.window.focus(),this.secondary.isOpen()},toggle:function(){return this.secondary.isOpen()?this.secondary.close():this.secondary.open(),this.secondary.isOpen()},synchronize:function(){var t,n,i,r;return this.secondary.isOpen()?(t=this.secondary.getNotesElement(),n=this.getActiveSlide(),i=o.copyArray(n.querySelectorAll(e.notes)),r=i.reduce(function(e,t){return e+t.outerHTML},""),t.innerHTML=r,this.secondary.isOpen()):!1}},s=function(){t.secondary={window:null,secondaryWindowName:d(),getNotesElement:r.getNotesElement.bind(t),isOpen:r.isOpen.bind(t),open:r.open.bind(t),close:r.close.bind(t),focus:r.focus.bind(t),toggle:r.toggle.bind(t),synchronize:r.synchronize.bind(t)}},l=function(){var t={};e=e||{},t.keys={},t.keys.toggle=e.keys&&e.keys.toggle||c.keys.toggle,t.notes=e.notes||c.notes,e=t},u=function(i){var r=!1;return i.altKey||i.ctrlKey||i.metaKey||i.shiftKey||(r=r||i.which===e.keys.toggle&&n.fire("toggle",i)&&t.secondary.toggle()&&t.secondary.synchronize()),r&&i.preventDefault(),!r},f=function(){return t.secondary.close(),null},g=function(){t.secondary.synchronize()},h=function(){window.onbeforeunload=f,document.addEventListener("keydown",u,!1),i.activate=t.on("activate",g)},m=function(){l(),s(),h()};m()};return t};e.exports=f}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJ3ZWJwYWNrL2Jvb3RzdHJhcCA5M2QxYjgyMDA2Y2I3NTMxMDA0ZSIsIm5vZGVfbW9kdWxlcy9AYWNoaW5nYnJhaW4vc2xpZGVzL3RlbXAvbWFpbi5qcyIsIm5vZGVfbW9kdWxlcy9wcmlzbWpzL3ByaXNtLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2UvbGliL2Jlc3Bva2UuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS10aGVtZS1uZWJ1bGEvZGlzdC9iZXNwb2tlLXRoZW1lLW5lYnVsYS5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLWtleXMvbGliL2Jlc3Bva2Uta2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLXRvdWNoL2xpYi9iZXNwb2tlLXRvdWNoLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2UtYnVsbGV0cy9saWIvYmVzcG9rZS1idWxsZXRzLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2UtYmFja2Ryb3AvbGliL2Jlc3Bva2UtYmFja2Ryb3AuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS1zY2FsZS9saWIvYmVzcG9rZS1zY2FsZS5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLWhhc2gvbGliL2Jlc3Bva2UtaGFzaC5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLXByb2dyZXNzL2xpYi9iZXNwb2tlLXByb2dyZXNzLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2UtaW5kZXhmaW5nZXIvbGliL2Jlc3Bva2UtaW5kZXhmaW5nZXIuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS1jb252ZW5pZW50L2xpYi9iZXNwb2tlLWNvbnZlbmllbnQuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS1zZWNvbmRhcnkvbGliL2Jlc3Bva2Utc2Vjb25kYXJ5LmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsImJlc3Bva2UiLCJ0aGVtZSIsImtleXMiLCJ0b3VjaCIsImJ1bGxldHMiLCJiYWNrZHJvcCIsInNjYWxlIiwiaGFzaCIsInByb2dyZXNzIiwiaW5kZXhGaW5nZXIiLCJzZWNvbmRhcnkiLCJwbHVnaW5zIiwiZSIsIkVycm9yIiwiY29kZSIsImVycm9yIiwiZGVjayIsImZyb20iLCJnbG9iYWwiLCJfc2VsZiIsIndpbmRvdyIsIldvcmtlckdsb2JhbFNjb3BlIiwic2VsZiIsIlByaXNtIiwibGFuZyIsIl8iLCJ1dGlsIiwiZW5jb2RlIiwidG9rZW5zIiwiVG9rZW4iLCJ0eXBlIiwiY29udGVudCIsImFsaWFzIiwibWFwIiwicmVwbGFjZSIsIm8iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsIm1hdGNoIiwiY2xvbmUiLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsInYiLCJsYW5ndWFnZXMiLCJleHRlbmQiLCJyZWRlZiIsImluc2VydEJlZm9yZSIsImluc2lkZSIsImJlZm9yZSIsImluc2VydCIsInJvb3QiLCJncmFtbWFyIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwibmV3VG9rZW4iLCJyZXQiLCJ0b2tlbiIsIkRGUyIsInZhbHVlIiwidGhpcyIsImNhbGxiYWNrIiwiaSIsImhpZ2hsaWdodEFsbCIsImFzeW5jIiwiZWxlbWVudCIsImVsZW1lbnRzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGlnaGxpZ2h0RWxlbWVudCIsImxhbmd1YWdlIiwicGFyZW50IiwidGVzdCIsImNsYXNzTmFtZSIsInBhcmVudE5vZGUiLCJub2RlTmFtZSIsInRleHRDb250ZW50IiwiZW52IiwiaG9va3MiLCJydW4iLCJXb3JrZXIiLCJ3b3JrZXIiLCJmaWxlbmFtZSIsIm9ubWVzc2FnZSIsImV2dCIsImhpZ2hsaWdodGVkQ29kZSIsImRhdGEiLCJpbm5lckhUTUwiLCJwb3N0TWVzc2FnZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJpbW1lZGlhdGVDbG9zZSIsImhpZ2hsaWdodCIsInRleHQiLCJ0b2tlbml6ZSIsInN0cmFyciIsInJlc3QiLCJ0b2tlbmxvb3AiLCJwYXR0ZXJucyIsImoiLCJwYXR0ZXJuIiwibG9va2JlaGluZCIsImxvb2tiZWhpbmRMZW5ndGgiLCJzdHIiLCJsYXN0SW5kZXgiLCJleGVjIiwiaW5kZXgiLCJzbGljZSIsImxlbiIsInRvIiwiYWZ0ZXIiLCJhcmdzIiwicHVzaCIsIndyYXBwZWQiLCJBcnJheSIsInNwbGljZSIsImFwcGx5IiwiYWxsIiwiYWRkIiwibmFtZSIsImNhbGxiYWNrcyIsImpvaW4iLCJ0YWciLCJjbGFzc2VzIiwiYXR0cmlidXRlcyIsImFsaWFzZXMiLCJhZGRFdmVudExpc3RlbmVyIiwibWVzc2FnZSIsInBhcnNlIiwiY2xvc2UiLCJzY3JpcHQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNyYyIsImhhc0F0dHJpYnV0ZSIsIm1hcmt1cCIsImNvbW1lbnQiLCJwcm9sb2ciLCJkb2N0eXBlIiwiY2RhdGEiLCJwdW5jdHVhdGlvbiIsIm5hbWVzcGFjZSIsImF0dHItdmFsdWUiLCJhdHRyLW5hbWUiLCJlbnRpdHkiLCJ4bWwiLCJodG1sIiwibWF0aG1sIiwic3ZnIiwiY3NzIiwiYXRydWxlIiwicnVsZSIsInVybCIsInNlbGVjdG9yIiwic3RyaW5nIiwicHJvcGVydHkiLCJpbXBvcnRhbnQiLCJmdW5jdGlvbiIsInN0eWxlIiwic3R5bGUtYXR0ciIsImNsaWtlIiwiY2xhc3MtbmFtZSIsImtleXdvcmQiLCJib29sZWFuIiwibnVtYmVyIiwib3BlcmF0b3IiLCJqYXZhc2NyaXB0IiwicmVnZXgiLCJ0ZW1wbGF0ZS1zdHJpbmciLCJpbnRlcnBvbGF0aW9uIiwiaW50ZXJwb2xhdGlvbi1wdW5jdHVhdGlvbiIsImpzIiwicXVlcnlTZWxlY3RvciIsImZpbGVIaWdobGlnaHQiLCJFeHRlbnNpb25zIiwicHkiLCJyYiIsInBzMSIsInBzbTEiLCJmb3JFYWNoIiwicHJlIiwiZ2V0QXR0cmlidXRlIiwiZXh0ZW5zaW9uIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInJlc3BvbnNlVGV4dCIsInN0YXR1c1RleHQiLCJzZW5kIiwib3B0cyIsIm5vZGVUeXBlIiwic2xpZGVzIiwiZmlsdGVyIiwiY2hpbGRyZW4iLCJlbCIsImFjdGl2ZVNsaWRlIiwibGlzdGVuZXJzIiwiYWN0aXZhdGUiLCJjdXN0b21EYXRhIiwiZmlyZSIsImNyZWF0ZUV2ZW50RGF0YSIsInNsaWRlIiwiaW5kZXhPZiIsInN0ZXAiLCJvZmZzZXQiLCJzbGlkZUluZGV4Iiwib24iLCJldmVudE5hbWUiLCJvZmYiLCJiaW5kIiwibGlzdGVuZXIiLCJldmVudERhdGEiLCJyZWR1Y2UiLCJub3RDYW5jZWxsZWQiLCJuZXh0IiwicHJldiIsInBsdWdpbiIsInJlcXVpcmUiLCJ0IiwibiIsInIiLCJzIiwidSIsImEiLCJmIiwxLCJfZGVyZXFfIiwiaW5zZXJ0Q3NzIiwicHJlcGVuZCIsImJlc3Bva2UtY2xhc3NlcyIsImluc2VydC1jc3MiLDIsImFkZENsYXNzIiwiY2xzIiwiY2xhc3NMaXN0IiwicmVtb3ZlQ2xhc3MiLCJSZWdFeHAiLCJ0cmltIiwiZGVhY3RpdmF0ZSIsIm9mZnNldENsYXNzIiwiTWF0aCIsImFicyIsMywiaW5zZXJ0ZWQiLCJvcHRpb25zIiwiZWxlbSIsInNldEF0dHJpYnV0ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiaGVhZCIsImNoaWxkTm9kZXMiLCJpc0hvcml6b250YWwiLCJ3aGljaCIsInNoaWZ0S2V5Iiwic3RhcnRQb3NpdGlvbiIsImRlbHRhIiwiYXhpcyIsInRvdWNoZXMiLCJwcmV2ZW50RGVmYXVsdCIsImFjdGl2ZVNsaWRlSW5kZXgiLCJhY3RpdmVCdWxsZXRJbmRleCIsIm5leHRTbGlkZUluZGV4IiwiYWN0aXZlU2xpZGVIYXNCdWxsZXRCeU9mZnNldCIsImFjdGl2YXRlQnVsbGV0IiwicHJldlNsaWRlSW5kZXgiLCJidWxsZXRJbmRleCIsImJ1bGxldCIsImIiLCJyZW1vdmUiLCJ1bmRlZmluZWQiLCJjcmVhdGVCYWNrZHJvcEZvclNsaWRlIiwiYmFja2Ryb3BBdHRyaWJ1dGUiLCJ1cGRhdGVDbGFzc2VzIiwiYmFja2Ryb3BzIiwiY3VycmVudEluZGV4IiwiZmlyc3RTbGlkZSIsInNsaWRlSGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0Iiwic2xpZGVXaWR0aCIsIm9mZnNldFdpZHRoIiwidXNlWm9vbSIsIndyYXAiLCJ3cmFwcGVyIiwidHJhbnNmb3JtUHJvcGVydHkiLCJwcmVmaXhlcyIsInNwbGl0IiwiY3VycmVudFByb3BlcnR5IiwicHJlZml4IiwidG9Mb3dlckNhc2UiLCJyYXRpbyIsInpvb20iLCJzY2FsZUFsbCIsInhTY2FsZSIsInlTY2FsZSIsIm1pbiIsInBhcnNlSGFzaCIsImxvY2F0aW9uIiwic2xpZGVOdW1iZXJPck5hbWUiLCJwYXJzZUludCIsImFjdGl2YXRlU2xpZGUiLCJpbmRleFRvQWN0aXZhdGUiLCJzZXRUaW1lb3V0Iiwic2xpZGVOYW1lIiwicHJvZ3Jlc3NQYXJlbnQiLCJwcm9ncmVzc0JhciIsInByb3AiLCJwbHVnaW5OYW1lIiwiYnJvd3Nlckdsb2JhbCIsIkZ1bmN0aW9uIiwiY29udmVuaWVudCIsImN2IiwiYnVpbGRlciIsImRlY2tlciIsImFjdGl2YXRlRGVjayIsInVuYm91bmRBY3RpdmVTbGlkZURlY2tNZXRob2RzIiwiZW5hYmxlQWN0aXZlU2xpZGVMaXN0ZW5lciIsInNhdmVBY3RpdmVTbGlkZSIsImdldEFjdGl2ZVNsaWRlIiwiZ2V0QWN0aXZlU2xpZGVJbmRleCIsInJlZ2lzdGVyRGVja0V4dGVuc2lvbnMiLCJlbmFibGUiLCJpbml0IiwiZGVmYXVsdHMiLCJsb2dnZXIiLCJsb2ciLCJjb25zb2xlIiwiaW5pdE9wdGlvbnMiLCJtZXJnZWQiLCJjb252ZW5pZW50T3B0aW9ucyIsImRlY2tzU3RvcmFnZXMiLCJpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVjayIsImdlbmVyYXRlRXJyb3JPYmplY3QiLCJkZWNrQWxyZWFkeVN0b3JlZCIsInNvbWUiLCJkZWNrU3RvcmFnZSIsInN0b3JlRGVjayIsInN0b3JhZ2UiLCJpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVja0FuZFBsdWdpbiIsImdldERlY2tTdG9yYWdlIiwiaXNTdG9yYWdlSW5pdGlhdGVkIiwiaW5pdGlhdGVEZWNrUGx1Z2luU3RvcmFnZSIsImlzTnVtYmVyIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaXNGaW5pdGUiLCJleHRlcm5hbCIsImV2ZW50TmFtZXNwYWNlIiwiZXZlbnRJbk5hbWVzcGFjZSIsImlubmVyRXZlbnQiLCJyZXN1bHQiLCJjb25jYXQiLCJjb3B5QXJyYXkiLCJ0aHJvd0lmUGx1Z2luV2FzQWxyZWFkeUluaXRpYXRlZEZvckRlY2siLCJiaW5kVG9EZWNrIiwiZGVja0JvdW5kIiwiZ2V0U3RvcmFnZSIsImJpbmRFeHRlcm5hbCIsImdldERlY2tQbHVnaW5TdG9yYWdlIiwiYXJyIiwiS2V5Q29uc3RhbnRzIiwiaW5kZXhmaW5nZXIiLCJTIiwibm90ZXMiLCJ0b2dnbGUiLCJyYW5kb21JbnRlZ2VyIiwiZGlmZiIsInJuZCIsImZsb29yIiwicmFuZG9tIiwiYmFzZVdpbmRvd05hbWUiLCJnZW5lcmF0ZVdpbmRvd05hbWUiLCJ3aW5kb3dOYW1lIiwiaW5pdGlhbGl6ZVNlY29uZGFyeVdpbmRvd0NvbnRlbnRzIiwiZG9jIiwiYm9keSIsImN2Qm91bmRUb0RlY2siLCJ1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMiLCJnZXROb3Rlc0VsZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlzT3BlbiIsInciLCJjbG9zZWQiLCJvcGVuZXIiLCJmb2N1cyIsInN5bmNocm9uaXplIiwic2xpZGVOb3RlcyIsImFsbE5vdGVzIiwibm90ZXNIdG1sIiwic2xpZGVOb3RlIiwib3V0ZXJIVE1MIiwic2Vjb25kYXJ5V2luZG93TmFtZSIsImtleURvd25MaXN0ZW5lciIsImV2ZW50SGFuZGxlZCIsImFsdEtleSIsImN0cmxLZXkiLCJtZXRhS2V5Iiwib25CZWZvcmVVbmxvYWQiLCJvbkFjdGl2YXRlIiwib25iZWZvcmV1bmxvYWQiXSwibWFwcGluZ3MiOiJBQUFBLGNBQVMsU0FBVUEsR0FBUyxRQ0k1QkMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BSkEsSUFPQUMsR0FBQUYsRUFBQUQsSUFDQUUsV0FDQUUsR0FBQUosRUFDQUssUUFBQSxFQVZBLE9BQUFQLEdBY0FFLEdBQUFNLEtBQUFILEVBQUFELFFBQUFDLEVBQUFBLEVBQUFELFFBQUFILEdBZEFJLEVBaUJBRSxRQUFBLEVBR0FGLEVBQUFELFFBdkJBLEdBQUFELEtERDRCLE9BQUFGLEdDNkI1QlEsRUFBQVQsRUQ3QjRCQyxFQ2dDNUJTLEVBQUFQLEVEaEM0QkYsRUNtQzVCVSxFQUFBLEdBR0FWLEVBQUEsS0RNTSxTQUFTSSxFQUFRRCxFQUFTSCxHRTVDaENBLEVBQUEsRUFDQSxJQUFBVyxHQUFBWCxFQUFBLEdBQ0FZLEVBQUFaLEVBQUEsR0FDQWEsRUFBQWIsRUFBQSxHQUNBYyxFQUFBZCxFQUFBLEdBQ0FlLEVBQUFmLEVBQUEsR0FDQWdCLEVBQUFoQixFQUFBLEdBQ0FpQixFQUFBakIsRUFBQSxHQUNBa0IsRUFBQWxCLEVBQUEsR0FDQW1CLEVBQUFuQixFQUFBLElBQ0FvQixFQUFBcEIsRUFBQSxJQUNBcUIsRUFBQXJCLEVBQUEsSUFFQXNCLEdBQ0FWLElBQ0FDLElBQ0FDLElBQ0FDLEVBQUEsZUFDQUMsSUFDQUMsSUFDQUMsSUFDQUMsSUFDQUMsSUFDQUMsSUFHQSxLQUNBckIsR0FBQSxXQUFBLEdBQUF1QixHQUFBLEdBQUFDLE9BQUEsK0JBQUEsTUFBQUQsR0FBQUUsS0FBQSxtQkFBQUYsTUFBQUQsR0FDQyxNQUFBSSxJQUlELEdBQUFDLEdBQUFoQixFQUFBaUIsS0FBQSxVQUFBTixFQUVBLEtBQ0F0QixHQUFBLFdBQUEsR0FBQXVCLEdBQUEsR0FBQUMsT0FBQSw0QkFBQSxNQUFBRCxHQUFB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QTNQLE1BQUFvRixLQUFBck0sR0FDQW1YLE1BQUFQLEVBQUFPLE1BQUE5SyxLQUFBck0sR0FDQStWLE9BQUFhLEVBQUFiLE9BQUExSixLQUFBck0sR0FDQW9YLFlBQUFSLEVBQUFRLFlBQUEvSyxLQUFBck0sS0FJQTBULEVBQUEsV0FHQSxHQUFBQyxLQUVBbkYsR0FBQUEsTUFFQW1GLEVBQUF6VSxRQUNBeVUsRUFBQXpVLEtBQUE2VyxPQUFBdkgsRUFBQXRQLE1BQUFzUCxFQUFBdFAsS0FBQTZXLFFBQUF6QyxFQUFBcFUsS0FBQTZXLE9BRUFwQyxFQUFBbUMsTUFBQXRILEVBQUFzSCxPQUFBeEMsRUFBQXdDLE1BRUF0SCxFQUFBbUYsR0FHQWdFLEVBQUEsU0FBQS9YLEdBQ0EsR0FBQWdZLElBQUEsQ0FXQSxPQVJBaFksR0FBQWlZLFFBQUFqWSxFQUFBa1ksU0FBQWxZLEVBQUFtWSxTQUFBblksRUFBQXFQLFdBQ0EySSxFQUFBQSxHQUFBaFksRUFBQW9QLFFBQUFSLEVBQUF0UCxLQUFBNlcsUUFBQVksRUFBQWhMLEtBQUEsU0FBQS9MLElBQUFJLEVBQUFOLFVBQUFxVyxVQUFBL1YsRUFBQU4sVUFBQTBYLGVBR0FRLEdBQ0FoWSxFQUFBMFAsa0JBR0FzSSxHQUdBSSxFQUFBLFdBR0EsTUFGQWhZLEdBQUFOLFVBQUF1SCxRQUVBLE1BR0FnUixFQUFBLFdBQ0FqWSxFQUFBTixVQUFBMFgsZUFHQWhFLEVBQUEsV0FFQWhULE9BQUE4WCxlQUFBRixFQUVBN1UsU0FBQTJELGlCQUFBLFVBQUE2USxHQUFBLEdBQ0F2TCxFQUFBWCxTQUFBekwsRUFBQWtNLEdBQUEsV0FBQStMLElBR0E1RSxFQUFBLFdBQ0FLLElBQ0FQLElBQ0FDLElBR0FDLEtBR0EsT0FBQVQsR0FHQW5VLEdBQUFELFFBQUFvTyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEpXG5cdGNvbnN0IGJlc3Bva2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpXG5cdGNvbnN0IHRoZW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKVxuXHRjb25zdCBrZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KVxuXHRjb25zdCB0b3VjaCA9IF9fd2VicGFja19yZXF1aXJlX18oNSlcblx0Y29uc3QgYnVsbGV0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNilcblx0Y29uc3QgYmFja2Ryb3AgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpXG5cdGNvbnN0IHNjYWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KVxuXHRjb25zdCBoYXNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KVxuXHRjb25zdCBwcm9ncmVzcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTApXG5cdGNvbnN0IGluZGV4RmluZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSlcblx0Y29uc3Qgc2Vjb25kYXJ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMylcblx0XG5cdHZhciBwbHVnaW5zID0gW1xuXHQgIHRoZW1lKCksXG5cdCAga2V5cygpLFxuXHQgIHRvdWNoKCksXG5cdCAgYnVsbGV0cygnbGksIC5idWxsZXQnKSxcblx0ICBiYWNrZHJvcCgpLFxuXHQgIHNjYWxlKCksXG5cdCAgaGFzaCgpLFxuXHQgIHByb2dyZXNzKCksXG5cdCAgaW5kZXhGaW5nZXIoKSxcblx0ICBzZWNvbmRhcnkoKVxuXHRdXG5cdFxuXHR0cnkge1xuXHQgIF9fd2VicGFja19yZXF1aXJlX18oIShmdW5jdGlvbiB3ZWJwYWNrTWlzc2luZ01vZHVsZSgpIHsgdmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgXFxcInBsdWdpbnNcXFwiXCIpOyBlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7IHRocm93IGU7IH0oKSkpKHBsdWdpbnMpXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFxuXHR9XG5cdFxuXHR2YXIgZGVjayA9IGJlc3Bva2UuZnJvbSgnYXJ0aWNsZScsIHBsdWdpbnMpXG5cdFxuXHR0cnkge1xuXHQgIF9fd2VicGFja19yZXF1aXJlX18oIShmdW5jdGlvbiB3ZWJwYWNrTWlzc2luZ01vZHVsZSgpIHsgdmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgXFxcImRlY2tcXFwiXCIpOyBlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7IHRocm93IGU7IH0oKSkpKGRlY2spXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFxuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHtcblx0LyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXHQgICAgIEJlZ2luIHByaXNtLWNvcmUuanNcblx0KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXHRcblx0dmFyIF9zZWxmID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKVxuXHRcdD8gd2luZG93ICAgLy8gaWYgaW4gYnJvd3NlclxuXHRcdDogKFxuXHRcdFx0KHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlKVxuXHRcdFx0PyBzZWxmIC8vIGlmIGluIHdvcmtlclxuXHRcdFx0OiB7fSAgIC8vIGlmIGluIG5vZGUganNcblx0XHQpO1xuXHRcblx0LyoqXG5cdCAqIFByaXNtOiBMaWdodHdlaWdodCwgcm9idXN0LCBlbGVnYW50IHN5bnRheCBoaWdobGlnaHRpbmdcblx0ICogTUlUIGxpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHAvXG5cdCAqIEBhdXRob3IgTGVhIFZlcm91IGh0dHA6Ly9sZWEudmVyb3UubWVcblx0ICovXG5cdFxuXHR2YXIgUHJpc20gPSAoZnVuY3Rpb24oKXtcblx0XG5cdC8vIFByaXZhdGUgaGVscGVyIHZhcnNcblx0dmFyIGxhbmcgPSAvXFxibGFuZyg/OnVhZ2UpPy0oPyFcXCopKFxcdyspXFxiL2k7XG5cdFxuXHR2YXIgXyA9IF9zZWxmLlByaXNtID0ge1xuXHRcdHV0aWw6IHtcblx0XHRcdGVuY29kZTogZnVuY3Rpb24gKHRva2Vucykge1xuXHRcdFx0XHRpZiAodG9rZW5zIGluc3RhbmNlb2YgVG9rZW4pIHtcblx0XHRcdFx0XHRyZXR1cm4gbmV3IFRva2VuKHRva2Vucy50eXBlLCBfLnV0aWwuZW5jb2RlKHRva2Vucy5jb250ZW50KSwgdG9rZW5zLmFsaWFzKTtcblx0XHRcdFx0fSBlbHNlIGlmIChfLnV0aWwudHlwZSh0b2tlbnMpID09PSAnQXJyYXknKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRva2Vucy5tYXAoXy51dGlsLmVuY29kZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRva2Vucy5yZXBsYWNlKC8mL2csICcmYW1wOycpLnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC9cXHUwMGEwL2csICcgJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFxuXHRcdFx0dHlwZTogZnVuY3Rpb24gKG8pIHtcblx0XHRcdFx0cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5tYXRjaCgvXFxbb2JqZWN0IChcXHcrKVxcXS8pWzFdO1xuXHRcdFx0fSxcblx0XG5cdFx0XHQvLyBEZWVwIGNsb25lIGEgbGFuZ3VhZ2UgZGVmaW5pdGlvbiAoZS5nLiB0byBleHRlbmQgaXQpXG5cdFx0XHRjbG9uZTogZnVuY3Rpb24gKG8pIHtcblx0XHRcdFx0dmFyIHR5cGUgPSBfLnV0aWwudHlwZShvKTtcblx0XG5cdFx0XHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0XHRcdGNhc2UgJ09iamVjdCc6XG5cdFx0XHRcdFx0XHR2YXIgY2xvbmUgPSB7fTtcblx0XG5cdFx0XHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gbykge1xuXHRcdFx0XHRcdFx0XHRpZiAoby5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2xvbmVba2V5XSA9IF8udXRpbC5jbG9uZShvW2tleV0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0cmV0dXJuIGNsb25lO1xuXHRcblx0XHRcdFx0XHRjYXNlICdBcnJheSc6XG5cdFx0XHRcdFx0XHQvLyBDaGVjayBmb3IgZXhpc3RlbmNlIGZvciBJRThcblx0XHRcdFx0XHRcdHJldHVybiBvLm1hcCAmJiBvLm1hcChmdW5jdGlvbih2KSB7IHJldHVybiBfLnV0aWwuY2xvbmUodik7IH0pO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRyZXR1cm4gbztcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRsYW5ndWFnZXM6IHtcblx0XHRcdGV4dGVuZDogZnVuY3Rpb24gKGlkLCByZWRlZikge1xuXHRcdFx0XHR2YXIgbGFuZyA9IF8udXRpbC5jbG9uZShfLmxhbmd1YWdlc1tpZF0pO1xuXHRcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIHJlZGVmKSB7XG5cdFx0XHRcdFx0bGFuZ1trZXldID0gcmVkZWZba2V5XTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0cmV0dXJuIGxhbmc7XG5cdFx0XHR9LFxuXHRcblx0XHRcdC8qKlxuXHRcdFx0ICogSW5zZXJ0IGEgdG9rZW4gYmVmb3JlIGFub3RoZXIgdG9rZW4gaW4gYSBsYW5ndWFnZSBsaXRlcmFsXG5cdFx0XHQgKiBBcyB0aGlzIG5lZWRzIHRvIHJlY3JlYXRlIHRoZSBvYmplY3QgKHdlIGNhbm5vdCBhY3R1YWxseSBpbnNlcnQgYmVmb3JlIGtleXMgaW4gb2JqZWN0IGxpdGVyYWxzKSxcblx0XHRcdCAqIHdlIGNhbm5vdCBqdXN0IHByb3ZpZGUgYW4gb2JqZWN0LCB3ZSBuZWVkIGFub2JqZWN0IGFuZCBhIGtleS5cblx0XHRcdCAqIEBwYXJhbSBpbnNpZGUgVGhlIGtleSAob3IgbGFuZ3VhZ2UgaWQpIG9mIHRoZSBwYXJlbnRcblx0XHRcdCAqIEBwYXJhbSBiZWZvcmUgVGhlIGtleSB0byBpbnNlcnQgYmVmb3JlLiBJZiBub3QgcHJvdmlkZWQsIHRoZSBmdW5jdGlvbiBhcHBlbmRzIGluc3RlYWQuXG5cdFx0XHQgKiBAcGFyYW0gaW5zZXJ0IE9iamVjdCB3aXRoIHRoZSBrZXkvdmFsdWUgcGFpcnMgdG8gaW5zZXJ0XG5cdFx0XHQgKiBAcGFyYW0gcm9vdCBUaGUgb2JqZWN0IHRoYXQgY29udGFpbnMgYGluc2lkZWAuIElmIGVxdWFsIHRvIFByaXNtLmxhbmd1YWdlcywgaXQgY2FuIGJlIG9taXR0ZWQuXG5cdFx0XHQgKi9cblx0XHRcdGluc2VydEJlZm9yZTogZnVuY3Rpb24gKGluc2lkZSwgYmVmb3JlLCBpbnNlcnQsIHJvb3QpIHtcblx0XHRcdFx0cm9vdCA9IHJvb3QgfHwgXy5sYW5ndWFnZXM7XG5cdFx0XHRcdHZhciBncmFtbWFyID0gcm9vdFtpbnNpZGVdO1xuXHRcdFx0XHRcblx0XHRcdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikge1xuXHRcdFx0XHRcdGluc2VydCA9IGFyZ3VtZW50c1sxXTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRmb3IgKHZhciBuZXdUb2tlbiBpbiBpbnNlcnQpIHtcblx0XHRcdFx0XHRcdGlmIChpbnNlcnQuaGFzT3duUHJvcGVydHkobmV3VG9rZW4pKSB7XG5cdFx0XHRcdFx0XHRcdGdyYW1tYXJbbmV3VG9rZW5dID0gaW5zZXJ0W25ld1Rva2VuXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0cmV0dXJuIGdyYW1tYXI7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdHZhciByZXQgPSB7fTtcblx0XG5cdFx0XHRcdGZvciAodmFyIHRva2VuIGluIGdyYW1tYXIpIHtcblx0XG5cdFx0XHRcdFx0aWYgKGdyYW1tYXIuaGFzT3duUHJvcGVydHkodG9rZW4pKSB7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKHRva2VuID09IGJlZm9yZSkge1xuXHRcblx0XHRcdFx0XHRcdFx0Zm9yICh2YXIgbmV3VG9rZW4gaW4gaW5zZXJ0KSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdGlmIChpbnNlcnQuaGFzT3duUHJvcGVydHkobmV3VG9rZW4pKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXRbbmV3VG9rZW5dID0gaW5zZXJ0W25ld1Rva2VuXTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRyZXRbdG9rZW5dID0gZ3JhbW1hclt0b2tlbl07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBVcGRhdGUgcmVmZXJlbmNlcyBpbiBvdGhlciBsYW5ndWFnZSBkZWZpbml0aW9uc1xuXHRcdFx0XHRfLmxhbmd1YWdlcy5ERlMoXy5sYW5ndWFnZXMsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcblx0XHRcdFx0XHRpZiAodmFsdWUgPT09IHJvb3RbaW5zaWRlXSAmJiBrZXkgIT0gaW5zaWRlKSB7XG5cdFx0XHRcdFx0XHR0aGlzW2tleV0gPSByZXQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XG5cdFx0XHRcdHJldHVybiByb290W2luc2lkZV0gPSByZXQ7XG5cdFx0XHR9LFxuXHRcblx0XHRcdC8vIFRyYXZlcnNlIGEgbGFuZ3VhZ2UgZGVmaW5pdGlvbiB3aXRoIERlcHRoIEZpcnN0IFNlYXJjaFxuXHRcdFx0REZTOiBmdW5jdGlvbihvLCBjYWxsYmFjaywgdHlwZSkge1xuXHRcdFx0XHRmb3IgKHZhciBpIGluIG8pIHtcblx0XHRcdFx0XHRpZiAoby5oYXNPd25Qcm9wZXJ0eShpKSkge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2suY2FsbChvLCBpLCBvW2ldLCB0eXBlIHx8IGkpO1xuXHRcblx0XHRcdFx0XHRcdGlmIChfLnV0aWwudHlwZShvW2ldKSA9PT0gJ09iamVjdCcpIHtcblx0XHRcdFx0XHRcdFx0Xy5sYW5ndWFnZXMuREZTKG9baV0sIGNhbGxiYWNrKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2UgaWYgKF8udXRpbC50eXBlKG9baV0pID09PSAnQXJyYXknKSB7XG5cdFx0XHRcdFx0XHRcdF8ubGFuZ3VhZ2VzLkRGUyhvW2ldLCBjYWxsYmFjaywgaSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRwbHVnaW5zOiB7fSxcblx0XHRcblx0XHRoaWdobGlnaHRBbGw6IGZ1bmN0aW9uKGFzeW5jLCBjYWxsYmFjaykge1xuXHRcdFx0dmFyIGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0sIFtjbGFzcyo9XCJsYW5ndWFnZS1cIl0gY29kZSwgY29kZVtjbGFzcyo9XCJsYW5nLVwiXSwgW2NsYXNzKj1cImxhbmctXCJdIGNvZGUnKTtcblx0XG5cdFx0XHRmb3IgKHZhciBpPTAsIGVsZW1lbnQ7IGVsZW1lbnQgPSBlbGVtZW50c1tpKytdOykge1xuXHRcdFx0XHRfLmhpZ2hsaWdodEVsZW1lbnQoZWxlbWVudCwgYXN5bmMgPT09IHRydWUsIGNhbGxiYWNrKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcblx0XHRoaWdobGlnaHRFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBhc3luYywgY2FsbGJhY2spIHtcblx0XHRcdC8vIEZpbmQgbGFuZ3VhZ2Vcblx0XHRcdHZhciBsYW5ndWFnZSwgZ3JhbW1hciwgcGFyZW50ID0gZWxlbWVudDtcblx0XG5cdFx0XHR3aGlsZSAocGFyZW50ICYmICFsYW5nLnRlc3QocGFyZW50LmNsYXNzTmFtZSkpIHtcblx0XHRcdFx0cGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKHBhcmVudCkge1xuXHRcdFx0XHRsYW5ndWFnZSA9IChwYXJlbnQuY2xhc3NOYW1lLm1hdGNoKGxhbmcpIHx8IFssJyddKVsxXTtcblx0XHRcdFx0Z3JhbW1hciA9IF8ubGFuZ3VhZ2VzW2xhbmd1YWdlXTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBTZXQgbGFuZ3VhZ2Ugb24gdGhlIGVsZW1lbnQsIGlmIG5vdCBwcmVzZW50XG5cdFx0XHRlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UobGFuZywgJycpLnJlcGxhY2UoL1xccysvZywgJyAnKSArICcgbGFuZ3VhZ2UtJyArIGxhbmd1YWdlO1xuXHRcblx0XHRcdC8vIFNldCBsYW5ndWFnZSBvbiB0aGUgcGFyZW50LCBmb3Igc3R5bGluZ1xuXHRcdFx0cGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuXHRcblx0XHRcdGlmICgvcHJlL2kudGVzdChwYXJlbnQubm9kZU5hbWUpKSB7XG5cdFx0XHRcdHBhcmVudC5jbGFzc05hbWUgPSBwYXJlbnQuY2xhc3NOYW1lLnJlcGxhY2UobGFuZywgJycpLnJlcGxhY2UoL1xccysvZywgJyAnKSArICcgbGFuZ3VhZ2UtJyArIGxhbmd1YWdlO1xuXHRcdFx0fVxuXHRcblx0XHRcdHZhciBjb2RlID0gZWxlbWVudC50ZXh0Q29udGVudDtcblx0XG5cdFx0XHR2YXIgZW52ID0ge1xuXHRcdFx0XHRlbGVtZW50OiBlbGVtZW50LFxuXHRcdFx0XHRsYW5ndWFnZTogbGFuZ3VhZ2UsXG5cdFx0XHRcdGdyYW1tYXI6IGdyYW1tYXIsXG5cdFx0XHRcdGNvZGU6IGNvZGVcblx0XHRcdH07XG5cdFxuXHRcdFx0aWYgKCFjb2RlIHx8ICFncmFtbWFyKSB7XG5cdFx0XHRcdF8uaG9va3MucnVuKCdjb21wbGV0ZScsIGVudik7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLWhpZ2hsaWdodCcsIGVudik7XG5cdFxuXHRcdFx0aWYgKGFzeW5jICYmIF9zZWxmLldvcmtlcikge1xuXHRcdFx0XHR2YXIgd29ya2VyID0gbmV3IFdvcmtlcihfLmZpbGVuYW1lKTtcblx0XG5cdFx0XHRcdHdvcmtlci5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldnQpIHtcblx0XHRcdFx0XHRlbnYuaGlnaGxpZ2h0ZWRDb2RlID0gZXZ0LmRhdGE7XG5cdFxuXHRcdFx0XHRcdF8uaG9va3MucnVuKCdiZWZvcmUtaW5zZXJ0JywgZW52KTtcblx0XG5cdFx0XHRcdFx0ZW52LmVsZW1lbnQuaW5uZXJIVE1MID0gZW52LmhpZ2hsaWdodGVkQ29kZTtcblx0XG5cdFx0XHRcdFx0Y2FsbGJhY2sgJiYgY2FsbGJhY2suY2FsbChlbnYuZWxlbWVudCk7XG5cdFx0XHRcdFx0Xy5ob29rcy5ydW4oJ2FmdGVyLWhpZ2hsaWdodCcsIGVudik7XG5cdFx0XHRcdFx0Xy5ob29rcy5ydW4oJ2NvbXBsZXRlJywgZW52KTtcblx0XHRcdFx0fTtcblx0XG5cdFx0XHRcdHdvcmtlci5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7XG5cdFx0XHRcdFx0bGFuZ3VhZ2U6IGVudi5sYW5ndWFnZSxcblx0XHRcdFx0XHRjb2RlOiBlbnYuY29kZSxcblx0XHRcdFx0XHRpbW1lZGlhdGVDbG9zZTogdHJ1ZVxuXHRcdFx0XHR9KSk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0ZW52LmhpZ2hsaWdodGVkQ29kZSA9IF8uaGlnaGxpZ2h0KGVudi5jb2RlLCBlbnYuZ3JhbW1hciwgZW52Lmxhbmd1YWdlKTtcblx0XG5cdFx0XHRcdF8uaG9va3MucnVuKCdiZWZvcmUtaW5zZXJ0JywgZW52KTtcblx0XG5cdFx0XHRcdGVudi5lbGVtZW50LmlubmVySFRNTCA9IGVudi5oaWdobGlnaHRlZENvZGU7XG5cdFxuXHRcdFx0XHRjYWxsYmFjayAmJiBjYWxsYmFjay5jYWxsKGVsZW1lbnQpO1xuXHRcblx0XHRcdFx0Xy5ob29rcy5ydW4oJ2FmdGVyLWhpZ2hsaWdodCcsIGVudik7XG5cdFx0XHRcdF8uaG9va3MucnVuKCdjb21wbGV0ZScsIGVudik7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0aGlnaGxpZ2h0OiBmdW5jdGlvbiAodGV4dCwgZ3JhbW1hciwgbGFuZ3VhZ2UpIHtcblx0XHRcdHZhciB0b2tlbnMgPSBfLnRva2VuaXplKHRleHQsIGdyYW1tYXIpO1xuXHRcdFx0cmV0dXJuIFRva2VuLnN0cmluZ2lmeShfLnV0aWwuZW5jb2RlKHRva2VucyksIGxhbmd1YWdlKTtcblx0XHR9LFxuXHRcblx0XHR0b2tlbml6ZTogZnVuY3Rpb24odGV4dCwgZ3JhbW1hciwgbGFuZ3VhZ2UpIHtcblx0XHRcdHZhciBUb2tlbiA9IF8uVG9rZW47XG5cdFxuXHRcdFx0dmFyIHN0cmFyciA9IFt0ZXh0XTtcblx0XG5cdFx0XHR2YXIgcmVzdCA9IGdyYW1tYXIucmVzdDtcblx0XG5cdFx0XHRpZiAocmVzdCkge1xuXHRcdFx0XHRmb3IgKHZhciB0b2tlbiBpbiByZXN0KSB7XG5cdFx0XHRcdFx0Z3JhbW1hclt0b2tlbl0gPSByZXN0W3Rva2VuXTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0ZGVsZXRlIGdyYW1tYXIucmVzdDtcblx0XHRcdH1cblx0XG5cdFx0XHR0b2tlbmxvb3A6IGZvciAodmFyIHRva2VuIGluIGdyYW1tYXIpIHtcblx0XHRcdFx0aWYoIWdyYW1tYXIuaGFzT3duUHJvcGVydHkodG9rZW4pIHx8ICFncmFtbWFyW3Rva2VuXSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHR2YXIgcGF0dGVybnMgPSBncmFtbWFyW3Rva2VuXTtcblx0XHRcdFx0cGF0dGVybnMgPSAoXy51dGlsLnR5cGUocGF0dGVybnMpID09PSBcIkFycmF5XCIpID8gcGF0dGVybnMgOiBbcGF0dGVybnNdO1xuXHRcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBwYXR0ZXJucy5sZW5ndGg7ICsraikge1xuXHRcdFx0XHRcdHZhciBwYXR0ZXJuID0gcGF0dGVybnNbal0sXG5cdFx0XHRcdFx0XHRpbnNpZGUgPSBwYXR0ZXJuLmluc2lkZSxcblx0XHRcdFx0XHRcdGxvb2tiZWhpbmQgPSAhIXBhdHRlcm4ubG9va2JlaGluZCxcblx0XHRcdFx0XHRcdGxvb2tiZWhpbmRMZW5ndGggPSAwLFxuXHRcdFx0XHRcdFx0YWxpYXMgPSBwYXR0ZXJuLmFsaWFzO1xuXHRcblx0XHRcdFx0XHRwYXR0ZXJuID0gcGF0dGVybi5wYXR0ZXJuIHx8IHBhdHRlcm47XG5cdFxuXHRcdFx0XHRcdGZvciAodmFyIGk9MDsgaTxzdHJhcnIubGVuZ3RoOyBpKyspIHsgLy8gRG9u4oCZdCBjYWNoZSBsZW5ndGggYXMgaXQgY2hhbmdlcyBkdXJpbmcgdGhlIGxvb3Bcblx0XG5cdFx0XHRcdFx0XHR2YXIgc3RyID0gc3RyYXJyW2ldO1xuXHRcblx0XHRcdFx0XHRcdGlmIChzdHJhcnIubGVuZ3RoID4gdGV4dC5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0Ly8gU29tZXRoaW5nIHdlbnQgdGVycmlibHkgd3JvbmcsIEFCT1JULCBBQk9SVCFcblx0XHRcdFx0XHRcdFx0YnJlYWsgdG9rZW5sb29wO1xuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdGlmIChzdHIgaW5zdGFuY2VvZiBUb2tlbikge1xuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRwYXR0ZXJuLmxhc3RJbmRleCA9IDA7XG5cdFxuXHRcdFx0XHRcdFx0dmFyIG1hdGNoID0gcGF0dGVybi5leGVjKHN0cik7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKG1hdGNoKSB7XG5cdFx0XHRcdFx0XHRcdGlmKGxvb2tiZWhpbmQpIHtcblx0XHRcdFx0XHRcdFx0XHRsb29rYmVoaW5kTGVuZ3RoID0gbWF0Y2hbMV0ubGVuZ3RoO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0XHR2YXIgZnJvbSA9IG1hdGNoLmluZGV4IC0gMSArIGxvb2tiZWhpbmRMZW5ndGgsXG5cdFx0XHRcdFx0XHRcdFx0bWF0Y2ggPSBtYXRjaFswXS5zbGljZShsb29rYmVoaW5kTGVuZ3RoKSxcblx0XHRcdFx0XHRcdFx0XHRsZW4gPSBtYXRjaC5sZW5ndGgsXG5cdFx0XHRcdFx0XHRcdFx0dG8gPSBmcm9tICsgbGVuLFxuXHRcdFx0XHRcdFx0XHRcdGJlZm9yZSA9IHN0ci5zbGljZSgwLCBmcm9tICsgMSksXG5cdFx0XHRcdFx0XHRcdFx0YWZ0ZXIgPSBzdHIuc2xpY2UodG8gKyAxKTtcblx0XG5cdFx0XHRcdFx0XHRcdHZhciBhcmdzID0gW2ksIDFdO1xuXHRcblx0XHRcdFx0XHRcdFx0aWYgKGJlZm9yZSkge1xuXHRcdFx0XHRcdFx0XHRcdGFyZ3MucHVzaChiZWZvcmUpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0XHR2YXIgd3JhcHBlZCA9IG5ldyBUb2tlbih0b2tlbiwgaW5zaWRlPyBfLnRva2VuaXplKG1hdGNoLCBpbnNpZGUpIDogbWF0Y2gsIGFsaWFzKTtcblx0XG5cdFx0XHRcdFx0XHRcdGFyZ3MucHVzaCh3cmFwcGVkKTtcblx0XG5cdFx0XHRcdFx0XHRcdGlmIChhZnRlcikge1xuXHRcdFx0XHRcdFx0XHRcdGFyZ3MucHVzaChhZnRlcik7XG5cdFx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRcdEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoc3RyYXJyLCBhcmdzKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gc3RyYXJyO1xuXHRcdH0sXG5cdFxuXHRcdGhvb2tzOiB7XG5cdFx0XHRhbGw6IHt9LFxuXHRcblx0XHRcdGFkZDogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrKSB7XG5cdFx0XHRcdHZhciBob29rcyA9IF8uaG9va3MuYWxsO1xuXHRcblx0XHRcdFx0aG9va3NbbmFtZV0gPSBob29rc1tuYW1lXSB8fCBbXTtcblx0XG5cdFx0XHRcdGhvb2tzW25hbWVdLnB1c2goY2FsbGJhY2spO1xuXHRcdFx0fSxcblx0XG5cdFx0XHRydW46IGZ1bmN0aW9uIChuYW1lLCBlbnYpIHtcblx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IF8uaG9va3MuYWxsW25hbWVdO1xuXHRcblx0XHRcdFx0aWYgKCFjYWxsYmFja3MgfHwgIWNhbGxiYWNrcy5sZW5ndGgpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGZvciAodmFyIGk9MCwgY2FsbGJhY2s7IGNhbGxiYWNrID0gY2FsbGJhY2tzW2krK107KSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soZW52KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0XG5cdHZhciBUb2tlbiA9IF8uVG9rZW4gPSBmdW5jdGlvbih0eXBlLCBjb250ZW50LCBhbGlhcykge1xuXHRcdHRoaXMudHlwZSA9IHR5cGU7XG5cdFx0dGhpcy5jb250ZW50ID0gY29udGVudDtcblx0XHR0aGlzLmFsaWFzID0gYWxpYXM7XG5cdH07XG5cdFxuXHRUb2tlbi5zdHJpbmdpZnkgPSBmdW5jdGlvbihvLCBsYW5ndWFnZSwgcGFyZW50KSB7XG5cdFx0aWYgKHR5cGVvZiBvID09ICdzdHJpbmcnKSB7XG5cdFx0XHRyZXR1cm4gbztcblx0XHR9XG5cdFxuXHRcdGlmIChfLnV0aWwudHlwZShvKSA9PT0gJ0FycmF5Jykge1xuXHRcdFx0cmV0dXJuIG8ubWFwKGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0XHRcdFx0cmV0dXJuIFRva2VuLnN0cmluZ2lmeShlbGVtZW50LCBsYW5ndWFnZSwgbyk7XG5cdFx0XHR9KS5qb2luKCcnKTtcblx0XHR9XG5cdFxuXHRcdHZhciBlbnYgPSB7XG5cdFx0XHR0eXBlOiBvLnR5cGUsXG5cdFx0XHRjb250ZW50OiBUb2tlbi5zdHJpbmdpZnkoby5jb250ZW50LCBsYW5ndWFnZSwgcGFyZW50KSxcblx0XHRcdHRhZzogJ3NwYW4nLFxuXHRcdFx0Y2xhc3NlczogWyd0b2tlbicsIG8udHlwZV0sXG5cdFx0XHRhdHRyaWJ1dGVzOiB7fSxcblx0XHRcdGxhbmd1YWdlOiBsYW5ndWFnZSxcblx0XHRcdHBhcmVudDogcGFyZW50XG5cdFx0fTtcblx0XG5cdFx0aWYgKGVudi50eXBlID09ICdjb21tZW50Jykge1xuXHRcdFx0ZW52LmF0dHJpYnV0ZXNbJ3NwZWxsY2hlY2snXSA9ICd0cnVlJztcblx0XHR9XG5cdFxuXHRcdGlmIChvLmFsaWFzKSB7XG5cdFx0XHR2YXIgYWxpYXNlcyA9IF8udXRpbC50eXBlKG8uYWxpYXMpID09PSAnQXJyYXknID8gby5hbGlhcyA6IFtvLmFsaWFzXTtcblx0XHRcdEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGVudi5jbGFzc2VzLCBhbGlhc2VzKTtcblx0XHR9XG5cdFxuXHRcdF8uaG9va3MucnVuKCd3cmFwJywgZW52KTtcblx0XG5cdFx0dmFyIGF0dHJpYnV0ZXMgPSAnJztcblx0XG5cdFx0Zm9yICh2YXIgbmFtZSBpbiBlbnYuYXR0cmlidXRlcykge1xuXHRcdFx0YXR0cmlidXRlcyArPSAoYXR0cmlidXRlcyA/ICcgJyA6ICcnKSArIG5hbWUgKyAnPVwiJyArIChlbnYuYXR0cmlidXRlc1tuYW1lXSB8fCAnJykgKyAnXCInO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuICc8JyArIGVudi50YWcgKyAnIGNsYXNzPVwiJyArIGVudi5jbGFzc2VzLmpvaW4oJyAnKSArICdcIiAnICsgYXR0cmlidXRlcyArICc+JyArIGVudi5jb250ZW50ICsgJzwvJyArIGVudi50YWcgKyAnPic7XG5cdFxuXHR9O1xuXHRcblx0aWYgKCFfc2VsZi5kb2N1bWVudCkge1xuXHRcdGlmICghX3NlbGYuYWRkRXZlbnRMaXN0ZW5lcikge1xuXHRcdFx0Ly8gaW4gTm9kZS5qc1xuXHRcdFx0cmV0dXJuIF9zZWxmLlByaXNtO1xuXHRcdH1cblx0IFx0Ly8gSW4gd29ya2VyXG5cdFx0X3NlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uKGV2dCkge1xuXHRcdFx0dmFyIG1lc3NhZ2UgPSBKU09OLnBhcnNlKGV2dC5kYXRhKSxcblx0XHRcdCAgICBsYW5nID0gbWVzc2FnZS5sYW5ndWFnZSxcblx0XHRcdCAgICBjb2RlID0gbWVzc2FnZS5jb2RlLFxuXHRcdFx0ICAgIGltbWVkaWF0ZUNsb3NlID0gbWVzc2FnZS5pbW1lZGlhdGVDbG9zZTtcblx0XG5cdFx0XHRfc2VsZi5wb3N0TWVzc2FnZShfLmhpZ2hsaWdodChjb2RlLCBfLmxhbmd1YWdlc1tsYW5nXSwgbGFuZykpO1xuXHRcdFx0aWYgKGltbWVkaWF0ZUNsb3NlKSB7XG5cdFx0XHRcdF9zZWxmLmNsb3NlKCk7XG5cdFx0XHR9XG5cdFx0fSwgZmFsc2UpO1xuXHRcblx0XHRyZXR1cm4gX3NlbGYuUHJpc207XG5cdH1cblx0XG5cdC8vIEdldCBjdXJyZW50IHNjcmlwdCBhbmQgaGlnaGxpZ2h0XG5cdHZhciBzY3JpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0Jyk7XG5cdFxuXHRzY3JpcHQgPSBzY3JpcHRbc2NyaXB0Lmxlbmd0aCAtIDFdO1xuXHRcblx0aWYgKHNjcmlwdCkge1xuXHRcdF8uZmlsZW5hbWUgPSBzY3JpcHQuc3JjO1xuXHRcblx0XHRpZiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciAmJiAhc2NyaXB0Lmhhc0F0dHJpYnV0ZSgnZGF0YS1tYW51YWwnKSkge1xuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIF8uaGlnaGxpZ2h0QWxsKTtcblx0XHR9XG5cdH1cblx0XG5cdHJldHVybiBfc2VsZi5QcmlzbTtcblx0XG5cdH0pKCk7XG5cdFxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IFByaXNtO1xuXHR9XG5cdFxuXHQvLyBoYWNrIGZvciBjb21wb25lbnRzIHRvIHdvcmsgY29ycmVjdGx5IGluIG5vZGUuanNcblx0aWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0Z2xvYmFsLlByaXNtID0gUHJpc207XG5cdH1cblx0XG5cdFxuXHQvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdCAgICAgQmVnaW4gcHJpc20tbWFya3VwLmpzXG5cdCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblx0XG5cdFByaXNtLmxhbmd1YWdlcy5tYXJrdXAgPSB7XG5cdFx0J2NvbW1lbnQnOiAvPCEtLVtcXHdcXFddKj8tLT4vLFxuXHRcdCdwcm9sb2cnOiAvPFxcP1tcXHdcXFddKz9cXD8+Lyxcblx0XHQnZG9jdHlwZSc6IC88IURPQ1RZUEVbXFx3XFxXXSs/Pi8sXG5cdFx0J2NkYXRhJzogLzwhXFxbQ0RBVEFcXFtbXFx3XFxXXSo/XV0+L2ksXG5cdFx0J3RhZyc6IHtcblx0XHRcdHBhdHRlcm46IC88XFwvPyg/IVxcZClbXlxccz5cXC89LiQ8XSsoPzpcXHMrW15cXHM+XFwvPV0rKD86PSg/OihcInwnKSg/OlxcXFxcXDF8XFxcXD8oPyFcXDEpW1xcd1xcV10pKlxcMXxbXlxccydcIj49XSspKT8pKlxccypcXC8/Pi9pLFxuXHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdCd0YWcnOiB7XG5cdFx0XHRcdFx0cGF0dGVybjogL148XFwvP1teXFxzPlxcL10rL2ksXG5cdFx0XHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdFx0XHQncHVuY3R1YXRpb24nOiAvXjxcXC8/Lyxcblx0XHRcdFx0XHRcdCduYW1lc3BhY2UnOiAvXlteXFxzPlxcLzpdKzovXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQnYXR0ci12YWx1ZSc6IHtcblx0XHRcdFx0XHRwYXR0ZXJuOiAvPSg/OignfFwiKVtcXHdcXFddKj8oXFwxKXxbXlxccz5dKykvaSxcblx0XHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHRcdCdwdW5jdHVhdGlvbic6IC9bPT5cIiddL1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0J3B1bmN0dWF0aW9uJzogL1xcLz8+Lyxcblx0XHRcdFx0J2F0dHItbmFtZSc6IHtcblx0XHRcdFx0XHRwYXR0ZXJuOiAvW15cXHM+XFwvXSsvLFxuXHRcdFx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRcdFx0J25hbWVzcGFjZSc6IC9eW15cXHM+XFwvOl0rOi9cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQnZW50aXR5JzogLyYjP1tcXGRhLXpdezEsOH07L2lcblx0fTtcblx0XG5cdC8vIFBsdWdpbiB0byBtYWtlIGVudGl0eSB0aXRsZSBzaG93IHRoZSByZWFsIGVudGl0eSwgaWRlYSBieSBSb21hbiBLb21hcm92XG5cdFByaXNtLmhvb2tzLmFkZCgnd3JhcCcsIGZ1bmN0aW9uKGVudikge1xuXHRcblx0XHRpZiAoZW52LnR5cGUgPT09ICdlbnRpdHknKSB7XG5cdFx0XHRlbnYuYXR0cmlidXRlc1sndGl0bGUnXSA9IGVudi5jb250ZW50LnJlcGxhY2UoLyZhbXA7LywgJyYnKTtcblx0XHR9XG5cdH0pO1xuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLnhtbCA9IFByaXNtLmxhbmd1YWdlcy5tYXJrdXA7XG5cdFByaXNtLmxhbmd1YWdlcy5odG1sID0gUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cDtcblx0UHJpc20ubGFuZ3VhZ2VzLm1hdGhtbCA9IFByaXNtLmxhbmd1YWdlcy5tYXJrdXA7XG5cdFByaXNtLmxhbmd1YWdlcy5zdmcgPSBQcmlzbS5sYW5ndWFnZXMubWFya3VwO1xuXHRcblx0XG5cdC8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICAgICBCZWdpbiBwcmlzbS1jc3MuanNcblx0KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLmNzcyA9IHtcblx0XHQnY29tbWVudCc6IC9cXC9cXCpbXFx3XFxXXSo/XFwqXFwvLyxcblx0XHQnYXRydWxlJzoge1xuXHRcdFx0cGF0dGVybjogL0BbXFx3LV0rPy4qPyg7fCg/PVxccypcXHspKS9pLFxuXHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdCdydWxlJzogL0BbXFx3LV0rL1xuXHRcdFx0XHQvLyBTZWUgcmVzdCBiZWxvd1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0J3VybCc6IC91cmxcXCgoPzooW1wiJ10pKFxcXFwoPzpcXHJcXG58W1xcd1xcV10pfCg/IVxcMSlbXlxcXFxcXHJcXG5dKSpcXDF8Lio/KVxcKS9pLFxuXHRcdCdzZWxlY3Rvcic6IC9bXlxce1xcfVxcc11bXlxce1xcfTtdKj8oPz1cXHMqXFx7KS8sXG5cdFx0J3N0cmluZyc6IC8oXCJ8JykoXFxcXCg/OlxcclxcbnxbXFx3XFxXXSl8KD8hXFwxKVteXFxcXFxcclxcbl0pKlxcMS8sXG5cdFx0J3Byb3BlcnR5JzogLyhcXGJ8XFxCKVtcXHctXSsoPz1cXHMqOikvaSxcblx0XHQnaW1wb3J0YW50JzogL1xcQiFpbXBvcnRhbnRcXGIvaSxcblx0XHQnZnVuY3Rpb24nOiAvWy1hLXowLTldKyg/PVxcKCkvaSxcblx0XHQncHVuY3R1YXRpb24nOiAvWygpe307Ol0vXG5cdH07XG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMuY3NzWydhdHJ1bGUnXS5pbnNpZGUucmVzdCA9IFByaXNtLnV0aWwuY2xvbmUoUHJpc20ubGFuZ3VhZ2VzLmNzcyk7XG5cdFxuXHRpZiAoUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cCkge1xuXHRcdFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ21hcmt1cCcsICd0YWcnLCB7XG5cdFx0XHQnc3R5bGUnOiB7XG5cdFx0XHRcdHBhdHRlcm46IC8oPHN0eWxlW1xcd1xcV10qPz4pW1xcd1xcV10qPyg/PTxcXC9zdHlsZT4pL2ksXG5cdFx0XHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmNzcyxcblx0XHRcdFx0YWxpYXM6ICdsYW5ndWFnZS1jc3MnXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0XG5cdFx0UHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnaW5zaWRlJywgJ2F0dHItdmFsdWUnLCB7XG5cdFx0XHQnc3R5bGUtYXR0cic6IHtcblx0XHRcdFx0cGF0dGVybjogL1xccypzdHlsZT0oXCJ8JykuKj9cXDEvaSxcblx0XHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdFx0J2F0dHItbmFtZSc6IHtcblx0XHRcdFx0XHRcdHBhdHRlcm46IC9eXFxzKnN0eWxlL2ksXG5cdFx0XHRcdFx0XHRpbnNpZGU6IFByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnLmluc2lkZVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0J3B1bmN0dWF0aW9uJzogL15cXHMqPVxccypbJ1wiXXxbJ1wiXVxccyokLyxcblx0XHRcdFx0XHQnYXR0ci12YWx1ZSc6IHtcblx0XHRcdFx0XHRcdHBhdHRlcm46IC8uKy9pLFxuXHRcdFx0XHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXMuY3NzXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRhbGlhczogJ2xhbmd1YWdlLWNzcydcblx0XHRcdH1cblx0XHR9LCBQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZyk7XG5cdH1cblx0XG5cdC8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICAgICBCZWdpbiBwcmlzbS1jbGlrZS5qc1xuXHQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMuY2xpa2UgPSB7XG5cdFx0J2NvbW1lbnQnOiBbXG5cdFx0XHR7XG5cdFx0XHRcdHBhdHRlcm46IC8oXnxbXlxcXFxdKVxcL1xcKltcXHdcXFddKj9cXCpcXC8vLFxuXHRcdFx0XHRsb29rYmVoaW5kOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRwYXR0ZXJuOiAvKF58W15cXFxcOl0pXFwvXFwvLiovLFxuXHRcdFx0XHRsb29rYmVoaW5kOiB0cnVlXG5cdFx0XHR9XG5cdFx0XSxcblx0XHQnc3RyaW5nJzogLyhbXCInXSkoXFxcXCg/OlxcclxcbnxbXFxzXFxTXSl8KD8hXFwxKVteXFxcXFxcclxcbl0pKlxcMS8sXG5cdFx0J2NsYXNzLW5hbWUnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvKCg/OlxcYig/OmNsYXNzfGludGVyZmFjZXxleHRlbmRzfGltcGxlbWVudHN8dHJhaXR8aW5zdGFuY2VvZnxuZXcpXFxzKyl8KD86Y2F0Y2hcXHMrXFwoKSlbYS16MC05X1xcLlxcXFxdKy9pLFxuXHRcdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRwdW5jdHVhdGlvbjogLyhcXC58XFxcXCkvXG5cdFx0XHR9XG5cdFx0fSxcblx0XHQna2V5d29yZCc6IC9cXGIoaWZ8ZWxzZXx3aGlsZXxkb3xmb3J8cmV0dXJufGlufGluc3RhbmNlb2Z8ZnVuY3Rpb258bmV3fHRyeXx0aHJvd3xjYXRjaHxmaW5hbGx5fG51bGx8YnJlYWt8Y29udGludWUpXFxiLyxcblx0XHQnYm9vbGVhbic6IC9cXGIodHJ1ZXxmYWxzZSlcXGIvLFxuXHRcdCdmdW5jdGlvbic6IC9bYS16MC05X10rKD89XFwoKS9pLFxuXHRcdCdudW1iZXInOiAvXFxiLT8oPzoweFtcXGRhLWZdK3xcXGQqXFwuP1xcZCsoPzplWystXT9cXGQrKT8pXFxiL2ksXG5cdFx0J29wZXJhdG9yJzogLy0tP3xcXCtcXCs/fCE9Pz0/fDw9P3w+PT98PT0/PT98JiY/fFxcfFxcfD98XFw/fFxcKnxcXC98fnxcXF58JS8sXG5cdFx0J3B1bmN0dWF0aW9uJzogL1t7fVtcXF07KCksLjpdL1xuXHR9O1xuXHRcblx0XG5cdC8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICAgICBCZWdpbiBwcmlzbS1qYXZhc2NyaXB0LmpzXG5cdCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblx0XG5cdFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0ID0gUHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgnY2xpa2UnLCB7XG5cdFx0J2tleXdvcmQnOiAvXFxiKGFzfGFzeW5jfGF3YWl0fGJyZWFrfGNhc2V8Y2F0Y2h8Y2xhc3N8Y29uc3R8Y29udGludWV8ZGVidWdnZXJ8ZGVmYXVsdHxkZWxldGV8ZG98ZWxzZXxlbnVtfGV4cG9ydHxleHRlbmRzfGZpbmFsbHl8Zm9yfGZyb218ZnVuY3Rpb258Z2V0fGlmfGltcGxlbWVudHN8aW1wb3J0fGlufGluc3RhbmNlb2Z8aW50ZXJmYWNlfGxldHxuZXd8bnVsbHxvZnxwYWNrYWdlfHByaXZhdGV8cHJvdGVjdGVkfHB1YmxpY3xyZXR1cm58c2V0fHN0YXRpY3xzdXBlcnxzd2l0Y2h8dGhpc3x0aHJvd3x0cnl8dHlwZW9mfHZhcnx2b2lkfHdoaWxlfHdpdGh8eWllbGQpXFxiLyxcblx0XHQnbnVtYmVyJzogL1xcYi0/KDB4W1xcZEEtRmEtZl0rfDBiWzAxXSt8MG9bMC03XSt8XFxkKlxcLj9cXGQrKFtFZV1bKy1dP1xcZCspP3xOYU58SW5maW5pdHkpXFxiLyxcblx0XHQvLyBBbGxvdyBmb3IgYWxsIG5vbi1BU0NJSSBjaGFyYWN0ZXJzIChTZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjAwODQ0NClcblx0XHQnZnVuY3Rpb24nOiAvW18kYS16QS1aXFx4QTAtXFx1RkZGRl1bXyRhLXpBLVowLTlcXHhBMC1cXHVGRkZGXSooPz1cXCgpL2lcblx0fSk7XG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCdqYXZhc2NyaXB0JywgJ2tleXdvcmQnLCB7XG5cdFx0J3JlZ2V4Jzoge1xuXHRcdFx0cGF0dGVybjogLyhefFteL10pXFwvKD8hXFwvKShcXFsuKz9dfFxcXFwufFteL1xcXFxcXHJcXG5dKStcXC9bZ2lteXVdezAsNX0oPz1cXHMqKCR8W1xcclxcbiwuO30pXSkpLyxcblx0XHRcdGxvb2tiZWhpbmQ6IHRydWVcblx0XHR9XG5cdH0pO1xuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnamF2YXNjcmlwdCcsICdjbGFzcy1uYW1lJywge1xuXHRcdCd0ZW1wbGF0ZS1zdHJpbmcnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvYCg/OlxcXFxgfFxcXFw/W15gXSkqYC8sXG5cdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0J2ludGVycG9sYXRpb24nOiB7XG5cdFx0XHRcdFx0cGF0dGVybjogL1xcJFxce1tefV0rXFx9Lyxcblx0XHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHRcdCdpbnRlcnBvbGF0aW9uLXB1bmN0dWF0aW9uJzoge1xuXHRcdFx0XHRcdFx0XHRwYXR0ZXJuOiAvXlxcJFxce3xcXH0kLyxcblx0XHRcdFx0XHRcdFx0YWxpYXM6ICdwdW5jdHVhdGlvbidcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRyZXN0OiBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0J3N0cmluZyc6IC9bXFxzXFxTXSsvXG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcblx0XG5cdGlmIChQcmlzbS5sYW5ndWFnZXMubWFya3VwKSB7XG5cdFx0UHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnbWFya3VwJywgJ3RhZycsIHtcblx0XHRcdCdzY3JpcHQnOiB7XG5cdFx0XHRcdHBhdHRlcm46IC8oPHNjcmlwdFtcXHdcXFddKj8+KVtcXHdcXFddKj8oPz08XFwvc2NyaXB0PikvaSxcblx0XHRcdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdCxcblx0XHRcdFx0YWxpYXM6ICdsYW5ndWFnZS1qYXZhc2NyaXB0J1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMuanMgPSBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdDtcblx0XG5cdC8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICAgICBCZWdpbiBwcmlzbS1maWxlLWhpZ2hsaWdodC5qc1xuXHQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cdFxuXHQoZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2Ygc2VsZiA9PT0gJ3VuZGVmaW5lZCcgfHwgIXNlbGYuUHJpc20gfHwgIXNlbGYuZG9jdW1lbnQgfHwgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFxuXHRcdHNlbGYuUHJpc20uZmlsZUhpZ2hsaWdodCA9IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBFeHRlbnNpb25zID0ge1xuXHRcdFx0XHQnanMnOiAnamF2YXNjcmlwdCcsXG5cdFx0XHRcdCdodG1sJzogJ21hcmt1cCcsXG5cdFx0XHRcdCdzdmcnOiAnbWFya3VwJyxcblx0XHRcdFx0J3htbCc6ICdtYXJrdXAnLFxuXHRcdFx0XHQncHknOiAncHl0aG9uJyxcblx0XHRcdFx0J3JiJzogJ3J1YnknLFxuXHRcdFx0XHQncHMxJzogJ3Bvd2Vyc2hlbGwnLFxuXHRcdFx0XHQncHNtMSc6ICdwb3dlcnNoZWxsJ1xuXHRcdFx0fTtcblx0XG5cdFx0XHRpZihBcnJheS5wcm90b3R5cGUuZm9yRWFjaCkgeyAvLyBDaGVjayB0byBwcmV2ZW50IGVycm9yIGluIElFOFxuXHRcdFx0XHRBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdwcmVbZGF0YS1zcmNdJykpLmZvckVhY2goZnVuY3Rpb24gKHByZSkge1xuXHRcdFx0XHRcdHZhciBzcmMgPSBwcmUuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpO1xuXHRcblx0XHRcdFx0XHR2YXIgbGFuZ3VhZ2UsIHBhcmVudCA9IHByZTtcblx0XHRcdFx0XHR2YXIgbGFuZyA9IC9cXGJsYW5nKD86dWFnZSk/LSg/IVxcKikoXFx3KylcXGIvaTtcblx0XHRcdFx0XHR3aGlsZSAocGFyZW50ICYmICFsYW5nLnRlc3QocGFyZW50LmNsYXNzTmFtZSkpIHtcblx0XHRcdFx0XHRcdHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0aWYgKHBhcmVudCkge1xuXHRcdFx0XHRcdFx0bGFuZ3VhZ2UgPSAocHJlLmNsYXNzTmFtZS5tYXRjaChsYW5nKSB8fCBbLCAnJ10pWzFdO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0aWYgKCFsYW5ndWFnZSkge1xuXHRcdFx0XHRcdFx0dmFyIGV4dGVuc2lvbiA9IChzcmMubWF0Y2goL1xcLihcXHcrKSQvKSB8fCBbLCAnJ10pWzFdO1xuXHRcdFx0XHRcdFx0bGFuZ3VhZ2UgPSBFeHRlbnNpb25zW2V4dGVuc2lvbl0gfHwgZXh0ZW5zaW9uO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0dmFyIGNvZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjb2RlJyk7XG5cdFx0XHRcdFx0Y29kZS5jbGFzc05hbWUgPSAnbGFuZ3VhZ2UtJyArIGxhbmd1YWdlO1xuXHRcblx0XHRcdFx0XHRwcmUudGV4dENvbnRlbnQgPSAnJztcblx0XG5cdFx0XHRcdFx0Y29kZS50ZXh0Q29udGVudCA9ICdMb2FkaW5n4oCmJztcblx0XG5cdFx0XHRcdFx0cHJlLmFwcGVuZENoaWxkKGNvZGUpO1xuXHRcblx0XHRcdFx0XHR2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdFxuXHRcdFx0XHRcdHhoci5vcGVuKCdHRVQnLCBzcmMsIHRydWUpO1xuXHRcblx0XHRcdFx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0aWYgKHhoci5yZWFkeVN0YXRlID09IDQpIHtcblx0XG5cdFx0XHRcdFx0XHRcdGlmICh4aHIuc3RhdHVzIDwgNDAwICYmIHhoci5yZXNwb25zZVRleHQpIHtcblx0XHRcdFx0XHRcdFx0XHRjb2RlLnRleHRDb250ZW50ID0geGhyLnJlc3BvbnNlVGV4dDtcblx0XG5cdFx0XHRcdFx0XHRcdFx0UHJpc20uaGlnaGxpZ2h0RWxlbWVudChjb2RlKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRlbHNlIGlmICh4aHIuc3RhdHVzID49IDQwMCkge1xuXHRcdFx0XHRcdFx0XHRcdGNvZGUudGV4dENvbnRlbnQgPSAn4pyWIEVycm9yICcgKyB4aHIuc3RhdHVzICsgJyB3aGlsZSBmZXRjaGluZyBmaWxlOiAnICsgeGhyLnN0YXR1c1RleHQ7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29kZS50ZXh0Q29udGVudCA9ICfinJYgRXJyb3I6IEZpbGUgZG9lcyBub3QgZXhpc3Qgb3IgaXMgZW1wdHknO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XG5cdFx0XHRcdFx0eGhyLnNlbmQobnVsbCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcblx0XHR9O1xuXHRcblx0XHRzZWxmLlByaXNtLmZpbGVIaWdobGlnaHQoKTtcblx0XG5cdH0pKCk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSgpKSkpXG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHR2YXIgZnJvbSA9IGZ1bmN0aW9uKG9wdHMsIHBsdWdpbnMpIHtcblx0ICB2YXIgcGFyZW50ID0gKG9wdHMucGFyZW50IHx8IG9wdHMpLm5vZGVUeXBlID09PSAxID8gKG9wdHMucGFyZW50IHx8IG9wdHMpIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRzLnBhcmVudCB8fCBvcHRzKSxcblx0ICAgIHNsaWRlcyA9IFtdLmZpbHRlci5jYWxsKHR5cGVvZiBvcHRzLnNsaWRlcyA9PT0gJ3N0cmluZycgPyBwYXJlbnQucXVlcnlTZWxlY3RvckFsbChvcHRzLnNsaWRlcykgOiAob3B0cy5zbGlkZXMgfHwgcGFyZW50LmNoaWxkcmVuKSwgZnVuY3Rpb24oZWwpIHsgcmV0dXJuIGVsLm5vZGVOYW1lICE9PSAnU0NSSVBUJzsgfSksXG5cdCAgICBhY3RpdmVTbGlkZSA9IHNsaWRlc1swXSxcblx0ICAgIGxpc3RlbmVycyA9IHt9LFxuXHRcblx0ICAgIGFjdGl2YXRlID0gZnVuY3Rpb24oaW5kZXgsIGN1c3RvbURhdGEpIHtcblx0ICAgICAgaWYgKCFzbGlkZXNbaW5kZXhdKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBmaXJlKCdkZWFjdGl2YXRlJywgY3JlYXRlRXZlbnREYXRhKGFjdGl2ZVNsaWRlLCBjdXN0b21EYXRhKSk7XG5cdCAgICAgIGFjdGl2ZVNsaWRlID0gc2xpZGVzW2luZGV4XTtcblx0ICAgICAgZmlyZSgnYWN0aXZhdGUnLCBjcmVhdGVFdmVudERhdGEoYWN0aXZlU2xpZGUsIGN1c3RvbURhdGEpKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgc2xpZGUgPSBmdW5jdGlvbihpbmRleCwgY3VzdG9tRGF0YSkge1xuXHQgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuXHQgICAgICAgIGZpcmUoJ3NsaWRlJywgY3JlYXRlRXZlbnREYXRhKHNsaWRlc1tpbmRleF0sIGN1c3RvbURhdGEpKSAmJiBhY3RpdmF0ZShpbmRleCwgY3VzdG9tRGF0YSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHNsaWRlcy5pbmRleE9mKGFjdGl2ZVNsaWRlKTtcblx0ICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICBzdGVwID0gZnVuY3Rpb24ob2Zmc2V0LCBjdXN0b21EYXRhKSB7XG5cdCAgICAgIHZhciBzbGlkZUluZGV4ID0gc2xpZGVzLmluZGV4T2YoYWN0aXZlU2xpZGUpICsgb2Zmc2V0O1xuXHRcblx0ICAgICAgZmlyZShvZmZzZXQgPiAwID8gJ25leHQnIDogJ3ByZXYnLCBjcmVhdGVFdmVudERhdGEoYWN0aXZlU2xpZGUsIGN1c3RvbURhdGEpKSAmJiBhY3RpdmF0ZShzbGlkZUluZGV4LCBjdXN0b21EYXRhKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgb24gPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG5cdCAgICAgIChsaXN0ZW5lcnNbZXZlbnROYW1lXSB8fCAobGlzdGVuZXJzW2V2ZW50TmFtZV0gPSBbXSkpLnB1c2goY2FsbGJhY2spO1xuXHQgICAgICByZXR1cm4gb2ZmLmJpbmQobnVsbCwgZXZlbnROYW1lLCBjYWxsYmFjayk7XG5cdCAgICB9LFxuXHRcblx0ICAgIG9mZiA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcblx0ICAgICAgbGlzdGVuZXJzW2V2ZW50TmFtZV0gPSAobGlzdGVuZXJzW2V2ZW50TmFtZV0gfHwgW10pLmZpbHRlcihmdW5jdGlvbihsaXN0ZW5lcikgeyByZXR1cm4gbGlzdGVuZXIgIT09IGNhbGxiYWNrOyB9KTtcblx0ICAgIH0sXG5cdFxuXHQgICAgZmlyZSA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZXZlbnREYXRhKSB7XG5cdCAgICAgIHJldHVybiAobGlzdGVuZXJzW2V2ZW50TmFtZV0gfHwgW10pXG5cdCAgICAgICAgLnJlZHVjZShmdW5jdGlvbihub3RDYW5jZWxsZWQsIGNhbGxiYWNrKSB7XG5cdCAgICAgICAgICByZXR1cm4gbm90Q2FuY2VsbGVkICYmIGNhbGxiYWNrKGV2ZW50RGF0YSkgIT09IGZhbHNlO1xuXHQgICAgICAgIH0sIHRydWUpO1xuXHQgICAgfSxcblx0XG5cdCAgICBjcmVhdGVFdmVudERhdGEgPSBmdW5jdGlvbihlbCwgZXZlbnREYXRhKSB7XG5cdCAgICAgIGV2ZW50RGF0YSA9IGV2ZW50RGF0YSB8fCB7fTtcblx0ICAgICAgZXZlbnREYXRhLmluZGV4ID0gc2xpZGVzLmluZGV4T2YoZWwpO1xuXHQgICAgICBldmVudERhdGEuc2xpZGUgPSBlbDtcblx0ICAgICAgcmV0dXJuIGV2ZW50RGF0YTtcblx0ICAgIH0sXG5cdFxuXHQgICAgZGVjayA9IHtcblx0ICAgICAgb246IG9uLFxuXHQgICAgICBvZmY6IG9mZixcblx0ICAgICAgZmlyZTogZmlyZSxcblx0ICAgICAgc2xpZGU6IHNsaWRlLFxuXHQgICAgICBuZXh0OiBzdGVwLmJpbmQobnVsbCwgMSksXG5cdCAgICAgIHByZXY6IHN0ZXAuYmluZChudWxsLCAtMSksXG5cdCAgICAgIHBhcmVudDogcGFyZW50LFxuXHQgICAgICBzbGlkZXM6IHNsaWRlc1xuXHQgICAgfTtcblx0XG5cdCAgKHBsdWdpbnMgfHwgW10pLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKSB7XG5cdCAgICBwbHVnaW4oZGVjayk7XG5cdCAgfSk7XG5cdFxuXHQgIGFjdGl2YXRlKDApO1xuXHRcblx0ICByZXR1cm4gZGVjaztcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIGZyb206IGZyb21cblx0fTtcblxuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHJlcXVpcmU7dmFyIHJlcXVpcmU7LyohXG5cdCAqIGJlc3Bva2UtdGhlbWUtbmVidWxhIHYxLjAuMVxuXHQgKlxuXHQgKiBDb3B5cmlnaHQgMjAxNCwgTWFyayBEYWxnbGVpc2hcblx0ICogVGhpcyBjb250ZW50IGlzIHJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuXHQgKiBcblx0ICovXG5cdFxuXHQhZnVuY3Rpb24oZSl7aWYodHJ1ZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKGUpO2Vsc2V7dmFyIG87XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz9vPXdpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP289Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiYobz1zZWxmKTt2YXIgZj1vO2Y9Zi5iZXNwb2tlfHwoZi5iZXNwb2tlPXt9KSxmPWYudGhlbWVzfHwoZi50aGVtZXM9e30pLGYubmVidWxhPWUoKX19KGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIHJlcXVpcmUobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRcblx0dmFyIGNsYXNzZXMgPSBfZGVyZXFfKCdiZXNwb2tlLWNsYXNzZXMnKTtcblx0dmFyIGluc2VydENzcyA9IF9kZXJlcV8oJ2luc2VydC1jc3MnKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdCAgdmFyIGNzcyA9IFwiLyohIG5vcm1hbGl6ZS5jc3MgdjMuMC4wIHwgTUlUIExpY2Vuc2UgfCBnaXQuaW8vbm9ybWFsaXplICovaHRtbHtmb250LWZhbWlseTpzYW5zLXNlcmlmOy1tcy10ZXh0LXNpemUtYWRqdXN0OjEwMCU7LXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OjEwMCV9Ym9keXttYXJnaW46MH1hcnRpY2xlLGFzaWRlLGRldGFpbHMsZmlnY2FwdGlvbixmaWd1cmUsZm9vdGVyLGhlYWRlcixoZ3JvdXAsbWFpbixuYXYsc2VjdGlvbixzdW1tYXJ5e2Rpc3BsYXk6YmxvY2t9YXVkaW8sY2FudmFzLHByb2dyZXNzLHZpZGVve2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfWF1ZGlvOm5vdChbY29udHJvbHNdKXtkaXNwbGF5Om5vbmU7aGVpZ2h0OjB9W2hpZGRlbl0sdGVtcGxhdGV7ZGlzcGxheTpub25lfWF7YmFja2dyb3VuZDowIDB9YTphY3RpdmUsYTpob3ZlcntvdXRsaW5lOjB9YWJiclt0aXRsZV17Ym9yZGVyLWJvdHRvbToxcHggZG90dGVkfWJ7Zm9udC13ZWlnaHQ6NzAwfWRmbntmb250LXN0eWxlOml0YWxpY31oMXtmb250LXNpemU6MmVtfW1hcmt7YmFja2dyb3VuZDojZmYwO2NvbG9yOiMwMDB9c21hbGx7Zm9udC1zaXplOjgwJX1zdWIsc3Vwe2ZvbnQtc2l6ZTo3NSU7bGluZS1oZWlnaHQ6MDtwb3NpdGlvbjpyZWxhdGl2ZTt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZX1zdXB7dG9wOi0uNWVtfXN1Yntib3R0b206LS4yNWVtfWltZ3tib3JkZXI6MH1zdmc6bm90KDpyb290KXtvdmVyZmxvdzpoaWRkZW59ZmlndXJle21hcmdpbjoxZW0gNDBweH1ocntib3gtc2l6aW5nOmNvbnRlbnQtYm94fXByZXtvdmVyZmxvdzphdXRvfWNvZGUsa2JkLHByZSxzYW1we2ZvbnQtc2l6ZToxZW19a2JkLHByZSxzYW1we2ZvbnQtZmFtaWx5Om1vbm9zcGFjZSxtb25vc3BhY2V9YnV0dG9uLGlucHV0LG9wdGdyb3VwLHNlbGVjdCx0ZXh0YXJlYXtjb2xvcjppbmhlcml0O2ZvbnQ6aW5oZXJpdDttYXJnaW46MH1idXR0b257b3ZlcmZsb3c6dmlzaWJsZX1idXR0b24sc2VsZWN0e3RleHQtdHJhbnNmb3JtOm5vbmV9YnV0dG9uLGh0bWwgaW5wdXRbdHlwZT1cXFwiYnV0dG9uXFxcIl0saW5wdXRbdHlwZT1cXFwicmVzZXRcXFwiXSxpbnB1dFt0eXBlPVxcXCJzdWJtaXRcXFwiXXstd2Via2l0LWFwcGVhcmFuY2U6YnV0dG9uO2N1cnNvcjpwb2ludGVyfWJ1dHRvbltkaXNhYmxlZF0saHRtbCBpbnB1dFtkaXNhYmxlZF17Y3Vyc29yOmRlZmF1bHR9YnV0dG9uOjotbW96LWZvY3VzLWlubmVyLGlucHV0OjotbW96LWZvY3VzLWlubmVye2JvcmRlcjowO3BhZGRpbmc6MH1pbnB1dHtsaW5lLWhlaWdodDpub3JtYWx9aW5wdXRbdHlwZT1cXFwiY2hlY2tib3hcXFwiXSxpbnB1dFt0eXBlPVxcXCJyYWRpb1xcXCJde2JveC1zaXppbmc6Ym9yZGVyLWJveDtwYWRkaW5nOjB9aW5wdXRbdHlwZT1cXFwibnVtYmVyXFxcIl06Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24saW5wdXRbdHlwZT1cXFwibnVtYmVyXFxcIl06Oi13ZWJraXQtb3V0ZXItc3Bpbi1idXR0b257aGVpZ2h0OmF1dG99aW5wdXRbdHlwZT1cXFwic2VhcmNoXFxcIl17LXdlYmtpdC1hcHBlYXJhbmNlOnRleHRmaWVsZDtib3gtc2l6aW5nOmNvbnRlbnQtYm94fWlucHV0W3R5cGU9XFxcInNlYXJjaFxcXCJdOjotd2Via2l0LXNlYXJjaC1jYW5jZWwtYnV0dG9uLGlucHV0W3R5cGU9XFxcInNlYXJjaFxcXCJdOjotd2Via2l0LXNlYXJjaC1kZWNvcmF0aW9uey13ZWJraXQtYXBwZWFyYW5jZTpub25lfWZpZWxkc2V0e2JvcmRlcjoxcHggc29saWQgc2lsdmVyO21hcmdpbjowIDJweDtwYWRkaW5nOi4zNWVtIC42MjVlbSAuNzVlbX1sZWdlbmR7Ym9yZGVyOjA7cGFkZGluZzowfXRleHRhcmVhe292ZXJmbG93OmF1dG99b3B0Z3JvdXB7Zm9udC13ZWlnaHQ6NzAwfXRhYmxle2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtib3JkZXItc3BhY2luZzowfXRkLHRoLCp7cGFkZGluZzowfSp7bWFyZ2luOjB9aHRtbHstd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6YXV0bzstbXMtdGV4dC1zaXplLWFkanVzdDphdXRvO3RleHQtc2l6ZS1hZGp1c3Q6YXV0b30uYmVzcG9rZS1wYXJlbnR7Zm9udC1zaXplOjEuNWVtO2JhY2tncm91bmQ6IzExMTtjb2xvcjojZGRkO2ZvbnQtZmFtaWx5OmZ1dHVyYSxoZWx2ZXRpY2EsYXJpYWwsYXJpYWwsc2Fucy1zZXJpZjtvdmVyZmxvdzpoaWRkZW47dGV4dC1hbGlnbjpjZW50ZXI7LXdlYmtpdC10cmFuc2l0aW9uOmJhY2tncm91bmQgMXMgZWFzZTt0cmFuc2l0aW9uOmJhY2tncm91bmQgMXMgZWFzZTtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJSA1MCV9LmJlc3Bva2UtcGFyZW50LC5iZXNwb2tlLXNjYWxlLXBhcmVudHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MH0uYmVzcG9rZS1zY2FsZS1wYXJlbnR7cG9pbnRlci1ldmVudHM6bm9uZTt6LWluZGV4OjF9LmJlc3Bva2Utc2NhbGUtcGFyZW50IC5iZXNwb2tlLWFjdGl2ZXtwb2ludGVyLWV2ZW50czphdXRvfS5iZXNwb2tlLXNsaWRley13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC41cyBlYXNlO3RyYW5zaXRpb246b3BhY2l0eSAuNXMgZWFzZTt3aWR0aDo5NDBweDtoZWlnaHQ6NDgwcHg7cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwJTtsZWZ0OjUwJTttYXJnaW4tbGVmdDotNDcwcHg7bWFyZ2luLXRvcDotMjQwcHg7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi13ZWJraXQtZmxleDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1vcmllbnQ6dmVydGljYWw7LXdlYmtpdC1ib3gtZGlyZWN0aW9uOm5vcm1hbDstd2Via2l0LWZsZXgtZGlyZWN0aW9uOmNvbHVtbjstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjstd2Via2l0LWJveC1wYWNrOmNlbnRlcjstd2Via2l0LWp1c3RpZnktY29udGVudDpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LXdlYmtpdC1hbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjt6LWluZGV4OjF9LmJlc3Bva2UtYWN0aXZley13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTouNXM7dHJhbnNpdGlvbi1kZWxheTouNXN9LmJlc3Bva2UtYWN0aXZlW2RhdGEtYmVzcG9rZS1iYWNrZHJvcF17LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5Oi43NXM7dHJhbnNpdGlvbi1kZWxheTouNzVzfS5iZXNwb2tlLWluYWN0aXZle29wYWNpdHk6MDtwb2ludGVyLWV2ZW50czpub25lfS5iZXNwb2tlLWJhY2tkcm9wey13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDFzIGVhc2U7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOjB9LmJlc3Bva2UtcHJvZ3Jlc3MtcGFyZW50e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtyaWdodDowO2hlaWdodDouM3Z3O3otaW5kZXg6MX0uYmVzcG9rZS1wcm9ncmVzcy1iYXJ7YmFja2dyb3VuZDojZGRkO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtoZWlnaHQ6MTAwJTstd2Via2l0LXRyYW5zaXRpb246d2lkdGggMXMgZWFzZTt0cmFuc2l0aW9uOndpZHRoIDFzIGVhc2V9LmJlc3Bva2UtYnVsbGV0ey13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC4zcyBlYXNlO3RyYW5zaXRpb246b3BhY2l0eSAuM3MgZWFzZX0uYmVzcG9rZS1idWxsZXQtaW5hY3RpdmV7b3BhY2l0eTowfXN0cm9uZ3tmb250LXdlaWdodDo0MDB9aHJ7d2lkdGg6NTAlO21hcmdpbjoxcmVtIGF1dG87aGVpZ2h0OjFweDtib3JkZXI6MDtiYWNrZ3JvdW5kOiNkZGR9aDMscCxsaXtwYWRkaW5nLWxlZnQ6MjBweDtwYWRkaW5nLXJpZ2h0OjIwcHh9aDMsaDQscCxsaSxwcmV7Zm9udC13ZWlnaHQ6MjAwfWgxe2xpbmUtaGVpZ2h0OjEuNGVtO3BhZGRpbmc6MWVtO2JvcmRlcjoxcHggc29saWQgI2RkZDtib3JkZXItbGVmdC13aWR0aDowO2JvcmRlci1yaWdodC13aWR0aDowO21pbi13aWR0aDo4ZW19aDEsaDJ7bGV0dGVyLXNwYWNpbmc6LjNlbTt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7Zm9udC13ZWlnaHQ6NDAwO21hcmdpbjouMTdlbSAwO3Bvc2l0aW9uOnJlbGF0aXZlfWgye2xpbmUtaGVpZ2h0OjEuMWVtO3BhZGRpbmc6MCAwIDAgLjNlbX1oM3tmb250LWZhbWlseTpkaWRvdCx0aW1lcyBuZXcgcm9tYW4sc2VyaWY7Zm9udC1zdHlsZTppdGFsaWM7Zm9udC1zaXplOjEuMmVtO2xpbmUtaGVpZ2h0OjEuNmVtO21hcmdpbjouNWVtIDB9aDR7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO2ZvbnQtc2l6ZTouOGVtO2xpbmUtaGVpZ2h0OjEuOGVtO2xldHRlci1zcGFjaW5nOi4zZW07bWFyZ2luOjFlbSAwfXVsLG9se3BhZGRpbmc6MDttYXJnaW46MDt0ZXh0LWFsaWduOmxlZnR9bGl7bGlzdC1zdHlsZTpub25lO21hcmdpbjouMmVtO2ZvbnQtc3R5bGU6bm9ybWFsOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTZweCk7LW1zLXRyYW5zZm9ybTp0cmFuc2xhdGVYKC02cHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC02cHgpfWxpOmJlZm9yZXtjb250ZW50OidcXFxcMjAxNCc7bWFyZ2luLXJpZ2h0OjRweH1wcmV7YmFja2dyb3VuZDpub25lIWltcG9ydGFudH1jb2Rle2ZvbnQtZmFtaWx5OnByZXN0aWdlIGVsaXRlIHN0ZCxjb25zb2xhcyxjb3VyaWVyIG5ldyxtb25vc3BhY2UhaW1wb3J0YW50O2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0OjIwMCFpbXBvcnRhbnQ7dGV4dC1hbGlnbjpsZWZ0fWF7cGFkZGluZy1sZWZ0Oi4zZW07Y29sb3I6Y3VycmVudENvbG9yO3RleHQtZGVjb3JhdGlvbjpub25lO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIGN1cnJlbnRDb2xvcn0uZW1waGF0aWN7YmFja2dyb3VuZDojZjMwfS5zaW5nbGUtd29yZHN7d29yZC1zcGFjaW5nOjk5OTlweDtsaW5lLWhlaWdodDoyLjllbTtvdmVyZmxvdzpoaWRkZW59LmJlc3Bva2UtYmFja2Ryb3B7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDFzIGVhc2UsLXdlYmtpdC10cmFuc2Zvcm0gNnMgZWFzZTt0cmFuc2l0aW9uOm9wYWNpdHkgMXMgZWFzZSx0cmFuc2Zvcm0gNnMgZWFzZTtiYWNrZ3JvdW5kLXNpemU6Y292ZXI7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCUgNTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMClzY2FsZSgxLjMpO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApc2NhbGUoMS4zKX0uYmVzcG9rZS1iYWNrZHJvcC1hY3RpdmUsLmJlc3Bva2UtYmFja2Ryb3AtYmVmb3Jley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCl9LmJlc3Bva2UtYmFja2Ryb3AtYmVmb3Jley13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTouMnM7dHJhbnNpdGlvbi1kZWxheTouMnN9LmJlc3Bva2UtYmFja2Ryb3AtYWN0aXZle29wYWNpdHk6LjV9XCI7XG5cdCAgaW5zZXJ0Q3NzKGNzcywgeyBwcmVwZW5kOiB0cnVlIH0pO1xuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgY2xhc3NlcygpKGRlY2spO1xuXHQgIH07XG5cdH07XG5cdFxuXHR9LHtcImJlc3Bva2UtY2xhc3Nlc1wiOjIsXCJpbnNlcnQtY3NzXCI6M31dLDI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICB2YXIgYWRkQ2xhc3MgPSBmdW5jdGlvbihlbCwgY2xzKSB7XG5cdCAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS0nICsgY2xzKTtcblx0ICAgICAgfSxcblx0XG5cdCAgICAgIHJlbW92ZUNsYXNzID0gZnVuY3Rpb24oZWwsIGNscykge1xuXHQgICAgICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZVxuXHQgICAgICAgICAgLnJlcGxhY2UobmV3IFJlZ0V4cCgnYmVzcG9rZS0nICsgY2xzICsnKFxcXFxzfCQpJywgJ2cnKSwgJyAnKVxuXHQgICAgICAgICAgLnRyaW0oKTtcblx0ICAgICAgfSxcblx0XG5cdCAgICAgIGRlYWN0aXZhdGUgPSBmdW5jdGlvbihlbCwgaW5kZXgpIHtcblx0ICAgICAgICB2YXIgYWN0aXZlU2xpZGUgPSBkZWNrLnNsaWRlc1tkZWNrLnNsaWRlKCldLFxuXHQgICAgICAgICAgb2Zmc2V0ID0gaW5kZXggLSBkZWNrLnNsaWRlKCksXG5cdCAgICAgICAgICBvZmZzZXRDbGFzcyA9IG9mZnNldCA+IDAgPyAnYWZ0ZXInIDogJ2JlZm9yZSc7XG5cdFxuXHQgICAgICAgIFsnYmVmb3JlKC1cXFxcZCspPycsICdhZnRlcigtXFxcXGQrKT8nLCAnYWN0aXZlJywgJ2luYWN0aXZlJ10ubWFwKHJlbW92ZUNsYXNzLmJpbmQobnVsbCwgZWwpKTtcblx0XG5cdCAgICAgICAgaWYgKGVsICE9PSBhY3RpdmVTbGlkZSkge1xuXHQgICAgICAgICAgWydpbmFjdGl2ZScsIG9mZnNldENsYXNzLCBvZmZzZXRDbGFzcyArICctJyArIE1hdGguYWJzKG9mZnNldCldLm1hcChhZGRDbGFzcy5iaW5kKG51bGwsIGVsKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHRcblx0ICAgIGFkZENsYXNzKGRlY2sucGFyZW50LCAncGFyZW50Jyk7XG5cdCAgICBkZWNrLnNsaWRlcy5tYXAoZnVuY3Rpb24oZWwpIHsgYWRkQ2xhc3MoZWwsICdzbGlkZScpOyB9KTtcblx0XG5cdCAgICBkZWNrLm9uKCdhY3RpdmF0ZScsIGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgZGVjay5zbGlkZXMubWFwKGRlYWN0aXZhdGUpO1xuXHQgICAgICBhZGRDbGFzcyhlLnNsaWRlLCAnYWN0aXZlJyk7XG5cdCAgICAgIHJlbW92ZUNsYXNzKGUuc2xpZGUsICdpbmFjdGl2ZScpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0fTtcblx0XG5cdH0se31dLDM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXHR2YXIgaW5zZXJ0ZWQgPSB7fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcywgb3B0aW9ucykge1xuXHQgICAgaWYgKGluc2VydGVkW2Nzc10pIHJldHVybjtcblx0ICAgIGluc2VydGVkW2Nzc10gPSB0cnVlO1xuXHQgICAgXG5cdCAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cdCAgICBlbGVtLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2NzcycpO1xuXHRcblx0ICAgIGlmICgndGV4dENvbnRlbnQnIGluIGVsZW0pIHtcblx0ICAgICAgZWxlbS50ZXh0Q29udGVudCA9IGNzcztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGVsZW0uc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHQgICAgfVxuXHQgICAgXG5cdCAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG5cdCAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnByZXBlbmQpIHtcblx0ICAgICAgICBoZWFkLmluc2VydEJlZm9yZShlbGVtLCBoZWFkLmNoaWxkTm9kZXNbMF0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBoZWFkLmFwcGVuZENoaWxkKGVsZW0pO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0fSx7fV19LHt9LFsxXSlcblx0KDEpXG5cdH0pO1xuXG4vKioqLyB9LFxuLyogNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgIHZhciBpc0hvcml6b250YWwgPSBvcHRpb25zICE9PSAndmVydGljYWwnO1xuXHRcblx0ICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG5cdCAgICAgIGlmIChlLndoaWNoID09IDM0IHx8IC8vIFBBR0UgRE9XTlxuXHQgICAgICAgIChlLndoaWNoID09IDMyICYmICFlLnNoaWZ0S2V5KSB8fCAvLyBTUEFDRSBXSVRIT1VUIFNISUZUXG5cdCAgICAgICAgKGlzSG9yaXpvbnRhbCAmJiBlLndoaWNoID09IDM5KSB8fCAvLyBSSUdIVFxuXHQgICAgICAgICghaXNIb3Jpem9udGFsICYmIGUud2hpY2ggPT0gNDApIC8vIERPV05cblx0ICAgICAgKSB7IGRlY2submV4dCgpOyB9XG5cdFxuXHQgICAgICBpZiAoZS53aGljaCA9PSAzMyB8fCAvLyBQQUdFIFVQXG5cdCAgICAgICAgKGUud2hpY2ggPT0gMzIgJiYgZS5zaGlmdEtleSkgfHwgLy8gU1BBQ0UgKyBTSElGVFxuXHQgICAgICAgIChpc0hvcml6b250YWwgJiYgZS53aGljaCA9PSAzNykgfHwgLy8gTEVGVFxuXHQgICAgICAgICghaXNIb3Jpem9udGFsICYmIGUud2hpY2ggPT0gMzgpIC8vIFVQXG5cdCAgICAgICkgeyBkZWNrLnByZXYoKTsgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgIHZhciBheGlzID0gb3B0aW9ucyA9PSAndmVydGljYWwnID8gJ1knIDogJ1gnLFxuXHQgICAgICBzdGFydFBvc2l0aW9uLFxuXHQgICAgICBkZWx0YTtcblx0XG5cdCAgICBkZWNrLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24oZSkge1xuXHQgICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG5cdCAgICAgICAgc3RhcnRQb3NpdGlvbiA9IGUudG91Y2hlc1swXVsncGFnZScgKyBheGlzXTtcblx0ICAgICAgICBkZWx0YSA9IDA7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHRcblx0ICAgIGRlY2sucGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgaWYgKGUudG91Y2hlcy5sZW5ndGggPT0gMSkge1xuXHQgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICBkZWx0YSA9IGUudG91Y2hlc1swXVsncGFnZScgKyBheGlzXSAtIHN0YXJ0UG9zaXRpb247XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHRcblx0ICAgIGRlY2sucGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZnVuY3Rpb24oKSB7XG5cdCAgICAgIGlmIChNYXRoLmFicyhkZWx0YSkgPiA1MCkge1xuXHQgICAgICAgIGRlY2tbZGVsdGEgPiAwID8gJ3ByZXYnIDogJ25leHQnXSgpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgdmFyIGFjdGl2ZVNsaWRlSW5kZXgsXG5cdCAgICAgIGFjdGl2ZUJ1bGxldEluZGV4LFxuXHRcblx0ICAgICAgYnVsbGV0cyA9IGRlY2suc2xpZGVzLm1hcChmdW5jdGlvbihzbGlkZSkge1xuXHQgICAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJyA/IG9wdGlvbnMgOiAnW2RhdGEtYmVzcG9rZS1idWxsZXRdJykpLCAwKTtcblx0ICAgICAgfSksXG5cdFxuXHQgICAgICBuZXh0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIG5leHRTbGlkZUluZGV4ID0gYWN0aXZlU2xpZGVJbmRleCArIDE7XG5cdFxuXHQgICAgICAgIGlmIChhY3RpdmVTbGlkZUhhc0J1bGxldEJ5T2Zmc2V0KDEpKSB7XG5cdCAgICAgICAgICBhY3RpdmF0ZUJ1bGxldChhY3RpdmVTbGlkZUluZGV4LCBhY3RpdmVCdWxsZXRJbmRleCArIDEpO1xuXHQgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoYnVsbGV0c1tuZXh0U2xpZGVJbmRleF0pIHtcblx0ICAgICAgICAgIGFjdGl2YXRlQnVsbGV0KG5leHRTbGlkZUluZGV4LCAwKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0sXG5cdFxuXHQgICAgICBwcmV2ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHByZXZTbGlkZUluZGV4ID0gYWN0aXZlU2xpZGVJbmRleCAtIDE7XG5cdFxuXHQgICAgICAgIGlmIChhY3RpdmVTbGlkZUhhc0J1bGxldEJ5T2Zmc2V0KC0xKSkge1xuXHQgICAgICAgICAgYWN0aXZhdGVCdWxsZXQoYWN0aXZlU2xpZGVJbmRleCwgYWN0aXZlQnVsbGV0SW5kZXggLSAxKTtcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGJ1bGxldHNbcHJldlNsaWRlSW5kZXhdKSB7XG5cdCAgICAgICAgICBhY3RpdmF0ZUJ1bGxldChwcmV2U2xpZGVJbmRleCwgYnVsbGV0c1twcmV2U2xpZGVJbmRleF0ubGVuZ3RoIC0gMSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9LFxuXHRcblx0ICAgICAgYWN0aXZhdGVCdWxsZXQgPSBmdW5jdGlvbihzbGlkZUluZGV4LCBidWxsZXRJbmRleCkge1xuXHQgICAgICAgIGFjdGl2ZVNsaWRlSW5kZXggPSBzbGlkZUluZGV4O1xuXHQgICAgICAgIGFjdGl2ZUJ1bGxldEluZGV4ID0gYnVsbGV0SW5kZXg7XG5cdFxuXHQgICAgICAgIGJ1bGxldHMuZm9yRWFjaChmdW5jdGlvbihzbGlkZSwgcykge1xuXHQgICAgICAgICAgc2xpZGUuZm9yRWFjaChmdW5jdGlvbihidWxsZXQsIGIpIHtcblx0ICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYnVsbGV0Jyk7XG5cdFxuXHQgICAgICAgICAgICBpZiAocyA8IHNsaWRlSW5kZXggfHwgcyA9PT0gc2xpZGVJbmRleCAmJiBiIDw9IGJ1bGxldEluZGV4KSB7XG5cdCAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYnVsbGV0LWFjdGl2ZScpO1xuXHQgICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QucmVtb3ZlKCdiZXNwb2tlLWJ1bGxldC1pbmFjdGl2ZScpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJ1bGxldC1pbmFjdGl2ZScpO1xuXHQgICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QucmVtb3ZlKCdiZXNwb2tlLWJ1bGxldC1hY3RpdmUnKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKHMgPT09IHNsaWRlSW5kZXggJiYgYiA9PT0gYnVsbGV0SW5kZXgpIHtcblx0ICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1idWxsZXQtY3VycmVudCcpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QucmVtb3ZlKCdiZXNwb2tlLWJ1bGxldC1jdXJyZW50Jyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9LFxuXHRcblx0ICAgICAgYWN0aXZlU2xpZGVIYXNCdWxsZXRCeU9mZnNldCA9IGZ1bmN0aW9uKG9mZnNldCkge1xuXHQgICAgICAgIHJldHVybiBidWxsZXRzW2FjdGl2ZVNsaWRlSW5kZXhdW2FjdGl2ZUJ1bGxldEluZGV4ICsgb2Zmc2V0XSAhPT0gdW5kZWZpbmVkO1xuXHQgICAgICB9O1xuXHRcblx0ICAgIGRlY2sub24oJ25leHQnLCBuZXh0KTtcblx0ICAgIGRlY2sub24oJ3ByZXYnLCBwcmV2KTtcblx0XG5cdCAgICBkZWNrLm9uKCdzbGlkZScsIGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgYWN0aXZhdGVCdWxsZXQoZS5pbmRleCwgMCk7XG5cdCAgICB9KTtcblx0XG5cdCAgICBhY3RpdmF0ZUJ1bGxldCgwLCAwKTtcblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICB2YXIgYmFja2Ryb3BzO1xuXHRcblx0ICAgIGZ1bmN0aW9uIGNyZWF0ZUJhY2tkcm9wRm9yU2xpZGUoc2xpZGUpIHtcblx0ICAgICAgdmFyIGJhY2tkcm9wQXR0cmlidXRlID0gc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWJlc3Bva2UtYmFja2Ryb3AnKTtcblx0XG5cdCAgICAgIGlmIChiYWNrZHJvcEF0dHJpYnV0ZSkge1xuXHQgICAgICAgIHZhciBiYWNrZHJvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHQgICAgICAgIGJhY2tkcm9wLmNsYXNzTmFtZSA9IGJhY2tkcm9wQXR0cmlidXRlO1xuXHQgICAgICAgIGJhY2tkcm9wLmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYmFja2Ryb3AnKTtcblx0ICAgICAgICBkZWNrLnBhcmVudC5hcHBlbmRDaGlsZChiYWNrZHJvcCk7XG5cdCAgICAgICAgcmV0dXJuIGJhY2tkcm9wO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gdXBkYXRlQ2xhc3NlcyhlbCkge1xuXHQgICAgICBpZiAoZWwpIHtcblx0ICAgICAgICB2YXIgaW5kZXggPSBiYWNrZHJvcHMuaW5kZXhPZihlbCksXG5cdCAgICAgICAgICBjdXJyZW50SW5kZXggPSBkZWNrLnNsaWRlKCk7XG5cdFxuXHQgICAgICAgIHJlbW92ZUNsYXNzKGVsLCAnYWN0aXZlJyk7XG5cdCAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsICdpbmFjdGl2ZScpO1xuXHQgICAgICAgIHJlbW92ZUNsYXNzKGVsLCAnYmVmb3JlJyk7XG5cdCAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsICdhZnRlcicpO1xuXHRcblx0ICAgICAgICBpZiAoaW5kZXggIT09IGN1cnJlbnRJbmRleCkge1xuXHQgICAgICAgICAgYWRkQ2xhc3MoZWwsICdpbmFjdGl2ZScpO1xuXHQgICAgICAgICAgYWRkQ2xhc3MoZWwsIGluZGV4IDwgY3VycmVudEluZGV4ID8gJ2JlZm9yZScgOiAnYWZ0ZXInKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgYWRkQ2xhc3MoZWwsICdhY3RpdmUnKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG5cdCAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2Jlc3Bva2UtYmFja2Ryb3AtJyArIGNsYXNzTmFtZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gYWRkQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuXHQgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJhY2tkcm9wLScgKyBjbGFzc05hbWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIGJhY2tkcm9wcyA9IGRlY2suc2xpZGVzXG5cdCAgICAgIC5tYXAoY3JlYXRlQmFja2Ryb3BGb3JTbGlkZSk7XG5cdFxuXHQgICAgZGVjay5vbignYWN0aXZhdGUnLCBmdW5jdGlvbigpIHtcblx0ICAgICAgYmFja2Ryb3BzLmZvckVhY2godXBkYXRlQ2xhc3Nlcyk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgdmFyIHBhcmVudCA9IGRlY2sucGFyZW50LFxuXHQgICAgICBmaXJzdFNsaWRlID0gZGVjay5zbGlkZXNbMF0sXG5cdCAgICAgIHNsaWRlSGVpZ2h0ID0gZmlyc3RTbGlkZS5vZmZzZXRIZWlnaHQsXG5cdCAgICAgIHNsaWRlV2lkdGggPSBmaXJzdFNsaWRlLm9mZnNldFdpZHRoLFxuXHQgICAgICB1c2Vab29tID0gb3B0aW9ucyA9PT0gJ3pvb20nIHx8ICgnem9vbScgaW4gcGFyZW50LnN0eWxlICYmIG9wdGlvbnMgIT09ICd0cmFuc2Zvcm0nKSxcblx0XG5cdCAgICAgIHdyYXAgPSBmdW5jdGlvbihlbGVtZW50KSB7XG5cdCAgICAgICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ICAgICAgICB3cmFwcGVyLmNsYXNzTmFtZSA9ICdiZXNwb2tlLXNjYWxlLXBhcmVudCc7XG5cdCAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh3cmFwcGVyLCBlbGVtZW50KTtcblx0ICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuXHQgICAgICAgIHJldHVybiB3cmFwcGVyO1xuXHQgICAgICB9LFxuXHRcblx0ICAgICAgZWxlbWVudHMgPSB1c2Vab29tID8gZGVjay5zbGlkZXMgOiBkZWNrLnNsaWRlcy5tYXAod3JhcCksXG5cdFxuXHQgICAgICB0cmFuc2Zvcm1Qcm9wZXJ0eSA9IChmdW5jdGlvbihwcm9wZXJ0eSkge1xuXHQgICAgICAgIHZhciBwcmVmaXhlcyA9ICdNb3ogV2Via2l0IE8gbXMnLnNwbGl0KCcgJyk7XG5cdCAgICAgICAgcmV0dXJuIHByZWZpeGVzLnJlZHVjZShmdW5jdGlvbihjdXJyZW50UHJvcGVydHksIHByZWZpeCkge1xuXHQgICAgICAgICAgICByZXR1cm4gcHJlZml4ICsgcHJvcGVydHkgaW4gcGFyZW50LnN0eWxlID8gcHJlZml4ICsgcHJvcGVydHkgOiBjdXJyZW50UHJvcGVydHk7XG5cdCAgICAgICAgICB9LCBwcm9wZXJ0eS50b0xvd2VyQ2FzZSgpKTtcblx0ICAgICAgfSgnVHJhbnNmb3JtJykpLFxuXHRcblx0ICAgICAgc2NhbGUgPSB1c2Vab29tID9cblx0ICAgICAgICBmdW5jdGlvbihyYXRpbywgZWxlbWVudCkge1xuXHQgICAgICAgICAgZWxlbWVudC5zdHlsZS56b29tID0gcmF0aW87XG5cdCAgICAgICAgfSA6XG5cdCAgICAgICAgZnVuY3Rpb24ocmF0aW8sIGVsZW1lbnQpIHtcblx0ICAgICAgICAgIGVsZW1lbnQuc3R5bGVbdHJhbnNmb3JtUHJvcGVydHldID0gJ3NjYWxlKCcgKyByYXRpbyArICcpJztcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgc2NhbGVBbGwgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgeFNjYWxlID0gcGFyZW50Lm9mZnNldFdpZHRoIC8gc2xpZGVXaWR0aCxcblx0ICAgICAgICAgIHlTY2FsZSA9IHBhcmVudC5vZmZzZXRIZWlnaHQgLyBzbGlkZUhlaWdodDtcblx0XG5cdCAgICAgICAgZWxlbWVudHMuZm9yRWFjaChzY2FsZS5iaW5kKG51bGwsIE1hdGgubWluKHhTY2FsZSwgeVNjYWxlKSkpO1xuXHQgICAgICB9O1xuXHRcblx0ICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzY2FsZUFsbCk7XG5cdCAgICBzY2FsZUFsbCgpO1xuXHQgIH07XG5cdFxuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICB2YXIgcGFyc2VIYXNoID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSksXG5cdCAgICAgICAgc2xpZGVOdW1iZXJPck5hbWUgPSBwYXJzZUludChoYXNoLCAxMCk7XG5cdFxuXHQgICAgICBpZiAoaGFzaCkge1xuXHQgICAgICAgIGlmIChzbGlkZU51bWJlck9yTmFtZSkge1xuXHQgICAgICAgICAgYWN0aXZhdGVTbGlkZShzbGlkZU51bWJlck9yTmFtZSAtIDEpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBkZWNrLnNsaWRlcy5mb3JFYWNoKGZ1bmN0aW9uKHNsaWRlLCBpKSB7XG5cdCAgICAgICAgICAgIGlmIChzbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmVzcG9rZS1oYXNoJykgPT09IGhhc2gpIHtcblx0ICAgICAgICAgICAgICBhY3RpdmF0ZVNsaWRlKGkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIGFjdGl2YXRlU2xpZGUgPSBmdW5jdGlvbihpbmRleCkge1xuXHQgICAgICB2YXIgaW5kZXhUb0FjdGl2YXRlID0gLTEgPCBpbmRleCAmJiBpbmRleCA8IGRlY2suc2xpZGVzLmxlbmd0aCA/IGluZGV4IDogMDtcblx0ICAgICAgaWYgKGluZGV4VG9BY3RpdmF0ZSAhPT0gZGVjay5zbGlkZSgpKSB7XG5cdCAgICAgICAgZGVjay5zbGlkZShpbmRleFRvQWN0aXZhdGUpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdCAgICAgIHBhcnNlSGFzaCgpO1xuXHRcblx0ICAgICAgZGVjay5vbignYWN0aXZhdGUnLCBmdW5jdGlvbihlKSB7XG5cdCAgICAgICAgdmFyIHNsaWRlTmFtZSA9IGUuc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWJlc3Bva2UtaGFzaCcpO1xuXHQgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gc2xpZGVOYW1lIHx8IGUuaW5kZXggKyAxO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgcGFyc2VIYXNoKTtcblx0ICAgIH0sIDApO1xuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDEwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24gKGRlY2spIHtcblx0ICAgIHZhciBwcm9ncmVzc1BhcmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuXHQgICAgICBwcm9ncmVzc0JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuXHQgICAgICBwcm9wID0gb3B0aW9ucyA9PT0gJ3ZlcnRpY2FsJyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcblx0XG5cdCAgICBwcm9ncmVzc1BhcmVudC5jbGFzc05hbWUgPSAnYmVzcG9rZS1wcm9ncmVzcy1wYXJlbnQnO1xuXHQgICAgcHJvZ3Jlc3NCYXIuY2xhc3NOYW1lID0gJ2Jlc3Bva2UtcHJvZ3Jlc3MtYmFyJztcblx0ICAgIHByb2dyZXNzUGFyZW50LmFwcGVuZENoaWxkKHByb2dyZXNzQmFyKTtcblx0ICAgIGRlY2sucGFyZW50LmFwcGVuZENoaWxkKHByb2dyZXNzUGFyZW50KTtcblx0XG5cdCAgICBkZWNrLm9uKCdhY3RpdmF0ZScsIGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGVbcHJvcF0gPSAoZS5pbmRleCAqIDEwMCAvIChkZWNrLnNsaWRlcy5sZW5ndGggLSAxKSkgKyAnJSc7XG5cdCAgICB9KTtcblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAxMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LypnbG9iYWwgbW9kdWxlOnRydWUsIHJlcXVpcmU6dHJ1ZSAqL1xuXHRcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgcGx1Z2luTmFtZSA9IFwiaW5kZXhmaW5nZXJcIixcblx0ICAgIC8vIEhhY2sgdG8gZ2V0IGFyb3VuZCBoYXZpbmcgdG8gd3JpdGUgYWxsIGJyb3dzZXIgY29kZSB3aXRoIHJlcXVpcmUoKS5cblx0ICAgIGJyb3dzZXJHbG9iYWwgPSAoZnVuY3Rpb24oZikge1xuXHQgICAgICAgIHJldHVybiBmKFwicmV0dXJuIHRoaXNcIikoKTtcblx0ICAgIH0oRnVuY3Rpb24pKSxcblx0ICAgIGNvbnZlbmllbnQgPSAoKGJyb3dzZXJHbG9iYWwuYmVzcG9rZSAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucyAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucy5jb252ZW5pZW50KSB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSksXG5cdCAgICBjdiA9IGNvbnZlbmllbnQuYnVpbGRlcihwbHVnaW5OYW1lKSxcblx0XG5cdCAgICBwbHVnaW4gPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIGRlY2tlciA9IGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgICAgICAgICAgdmFyIGN2Qm91bmRUb0RlY2sgPSBjdi5hY3RpdmF0ZURlY2soZGVjayksXG5cdFxuXHQgICAgICAgICAgICAgICAgb2ZmID0ge30sXG5cdFxuXHQgICAgICAgICAgICAgICAgYWN0aXZlU2xpZGUgPSBudWxsLFxuXHRcblx0ICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlSW5kZXggPSAtMSxcblx0XG5cdCAgICAgICAgICAgICAgICB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcyA9IHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBQbHVnaW4gZnVuY3Rpb25zIGV4cGVjdCB0byBiZSBleGVjdXRlZCBpbiBhIGRlY2sgY29udGV4dFxuXHQgICAgICAgICAgICAgICAgICAgIGVuYWJsZUFjdGl2ZVNsaWRlTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBvZmYuc2F2ZUFjdGl2ZVNsaWRlID0gdGhpcy5vbihcImFjdGl2YXRlXCIsIHVuYm91bmRBY3RpdmVTbGlkZURlY2tNZXRob2RzLnNhdmVBY3RpdmVTbGlkZS5iaW5kKHRoaXMpKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBzYXZlQWN0aXZlU2xpZGU6IGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlU2xpZGUgPSBlLnNsaWRlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZUluZGV4ID0gZS5pbmRleDtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBnZXRBY3RpdmVTbGlkZTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmVTbGlkZTtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBnZXRBY3RpdmVTbGlkZUluZGV4OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZVNsaWRlSW5kZXg7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICByZWdpc3RlckRlY2tFeHRlbnNpb25zID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZGVjay5nZXRBY3RpdmVTbGlkZSA9IHVuYm91bmRBY3RpdmVTbGlkZURlY2tNZXRob2RzLmdldEFjdGl2ZVNsaWRlLmJpbmQoZGVjayk7XG5cdCAgICAgICAgICAgICAgICAgICAgZGVjay5nZXRBY3RpdmVTbGlkZUluZGV4ID0gdW5ib3VuZEFjdGl2ZVNsaWRlRGVja01ldGhvZHMuZ2V0QWN0aXZlU2xpZGVJbmRleC5iaW5kKGRlY2spO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICBlbmFibGUgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5lbmFibGVBY3RpdmVTbGlkZUxpc3RlbmVyLmNhbGwoZGVjayk7XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIGluaXQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZWdpc3RlckRlY2tFeHRlbnNpb25zKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgZW5hYmxlKCk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHRcblx0ICAgICAgICAgICAgaW5pdCgpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIHJldHVybiBkZWNrZXI7XG5cdCAgICB9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBwbHVnaW47XG5cblxuLyoqKi8gfSxcbi8qIDEyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKmdsb2JhbCBtb2R1bGU6dHJ1ZSwgY29uc29sZTp0cnVlICovXG5cdFxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBwbHVnaW5OYW1lID0gXCJjb252ZW5pZW50XCIsXG5cdCAgICBicm93c2VyR2xvYmFsID0gKGZ1bmN0aW9uKGYpIHtcblx0ICAgICAgICByZXR1cm4gZihcInJldHVybiB0aGlzXCIpKCk7XG5cdCAgICB9KEZ1bmN0aW9uKSksXG5cdFxuXHQgICAgY3YsXG5cdFxuXHQgICAgLy8gVGhlIGRlZmF1bHRzIG9iamVjdCBpcyBwYXNzZWQgYXMgYSByZWZlcmVuY2UsIGFuZCBjYW4gYmUgbW9kaWZpZWQgYnkgYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50SW5pdFxuXHQgICAgZGVmYXVsdHMgPSB7XG5cdCAgICAgICAgbG9nZ2VyOiB7XG5cdCAgICAgICAgICAgIGxvZzogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBwaGFudG9tLXBvbHlmaWxsLmpzIHByb2JsZW1zIGJpbmRpbmcgY29uc29sZS5sb2cgKHdpbmRvdy5jb25zb2xlLmxvZylcblx0ICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIGluaXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIG1lcmdlZCA9IHt9O1xuXHRcblx0ICAgICAgICAvLyBPbmx5IG1lcmdlIGtub3duIG9wdGlvbnNcblx0ICAgICAgICBtZXJnZWQubG9nZ2VyID0ge307XG5cdCAgICAgICAgbWVyZ2VkLmxvZ2dlci5sb2cgPSAoYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucyAmJiBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zLmxvZ2dlciAmJiBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zLmxvZ2dlci5sb2cpIHx8IGRlZmF1bHRzLmxvZ2dlci5sb2c7XG5cdFxuXHQgICAgICAgIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMgPSBtZXJnZWQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIHBsdWdpbiA9IHt9LFxuXHRcblx0ICAgIGRlY2tzU3RvcmFnZXMgPSBbXSxcblx0XG5cdCAgICBpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVjayA9IGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgICAgICBpZiAoIWRlY2spIHtcblx0ICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBkZWNrQWxyZWFkeVN0b3JlZCA9IGRlY2tzU3RvcmFnZXMuc29tZShmdW5jdGlvbihkZWNrU3RvcmFnZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZGVja1N0b3JhZ2UuZGVjayA9PT0gZGVjaztcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgcmV0dXJuIGRlY2tBbHJlYWR5U3RvcmVkO1xuXHQgICAgfSxcblx0XG5cdCAgICBzdG9yZURlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICAgICAgdmFyIGRlY2tBbHJlYWR5U3RvcmVkID0gaXNTdG9yYWdlQWxyZWFkeUluaXRpYXRlZEZvckRlY2soZGVjayk7XG5cdFxuXHQgICAgICAgIGlmICghZGVja0FscmVhZHlTdG9yZWQpIHtcblx0ICAgICAgICAgICAgZGVja3NTdG9yYWdlcy5wdXNoKHtcblx0ICAgICAgICAgICAgICAgIGRlY2s6IGRlY2ssXG5cdCAgICAgICAgICAgICAgICBzdG9yYWdlOiB7fVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIGlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrQW5kUGx1Z2luID0gZnVuY3Rpb24ocGx1Z2luTmFtZSwgZGVjaykge1xuXHQgICAgICAgIGlmICghcGx1Z2luTmFtZSkge1xuXHQgICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwicGx1Z2luTmFtZSBtdXN0IGJlIGRlZmluZWQuXCIpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKCFkZWNrKSB7XG5cdCAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJkZWNrIG11c3QgYmUgZGVmaW5lZC5cIik7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgc3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrU3RvcmFnZShkZWNrKSxcblx0ICAgICAgICAgICAgaXNTdG9yYWdlSW5pdGlhdGVkID0gISEoc3RvcmFnZSAmJiBzdG9yYWdlW3BsdWdpbk5hbWVdKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIGlzU3RvcmFnZUluaXRpYXRlZDtcblx0ICAgIH0sXG5cdFxuXHQgICAgaW5pdGlhdGVEZWNrUGx1Z2luU3RvcmFnZSA9IGZ1bmN0aW9uKHBsdWdpbk5hbWUsIGRlY2spIHtcblx0ICAgICAgICBpZiAoIXBsdWdpbk5hbWUpIHtcblx0ICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcInBsdWdpbk5hbWUgbXVzdCBiZSBkZWZpbmVkLlwiKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmICghZGVjaykge1xuXHQgICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIHN0b3JhZ2UgPSBwbHVnaW4uZ2V0RGVja1N0b3JhZ2UoZGVjayk7XG5cdFxuXHQgICAgICAgIGlmICghc3RvcmFnZSkge1xuXHQgICAgICAgICAgICBzdG9yZURlY2soZGVjayk7XG5cdCAgICAgICAgICAgIHN0b3JhZ2UgPSBwbHVnaW4uZ2V0RGVja1N0b3JhZ2UoZGVjayk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBzdG9yYWdlW3BsdWdpbk5hbWVdID0ge307XG5cdCAgICB9LFxuXHRcblx0ICAgIGlzTnVtYmVyID0gZnVuY3Rpb24obikge1xuXHQgICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTgwODIvdmFsaWRhdGUtbnVtYmVycy1pbi1qYXZhc2NyaXB0LWlzbnVtZXJpY1xuXHQgICAgICAgIC8vIEZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTgzMDg0NFxuXHQgICAgICAgIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobik7XG5cdCAgICB9LFxuXHRcblx0ICAgIGluaXQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICBpbml0T3B0aW9ucygpO1xuXHQgICAgfTtcblx0XG5cdC8vIEZvciBwbHVnaW5zIHRoZW1zZWx2ZXNcblx0cGx1Z2luLmJ1aWxkZXIgPSBmdW5jdGlvbiBzZWxmKG9wdGlvbnMpIHtcblx0ICAgIGlmICghb3B0aW9ucykge1xuXHQgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJUaGUgcGx1Z2luIG9wdGlvbnMgd2VyZSBub3QgcHJvcGVybHkgZGVmaW5lZC5cIik7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG5cdCAgICAgICAgb3B0aW9ucyA9IHtcblx0ICAgICAgICAgICAgcGx1Z2luTmFtZTogb3B0aW9uc1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHR5cGVvZiBvcHRpb25zLnBsdWdpbk5hbWUgIT09IFwic3RyaW5nXCIpIHtcblx0ICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiVGhlIHBsdWdpbiBuYW1lIHdhcyBub3QgcHJvcGVybHkgZGVmaW5lZC5cIik7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGV4dGVybmFsID0ge30sXG5cdFxuXHQgICAgICAgIHRhZyA9IFwiYmVzcG9rZS5cIiArIG9wdGlvbnMucGx1Z2luTmFtZSxcblx0XG5cdCAgICAgICAgZ2VuZXJhdGVFcnJvck9iamVjdCA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcih0YWcgKyBcIjogXCIgKyBtZXNzYWdlKTtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICBldmVudE5hbWVzcGFjZSA9IG9wdGlvbnMucGx1Z2luTmFtZSxcblx0XG5cdCAgICAgICAgZXZlbnRJbk5hbWVzcGFjZSA9IGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZXZlbnROYW1lc3BhY2UgKyBcIi5cIiArIGV2ZW50TmFtZTtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICAvLyBQbHVnaW4gZnVuY3Rpb25zIGV4cGVjdCB0byBiZSBleGVjdXRlZCBpbiBhIGRlY2sgY29udGV4dFxuXHQgICAgICAgIC8vIE1pbWljaW5nLCBhbmQgZXh0ZW5kaW5nLHRoZSBpbnRlcm5hbCBjcmVhdGVFdmVudERhdGEgYmVzcG9rZSB1c2VzXG5cdCAgICAgICAgY3JlYXRlRXZlbnREYXRhID0gZnVuY3Rpb24oZGVjaywgZXZlbnROYW1lc3BhY2UsIGV2ZW50TmFtZSwgaW5uZXJFdmVudCwgc2xpZGUsIGV2ZW50RGF0YSkge1xuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcGx1Z2luLmNyZWF0ZUV2ZW50RGF0YS5jYWxsKGRlY2ssIGV2ZW50TmFtZXNwYWNlLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBldmVudERhdGEpO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICAvLyBUT0RPOiBjcmVhdGUgYSBzZWNvbmQgb2JqZWN0IGJvdW5kIHRvIGJvdGggdGhpcyBleHRlcm5hbCBvYmplY3QgYW5kIHRoZSBkZWNrLFxuXHQgICAgICAgIC8vIHRvIGF2b2lkIHBhc3NpbmcgdGhlIGRlY2sgcGFyYW1ldGVyIGV2ZXJ5IHRpbWUuIChXaGljaCBjYW4gYmUgYWxsZXZpYXRlZCB3aXRoIHNpbXBsZXIgZnVuY3Rpb24gYmluZGluZyB0aG91Z2guKVxuXHQgICAgICAgIGZpcmUgPSBmdW5jdGlvbihkZWNrLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBjdXN0b21EYXRhKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBkZWNrLmZpcmUoZXZlbnRJbk5hbWVzcGFjZShldmVudE5hbWUpLCBjcmVhdGVFdmVudERhdGEoZGVjaywgZXZlbnROYW1lc3BhY2UsIGV2ZW50TmFtZSwgaW5uZXJFdmVudCwgc2xpZGUsIGN1c3RvbURhdGEpKTtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICBsb2cgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgdmFyIHByZWZpeGVzID0gW3RhZ107XG5cdFxuXHQgICAgICAgICAgICAvLyBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zLmxvZ2dlci5sb2cgaXMgZHluYW1pYywgc28gY2FuJ3QgYmluZCBkaXJlY3RseSB0byBpdFxuXHQgICAgICAgICAgICBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zLmxvZ2dlci5sb2cuYXBwbHkoYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIubG9nLCBwcmVmaXhlcy5jb25jYXQocGx1Z2luLmNvcHlBcnJheShhcmd1bWVudHMpKSk7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgdGhyb3dJZlBsdWdpbldhc0FscmVhZHlJbml0aWF0ZWRGb3JEZWNrID0gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgICAgICAgICB2YXIgaXNTdG9yYWdlSW5pdGlhdGVkID0gaXNTdG9yYWdlQWxyZWFkeUluaXRpYXRlZEZvckRlY2tBbmRQbHVnaW4ob3B0aW9ucy5wbHVnaW5OYW1lLCBkZWNrKTtcblx0XG5cdCAgICAgICAgICAgIGlmIChpc1N0b3JhZ2VJbml0aWF0ZWQpIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJUaGUgJ1wiICsgb3B0aW9ucy5wbHVnaW5OYW1lICsgXCInIHBsdWdpbiBoYXMgYWxyZWFkeSBiZWVuIGFjdGl2YXRlZCBmb3IgdGhpcyBkZWNrLCBjYW4ndCBhY3RpdmF0ZSBpdCB0d2ljZS5cIik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICBiaW5kVG9EZWNrID0gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgICAgICAgICB2YXIgZGVja0JvdW5kID0ge307XG5cdFxuXHQgICAgICAgICAgICBkZWNrQm91bmQuY3JlYXRlRXZlbnREYXRhID0gZXh0ZXJuYWwuY3JlYXRlRXZlbnREYXRhLmJpbmQodGhpcywgZGVjayk7XG5cdCAgICAgICAgICAgIGRlY2tCb3VuZC5maXJlID0gZXh0ZXJuYWwuZmlyZS5iaW5kKHRoaXMsIGRlY2spO1xuXHQgICAgICAgICAgICBkZWNrQm91bmQuZ2V0U3RvcmFnZSA9IGV4dGVybmFsLmdldFN0b3JhZ2UuYmluZCh0aGlzLCBkZWNrKTtcblx0ICAgICAgICAgICAgZGVja0JvdW5kLmxvZyA9IGV4dGVybmFsLmxvZy5iaW5kKHRoaXMsIGRlY2spO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIGRlY2tCb3VuZDtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICBhY3RpdmF0ZURlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICAgICAgICAgIHZhciBkZWNrQm91bmQ7XG5cdFxuXHQgICAgICAgICAgICB0aHJvd0lmUGx1Z2luV2FzQWxyZWFkeUluaXRpYXRlZEZvckRlY2soZGVjayk7XG5cdCAgICAgICAgICAgIGluaXRpYXRlRGVja1BsdWdpblN0b3JhZ2Uob3B0aW9ucy5wbHVnaW5OYW1lLCBkZWNrKTtcblx0XG5cdCAgICAgICAgICAgIGRlY2tCb3VuZCA9IGJpbmRUb0RlY2soZGVjayk7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gZGVja0JvdW5kO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIGJpbmRFeHRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICBleHRlcm5hbC5jcmVhdGVFdmVudERhdGEgPSBjcmVhdGVFdmVudERhdGEuYmluZCh0aGlzKTtcblx0ICAgICAgICAgICAgZXh0ZXJuYWwuZ2VuZXJhdGVFcnJvck9iamVjdCA9IGdlbmVyYXRlRXJyb3JPYmplY3QuYmluZCh0aGlzKTtcblx0ICAgICAgICAgICAgZXh0ZXJuYWwuZmlyZSA9IGZpcmUuYmluZCh0aGlzKTtcblx0ICAgICAgICAgICAgZXh0ZXJuYWwubG9nID0gbG9nLmJpbmQodGhpcyk7XG5cdCAgICAgICAgICAgIGV4dGVybmFsLmFjdGl2YXRlRGVjayA9IGFjdGl2YXRlRGVjay5iaW5kKHRoaXMpO1xuXHQgICAgICAgICAgICBleHRlcm5hbC5nZXRTdG9yYWdlID0gcGx1Z2luLmdldERlY2tQbHVnaW5TdG9yYWdlLmJpbmQodGhpcywgb3B0aW9ucy5wbHVnaW5OYW1lKTtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICBpbml0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIGJpbmRFeHRlcm5hbCgpO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgaW5pdCgpO1xuXHRcblx0ICAgIHJldHVybiBleHRlcm5hbDtcblx0fTtcblx0XG5cdHBsdWdpbi5nZXREZWNrU3RvcmFnZSA9IGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgIGlmICghZGVjaykge1xuXHQgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJkZWNrIG11c3QgYmUgZGVmaW5lZC5cIik7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHN0b3JhZ2UgPSBudWxsO1xuXHRcblx0ICAgIGRlY2tzU3RvcmFnZXMuc29tZShmdW5jdGlvbihkZWNrU3RvcmFnZSkge1xuXHQgICAgICAgIGlmIChkZWNrU3RvcmFnZS5kZWNrID09PSBkZWNrKSB7XG5cdCAgICAgICAgICAgIHN0b3JhZ2UgPSBkZWNrU3RvcmFnZS5zdG9yYWdlO1xuXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHJldHVybiBzdG9yYWdlO1xuXHR9O1xuXHRcblx0cGx1Z2luLmdldERlY2tQbHVnaW5TdG9yYWdlID0gZnVuY3Rpb24ocGx1Z2luTmFtZSwgZGVjaykge1xuXHQgICAgaWYgKCFwbHVnaW5OYW1lKSB7XG5cdCAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcInBsdWdpbk5hbWUgbXVzdCBiZSBkZWZpbmVkLlwiKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWRlY2spIHtcblx0ICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBzdG9yYWdlID0gcGx1Z2luLmdldERlY2tTdG9yYWdlKGRlY2spO1xuXHRcblx0ICAgIGlmICghc3RvcmFnZSkge1xuXHQgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJzdG9yYWdlIHdhcyBub3QgaW5pdGlhdGVkIGZvciB0aGlzIGRlY2suXCIpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBzdG9yYWdlW3BsdWdpbk5hbWVdO1xuXHR9O1xuXHRcblx0Ly8gUGx1Z2luIGZ1bmN0aW9ucyBleHBlY3QgdG8gYmUgZXhlY3V0ZWQgaW4gYSBkZWNrIGNvbnRleHRcblx0Ly8gTWltaWNpbmcsIGFuZCBleHRlbmRpbmcsdGhlIGludGVybmFsIGNyZWF0ZUV2ZW50RGF0YSBiZXNwb2tlIHVzZXNcblx0cGx1Z2luLmNyZWF0ZUV2ZW50RGF0YSA9IGZ1bmN0aW9uKGV2ZW50TmFtZXNwYWNlLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBldmVudERhdGEpIHtcblx0ICAgIGV2ZW50RGF0YSA9IGV2ZW50RGF0YSB8fCB7fTtcblx0XG5cdCAgICBldmVudERhdGEuZXZlbnROYW1lc3BhY2UgPSBldmVudE5hbWVzcGFjZSB8fCBudWxsO1xuXHRcblx0ICAgIGV2ZW50RGF0YS5ldmVudE5hbWUgPSBldmVudE5hbWUgfHwgbnVsbDtcblx0XG5cdCAgICAvLyBDYW4gYmUgZWl0aGVyIGEgRE9NL2Jyb3dzZXIgZXZlbnQgb3IgYSBiZXNwb2tlIGV2ZW50XG5cdCAgICBldmVudERhdGEuaW5uZXJFdmVudCA9IGlubmVyRXZlbnQgfHwgbnVsbDtcblx0XG5cdCAgICBpZiAoaXNOdW1iZXIoc2xpZGUpKSB7XG5cdCAgICAgICAgZXZlbnREYXRhLmluZGV4ID0gc2xpZGU7XG5cdCAgICAgICAgZXZlbnREYXRhLnNsaWRlID0gdGhpcy5zbGlkZXNbc2xpZGVdO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBldmVudERhdGEuaW5kZXggPSB0aGlzLnNsaWRlcy5pbmRleE9mKHNsaWRlKTtcblx0ICAgICAgICBldmVudERhdGEuc2xpZGUgPSBzbGlkZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZXZlbnREYXRhO1xuXHR9O1xuXHRcblx0cGx1Z2luLmNvcHlBcnJheSA9IGZ1bmN0aW9uKGFycikge1xuXHQgICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoYXJyLCAwKTtcblx0fTtcblx0XG5cdGN2ID0gcGx1Z2luLmJ1aWxkZXIocGx1Z2luTmFtZSk7XG5cdFxuXHRpbml0KCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHBsdWdpbjtcblxuXG4vKioqLyB9LFxuLyogMTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qZ2xvYmFsIG1vZHVsZTp0cnVlLCByZXF1aXJlOnRydWUsIHdpbmRvdzp0cnVlLCBkb2N1bWVudDp0cnVlLCBNYXRoOnRydWUgKi9cblx0XG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIHBsdWdpbk5hbWUgPSBcInNlY29uZGFyeVwiLFxuXHQgICAgLy8gSGFjayB0byBnZXQgYXJvdW5kIGhhdmluZyB0byB3cml0ZSBhbGwgYnJvd3NlciBjb2RlIHdpdGggcmVxdWlyZSgpLlxuXHQgICAgYnJvd3Nlckdsb2JhbCA9IChmdW5jdGlvbihmKSB7XG5cdCAgICAgICAgcmV0dXJuIGYoXCJyZXR1cm4gdGhpc1wiKSgpO1xuXHQgICAgfShGdW5jdGlvbikpLFxuXHQgICAgY29udmVuaWVudCA9ICgoYnJvd3Nlckdsb2JhbC5iZXNwb2tlICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zLmNvbnZlbmllbnQpIHx8IF9fd2VicGFja19yZXF1aXJlX18oMTIpKSxcblx0ICAgIGN2ID0gY29udmVuaWVudC5idWlsZGVyKHBsdWdpbk5hbWUpLFxuXHRcblx0ICAgIC8vIE1ha2luZyBzdXJlIGluZGV4ZmluZ2VyIGlzIGF2YWlsYWJsZS5cblx0ICAgIC8vIFRPRE86IGNoZWNrIHRoYXQgaW5kZXhmaW5nZXIgaGFzIGJlZW4gbG9hZGVkOyBtYXliZSBjaGVja2luZyBmb3IgZGVjay5nZXRBY3RpdmVTbGlkZSgpLlxuXHQgICAgaW5kZXhmaW5nZXIgPSAoKGJyb3dzZXJHbG9iYWwuYmVzcG9rZSAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucyAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucy5pbmRleGZpbmdlcikgfHwgX193ZWJwYWNrX3JlcXVpcmVfXygxMSkpLFxuXHRcblx0ICAgIEtleUNvbnN0YW50cyA9IHtcblx0ICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvS2V5Ym9hcmRFdmVudCNWaXJ0dWFsX2tleV9jb2Rlc1xuXHQgICAgICAgIFM6IDB4NTMsIC8vICg4MykgXCJTXCIga2V5LlxuXHQgICAgfSxcblx0XG5cdCAgICBkZWZhdWx0cyA9IHtcblx0ICAgICAgICBub3RlczogXCJhc2lkZVwiLFxuXHQgICAgICAgIGtleXM6IHtcblx0ICAgICAgICAgICAgdG9nZ2xlOiBLZXlDb25zdGFudHMuU1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgcmFuZG9tSW50ZWdlciA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG5cdCAgICAgICAgLy8gVE9ETzogbG9vayBmb3Igc29tZW9uZSBlbHNlJ3MgaW1wbGVtZW50YXRpb24gLSB0aGV5J3ZlIHByb2JhYmx5IGNvdmVyZWQgYWxsIHRoZSBjb3JuZXIgY2FzZXMuXG5cdCAgICAgICAgLy8gVGhpcyBzaG91bGQgZG8gZm9yIDAgPD0gZnJvbSA8IHRvIDwgKHJhbmRvbSdzIHJlc29sdXRpb24pIHRob3VnaC5cblx0ICAgICAgICB2YXIgZGlmZixcblx0ICAgICAgICAgICAgcm5kO1xuXHRcblx0ICAgICAgICBpZiAodG8gPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICB0byA9IGZyb207XG5cdCAgICAgICAgICAgIGZyb20gPSAwO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZGlmZiA9IHRvIC0gZnJvbTtcblx0XG5cdCAgICAgICAgcm5kID0gZnJvbSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGRpZmYpO1xuXHRcblx0ICAgICAgICByZXR1cm4gcm5kO1xuXHQgICAgfSxcblx0XG5cdCAgICBiYXNlV2luZG93TmFtZSA9IHBsdWdpbk5hbWUgKyBcIi13aW5kb3ctXCIsXG5cdFxuXHQgICAgZ2VuZXJhdGVXaW5kb3dOYW1lID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHJuZCA9IHJhbmRvbUludGVnZXIoMTAwMCwgMTAwMDApLFxuXHQgICAgICAgICAgICB3aW5kb3dOYW1lID0gYmFzZVdpbmRvd05hbWUgKyBybmQ7XG5cdFxuXHQgICAgICAgIHJldHVybiB3aW5kb3dOYW1lO1xuXHQgICAgfSxcblx0XG5cdCAgICBpbml0aWFsaXplU2Vjb25kYXJ5V2luZG93Q29udGVudHMgPSBmdW5jdGlvbihkb2MpIHtcblx0ICAgICAgICBkb2MuYm9keS5pbm5lckhUTUwgPSBcIjxoMT5Ob3RlczwvaDE+PGRpdiBpZD0nbm90ZXMnPjwvZGl2PlwiO1xuXHQgICAgfSxcblx0XG5cdCAgICBwbHVnaW4gPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgICAgICAgdmFyIGRlY2tlciA9IGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgICAgICAgICAgdmFyIGN2Qm91bmRUb0RlY2sgPSBjdi5hY3RpdmF0ZURlY2soZGVjayksXG5cdFxuXHQgICAgICAgICAgICAgICAgb2ZmID0ge30sXG5cdFxuXHQgICAgICAgICAgICAgICAgdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzID0ge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG5cdCAgICAgICAgICAgICAgICAgICAgZ2V0Tm90ZXNFbGVtZW50OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vjb25kYXJ5LndpbmRvdyAmJiB0aGlzLnNlY29uZGFyeS53aW5kb3cuZG9jdW1lbnQgJiYgdGhpcy5zZWNvbmRhcnkud2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibm90ZXNcIik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgaXNPcGVuOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSB0aGlzLnNlY29uZGFyeSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHcgPSBzLndpbmRvdyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzSW5pdGlhbGl6ZWQsIGlzTm90TnVsbCwgaXNOb3RDbG9zZWQsIGlzT3duZWRCeVRoaXNXaW5kb3csIGNvbnRhaW5zTm90ZXNFbGVtZW50XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAhIShzICE9PSB1bmRlZmluZWQgJiYgdyAhPT0gbnVsbCAmJiB3LmNsb3NlZCAhPT0gdHJ1ZSAmJiB3Lm9wZW5lciA9PT0gd2luZG93ICYmIHRoaXMuc2Vjb25kYXJ5LmdldE5vdGVzRWxlbWVudCgpICE9PSBudWxsKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgb3BlbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vjb25kYXJ5LndpbmRvdyA9IHdpbmRvdy5vcGVuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXplU2Vjb25kYXJ5V2luZG93Q29udGVudHModGhpcy5zZWNvbmRhcnkud2luZG93LmRvY3VtZW50KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS53aW5kb3cuY2xvc2UoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICF0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBmb2N1czogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlY29uZGFyeS5pc09wZW4oKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkud2luZG93LmZvY3VzKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWNvbmRhcnkuaXNPcGVuKCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vjb25kYXJ5LmNsb3NlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS5vcGVuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBzeW5jaHJvbml6ZTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZU5vdGVzLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTm90ZXM7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSB0aGlzLnNlY29uZGFyeS5nZXROb3Rlc0VsZW1lbnQoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUgPSB0aGlzLmdldEFjdGl2ZVNsaWRlKCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZU5vdGVzID0gY29udmVuaWVudC5jb3B5QXJyYXkoc2xpZGUucXVlcnlTZWxlY3RvckFsbChvcHRpb25zLm5vdGVzKSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBhbGxOb3RlcyA9IHNsaWRlTm90ZXMucmVkdWNlKGZ1bmN0aW9uKG5vdGVzSHRtbCwgc2xpZGVOb3RlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm90ZXNIdG1sICsgc2xpZGVOb3RlLm91dGVySFRNTDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSwgXCJcIik7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IGFsbE5vdGVzO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgcmVnaXN0ZXJEZWNrRXh0ZW5zaW9ucyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRlY2suc2Vjb25kYXJ5ID0ge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3c6IG51bGwsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZGFyeVdpbmRvd05hbWU6IGdlbmVyYXRlV2luZG93TmFtZSgpLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBnZXROb3Rlc0VsZW1lbnQ6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5nZXROb3Rlc0VsZW1lbnQuYmluZChkZWNrKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuaXNPcGVuLmJpbmQoZGVjayksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9wZW46IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5vcGVuLmJpbmQoZGVjayksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuY2xvc2UuYmluZChkZWNrKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXM6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5mb2N1cy5iaW5kKGRlY2spLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGU6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy50b2dnbGUuYmluZChkZWNrKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc3luY2hyb25pemU6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5zeW5jaHJvbml6ZS5iaW5kKGRlY2spXG5cdCAgICAgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgaW5pdE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBtZXJnZSBmdW5jdGlvbj9cblx0ICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IG1lcmdlIGtub3duIG9wdGlvbnNcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgbWVyZ2VkID0ge307XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBtZXJnZWQua2V5cyA9IHt9O1xuXHQgICAgICAgICAgICAgICAgICAgIG1lcmdlZC5rZXlzLnRvZ2dsZSA9IChvcHRpb25zLmtleXMgJiYgb3B0aW9ucy5rZXlzLnRvZ2dsZSkgfHwgZGVmYXVsdHMua2V5cy50b2dnbGU7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIG1lcmdlZC5ub3RlcyA9IG9wdGlvbnMubm90ZXMgfHwgZGVmYXVsdHMubm90ZXM7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBtZXJnZWQ7XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIGtleURvd25MaXN0ZW5lciA9IGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRIYW5kbGVkID0gZmFsc2U7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIC8vIE5vIG1vZGlmaWVyIGtleXMsIHBsZWFzZVxuXHQgICAgICAgICAgICAgICAgICAgIGlmICghZS5hbHRLZXkgJiYgIWUuY3RybEtleSAmJiAhZS5tZXRhS2V5ICYmICFlLnNoaWZ0S2V5KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SGFuZGxlZCA9IGV2ZW50SGFuZGxlZCB8fCAoZS53aGljaCA9PT0gb3B0aW9ucy5rZXlzLnRvZ2dsZSAmJiBjdkJvdW5kVG9EZWNrLmZpcmUoXCJ0b2dnbGVcIiwgZSkgJiYgZGVjay5zZWNvbmRhcnkudG9nZ2xlKCkgJiYgZGVjay5zZWNvbmRhcnkuc3luY2hyb25pemUoKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRIYW5kbGVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiAhZXZlbnRIYW5kbGVkO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICBvbkJlZm9yZVVubG9hZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRlY2suc2Vjb25kYXJ5LmNsb3NlKCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICBvbkFjdGl2YXRlID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZGVjay5zZWNvbmRhcnkuc3luY2hyb25pemUoKTtcblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgZW5hYmxlID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgZG9lc24ndCBzZWVtIHRvIHdvcmsgZm9yIG9uYmVmb3JldW5sb2FkXG5cdCAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gb25CZWZvcmVVbmxvYWQ7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGtleURvd25MaXN0ZW5lciwgZmFsc2UpO1xuXHQgICAgICAgICAgICAgICAgICAgIG9mZi5hY3RpdmF0ZSA9IGRlY2sub24oXCJhY3RpdmF0ZVwiLCBvbkFjdGl2YXRlKTtcblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGluaXRPcHRpb25zKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJEZWNrRXh0ZW5zaW9ucygpO1xuXHQgICAgICAgICAgICAgICAgICAgIGVuYWJsZSgpO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIGluaXQoKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICByZXR1cm4gZGVja2VyO1xuXHQgICAgfTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gcGx1Z2luO1xuXG5cbi8qKiovIH1cbi8qKioqKiovIF0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFpbi5qcy5tYXAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svYm9vdHN0cmFwIDkzZDFiODIwMDZjYjc1MzEwMDRlXG4gKiovIiwicmVxdWlyZSgncHJpc21qcycpXG5jb25zdCBiZXNwb2tlID0gcmVxdWlyZSgnYmVzcG9rZScpXG5jb25zdCB0aGVtZSA9IHJlcXVpcmUoJ2Jlc3Bva2UtdGhlbWUtbmVidWxhJylcbmNvbnN0IGtleXMgPSByZXF1aXJlKCdiZXNwb2tlLWtleXMnKVxuY29uc3QgdG91Y2ggPSByZXF1aXJlKCdiZXNwb2tlLXRvdWNoJylcbmNvbnN0IGJ1bGxldHMgPSByZXF1aXJlKCdiZXNwb2tlLWJ1bGxldHMnKVxuY29uc3QgYmFja2Ryb3AgPSByZXF1aXJlKCdiZXNwb2tlLWJhY2tkcm9wJylcbmNvbnN0IHNjYWxlID0gcmVxdWlyZSgnYmVzcG9rZS1zY2FsZScpXG5jb25zdCBoYXNoID0gcmVxdWlyZSgnYmVzcG9rZS1oYXNoJylcbmNvbnN0IHByb2dyZXNzID0gcmVxdWlyZSgnYmVzcG9rZS1wcm9ncmVzcycpXG5jb25zdCBpbmRleEZpbmdlciA9IHJlcXVpcmUoJ2Jlc3Bva2UtaW5kZXhmaW5nZXInKVxuY29uc3Qgc2Vjb25kYXJ5ID0gcmVxdWlyZSgnYmVzcG9rZS1zZWNvbmRhcnknKVxuXG52YXIgcGx1Z2lucyA9IFtcbiAgdGhlbWUoKSxcbiAga2V5cygpLFxuICB0b3VjaCgpLFxuICBidWxsZXRzKCdsaSwgLmJ1bGxldCcpLFxuICBiYWNrZHJvcCgpLFxuICBzY2FsZSgpLFxuICBoYXNoKCksXG4gIHByb2dyZXNzKCksXG4gIGluZGV4RmluZ2VyKCksXG4gIHNlY29uZGFyeSgpXG5dXG5cbnRyeSB7XG4gIHJlcXVpcmUoJ3BsdWdpbnMnKShwbHVnaW5zKVxufSBjYXRjaCAoZXJyb3IpIHtcblxufVxuXG52YXIgZGVjayA9IGJlc3Bva2UuZnJvbSgnYXJ0aWNsZScsIHBsdWdpbnMpXG5cbnRyeSB7XG4gIHJlcXVpcmUoJ2RlY2snKShkZWNrKVxufSBjYXRjaCAoZXJyb3IpIHtcblxufVxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vQGFjaGluZ2JyYWluL3NsaWRlcy90ZW1wL21haW4uanNcbiAqKiBtb2R1bGUgaWQgPSAwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcbi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgQmVnaW4gcHJpc20tY29yZS5qc1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXG52YXIgX3NlbGYgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpXG5cdD8gd2luZG93ICAgLy8gaWYgaW4gYnJvd3NlclxuXHQ6IChcblx0XHQodHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyAmJiBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUpXG5cdFx0PyBzZWxmIC8vIGlmIGluIHdvcmtlclxuXHRcdDoge30gICAvLyBpZiBpbiBub2RlIGpzXG5cdCk7XG5cbi8qKlxuICogUHJpc206IExpZ2h0d2VpZ2h0LCByb2J1c3QsIGVsZWdhbnQgc3ludGF4IGhpZ2hsaWdodGluZ1xuICogTUlUIGxpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHAvXG4gKiBAYXV0aG9yIExlYSBWZXJvdSBodHRwOi8vbGVhLnZlcm91Lm1lXG4gKi9cblxudmFyIFByaXNtID0gKGZ1bmN0aW9uKCl7XG5cbi8vIFByaXZhdGUgaGVscGVyIHZhcnNcbnZhciBsYW5nID0gL1xcYmxhbmcoPzp1YWdlKT8tKD8hXFwqKShcXHcrKVxcYi9pO1xuXG52YXIgXyA9IF9zZWxmLlByaXNtID0ge1xuXHR1dGlsOiB7XG5cdFx0ZW5jb2RlOiBmdW5jdGlvbiAodG9rZW5zKSB7XG5cdFx0XHRpZiAodG9rZW5zIGluc3RhbmNlb2YgVG9rZW4pIHtcblx0XHRcdFx0cmV0dXJuIG5ldyBUb2tlbih0b2tlbnMudHlwZSwgXy51dGlsLmVuY29kZSh0b2tlbnMuY29udGVudCksIHRva2Vucy5hbGlhcyk7XG5cdFx0XHR9IGVsc2UgaWYgKF8udXRpbC50eXBlKHRva2VucykgPT09ICdBcnJheScpIHtcblx0XHRcdFx0cmV0dXJuIHRva2Vucy5tYXAoXy51dGlsLmVuY29kZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gdG9rZW5zLnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoL1xcdTAwYTAvZywgJyAnKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0dHlwZTogZnVuY3Rpb24gKG8pIHtcblx0XHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykubWF0Y2goL1xcW29iamVjdCAoXFx3KylcXF0vKVsxXTtcblx0XHR9LFxuXG5cdFx0Ly8gRGVlcCBjbG9uZSBhIGxhbmd1YWdlIGRlZmluaXRpb24gKGUuZy4gdG8gZXh0ZW5kIGl0KVxuXHRcdGNsb25lOiBmdW5jdGlvbiAobykge1xuXHRcdFx0dmFyIHR5cGUgPSBfLnV0aWwudHlwZShvKTtcblxuXHRcdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRcdGNhc2UgJ09iamVjdCc6XG5cdFx0XHRcdFx0dmFyIGNsb25lID0ge307XG5cblx0XHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gbykge1xuXHRcdFx0XHRcdFx0aWYgKG8uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRcdFx0XHRjbG9uZVtrZXldID0gXy51dGlsLmNsb25lKG9ba2V5XSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGNsb25lO1xuXG5cdFx0XHRcdGNhc2UgJ0FycmF5Jzpcblx0XHRcdFx0XHQvLyBDaGVjayBmb3IgZXhpc3RlbmNlIGZvciBJRThcblx0XHRcdFx0XHRyZXR1cm4gby5tYXAgJiYgby5tYXAoZnVuY3Rpb24odikgeyByZXR1cm4gXy51dGlsLmNsb25lKHYpOyB9KTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG87XG5cdFx0fVxuXHR9LFxuXG5cdGxhbmd1YWdlczoge1xuXHRcdGV4dGVuZDogZnVuY3Rpb24gKGlkLCByZWRlZikge1xuXHRcdFx0dmFyIGxhbmcgPSBfLnV0aWwuY2xvbmUoXy5sYW5ndWFnZXNbaWRdKTtcblxuXHRcdFx0Zm9yICh2YXIga2V5IGluIHJlZGVmKSB7XG5cdFx0XHRcdGxhbmdba2V5XSA9IHJlZGVmW2tleV07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBsYW5nO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBJbnNlcnQgYSB0b2tlbiBiZWZvcmUgYW5vdGhlciB0b2tlbiBpbiBhIGxhbmd1YWdlIGxpdGVyYWxcblx0XHQgKiBBcyB0aGlzIG5lZWRzIHRvIHJlY3JlYXRlIHRoZSBvYmplY3QgKHdlIGNhbm5vdCBhY3R1YWxseSBpbnNlcnQgYmVmb3JlIGtleXMgaW4gb2JqZWN0IGxpdGVyYWxzKSxcblx0XHQgKiB3ZSBjYW5ub3QganVzdCBwcm92aWRlIGFuIG9iamVjdCwgd2UgbmVlZCBhbm9iamVjdCBhbmQgYSBrZXkuXG5cdFx0ICogQHBhcmFtIGluc2lkZSBUaGUga2V5IChvciBsYW5ndWFnZSBpZCkgb2YgdGhlIHBhcmVudFxuXHRcdCAqIEBwYXJhbSBiZWZvcmUgVGhlIGtleSB0byBpbnNlcnQgYmVmb3JlLiBJZiBub3QgcHJvdmlkZWQsIHRoZSBmdW5jdGlvbiBhcHBlbmRzIGluc3RlYWQuXG5cdFx0ICogQHBhcmFtIGluc2VydCBPYmplY3Qgd2l0aCB0aGUga2V5L3ZhbHVlIHBhaXJzIHRvIGluc2VydFxuXHRcdCAqIEBwYXJhbSByb290IFRoZSBvYmplY3QgdGhhdCBjb250YWlucyBgaW5zaWRlYC4gSWYgZXF1YWwgdG8gUHJpc20ubGFuZ3VhZ2VzLCBpdCBjYW4gYmUgb21pdHRlZC5cblx0XHQgKi9cblx0XHRpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uIChpbnNpZGUsIGJlZm9yZSwgaW5zZXJ0LCByb290KSB7XG5cdFx0XHRyb290ID0gcm9vdCB8fCBfLmxhbmd1YWdlcztcblx0XHRcdHZhciBncmFtbWFyID0gcm9vdFtpbnNpZGVdO1xuXHRcdFx0XG5cdFx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7XG5cdFx0XHRcdGluc2VydCA9IGFyZ3VtZW50c1sxXTtcblx0XHRcdFx0XG5cdFx0XHRcdGZvciAodmFyIG5ld1Rva2VuIGluIGluc2VydCkge1xuXHRcdFx0XHRcdGlmIChpbnNlcnQuaGFzT3duUHJvcGVydHkobmV3VG9rZW4pKSB7XG5cdFx0XHRcdFx0XHRncmFtbWFyW25ld1Rva2VuXSA9IGluc2VydFtuZXdUb2tlbl07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHRyZXR1cm4gZ3JhbW1hcjtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0dmFyIHJldCA9IHt9O1xuXG5cdFx0XHRmb3IgKHZhciB0b2tlbiBpbiBncmFtbWFyKSB7XG5cblx0XHRcdFx0aWYgKGdyYW1tYXIuaGFzT3duUHJvcGVydHkodG9rZW4pKSB7XG5cblx0XHRcdFx0XHRpZiAodG9rZW4gPT0gYmVmb3JlKSB7XG5cblx0XHRcdFx0XHRcdGZvciAodmFyIG5ld1Rva2VuIGluIGluc2VydCkge1xuXG5cdFx0XHRcdFx0XHRcdGlmIChpbnNlcnQuaGFzT3duUHJvcGVydHkobmV3VG9rZW4pKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0W25ld1Rva2VuXSA9IGluc2VydFtuZXdUb2tlbl07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXRbdG9rZW5dID0gZ3JhbW1hclt0b2tlbl07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gVXBkYXRlIHJlZmVyZW5jZXMgaW4gb3RoZXIgbGFuZ3VhZ2UgZGVmaW5pdGlvbnNcblx0XHRcdF8ubGFuZ3VhZ2VzLkRGUyhfLmxhbmd1YWdlcywgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuXHRcdFx0XHRpZiAodmFsdWUgPT09IHJvb3RbaW5zaWRlXSAmJiBrZXkgIT0gaW5zaWRlKSB7XG5cdFx0XHRcdFx0dGhpc1trZXldID0gcmV0O1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHJvb3RbaW5zaWRlXSA9IHJldDtcblx0XHR9LFxuXG5cdFx0Ly8gVHJhdmVyc2UgYSBsYW5ndWFnZSBkZWZpbml0aW9uIHdpdGggRGVwdGggRmlyc3QgU2VhcmNoXG5cdFx0REZTOiBmdW5jdGlvbihvLCBjYWxsYmFjaywgdHlwZSkge1xuXHRcdFx0Zm9yICh2YXIgaSBpbiBvKSB7XG5cdFx0XHRcdGlmIChvLmhhc093blByb3BlcnR5KGkpKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2suY2FsbChvLCBpLCBvW2ldLCB0eXBlIHx8IGkpO1xuXG5cdFx0XHRcdFx0aWYgKF8udXRpbC50eXBlKG9baV0pID09PSAnT2JqZWN0Jykge1xuXHRcdFx0XHRcdFx0Xy5sYW5ndWFnZXMuREZTKG9baV0sIGNhbGxiYWNrKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAoXy51dGlsLnR5cGUob1tpXSkgPT09ICdBcnJheScpIHtcblx0XHRcdFx0XHRcdF8ubGFuZ3VhZ2VzLkRGUyhvW2ldLCBjYWxsYmFjaywgaSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRwbHVnaW5zOiB7fSxcblx0XG5cdGhpZ2hsaWdodEFsbDogZnVuY3Rpb24oYXN5bmMsIGNhbGxiYWNrKSB7XG5cdFx0dmFyIGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0sIFtjbGFzcyo9XCJsYW5ndWFnZS1cIl0gY29kZSwgY29kZVtjbGFzcyo9XCJsYW5nLVwiXSwgW2NsYXNzKj1cImxhbmctXCJdIGNvZGUnKTtcblxuXHRcdGZvciAodmFyIGk9MCwgZWxlbWVudDsgZWxlbWVudCA9IGVsZW1lbnRzW2krK107KSB7XG5cdFx0XHRfLmhpZ2hsaWdodEVsZW1lbnQoZWxlbWVudCwgYXN5bmMgPT09IHRydWUsIGNhbGxiYWNrKTtcblx0XHR9XG5cdH0sXG5cblx0aGlnaGxpZ2h0RWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCwgYXN5bmMsIGNhbGxiYWNrKSB7XG5cdFx0Ly8gRmluZCBsYW5ndWFnZVxuXHRcdHZhciBsYW5ndWFnZSwgZ3JhbW1hciwgcGFyZW50ID0gZWxlbWVudDtcblxuXHRcdHdoaWxlIChwYXJlbnQgJiYgIWxhbmcudGVzdChwYXJlbnQuY2xhc3NOYW1lKSkge1xuXHRcdFx0cGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG5cdFx0fVxuXG5cdFx0aWYgKHBhcmVudCkge1xuXHRcdFx0bGFuZ3VhZ2UgPSAocGFyZW50LmNsYXNzTmFtZS5tYXRjaChsYW5nKSB8fCBbLCcnXSlbMV07XG5cdFx0XHRncmFtbWFyID0gXy5sYW5ndWFnZXNbbGFuZ3VhZ2VdO1xuXHRcdH1cblxuXHRcdC8vIFNldCBsYW5ndWFnZSBvbiB0aGUgZWxlbWVudCwgaWYgbm90IHByZXNlbnRcblx0XHRlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UobGFuZywgJycpLnJlcGxhY2UoL1xccysvZywgJyAnKSArICcgbGFuZ3VhZ2UtJyArIGxhbmd1YWdlO1xuXG5cdFx0Ly8gU2V0IGxhbmd1YWdlIG9uIHRoZSBwYXJlbnQsIGZvciBzdHlsaW5nXG5cdFx0cGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuXG5cdFx0aWYgKC9wcmUvaS50ZXN0KHBhcmVudC5ub2RlTmFtZSkpIHtcblx0XHRcdHBhcmVudC5jbGFzc05hbWUgPSBwYXJlbnQuY2xhc3NOYW1lLnJlcGxhY2UobGFuZywgJycpLnJlcGxhY2UoL1xccysvZywgJyAnKSArICcgbGFuZ3VhZ2UtJyArIGxhbmd1YWdlO1xuXHRcdH1cblxuXHRcdHZhciBjb2RlID0gZWxlbWVudC50ZXh0Q29udGVudDtcblxuXHRcdHZhciBlbnYgPSB7XG5cdFx0XHRlbGVtZW50OiBlbGVtZW50LFxuXHRcdFx0bGFuZ3VhZ2U6IGxhbmd1YWdlLFxuXHRcdFx0Z3JhbW1hcjogZ3JhbW1hcixcblx0XHRcdGNvZGU6IGNvZGVcblx0XHR9O1xuXG5cdFx0aWYgKCFjb2RlIHx8ICFncmFtbWFyKSB7XG5cdFx0XHRfLmhvb2tzLnJ1bignY29tcGxldGUnLCBlbnYpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdF8uaG9va3MucnVuKCdiZWZvcmUtaGlnaGxpZ2h0JywgZW52KTtcblxuXHRcdGlmIChhc3luYyAmJiBfc2VsZi5Xb3JrZXIpIHtcblx0XHRcdHZhciB3b3JrZXIgPSBuZXcgV29ya2VyKF8uZmlsZW5hbWUpO1xuXG5cdFx0XHR3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24oZXZ0KSB7XG5cdFx0XHRcdGVudi5oaWdobGlnaHRlZENvZGUgPSBldnQuZGF0YTtcblxuXHRcdFx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLWluc2VydCcsIGVudik7XG5cblx0XHRcdFx0ZW52LmVsZW1lbnQuaW5uZXJIVE1MID0gZW52LmhpZ2hsaWdodGVkQ29kZTtcblxuXHRcdFx0XHRjYWxsYmFjayAmJiBjYWxsYmFjay5jYWxsKGVudi5lbGVtZW50KTtcblx0XHRcdFx0Xy5ob29rcy5ydW4oJ2FmdGVyLWhpZ2hsaWdodCcsIGVudik7XG5cdFx0XHRcdF8uaG9va3MucnVuKCdjb21wbGV0ZScsIGVudik7XG5cdFx0XHR9O1xuXG5cdFx0XHR3b3JrZXIucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRsYW5ndWFnZTogZW52Lmxhbmd1YWdlLFxuXHRcdFx0XHRjb2RlOiBlbnYuY29kZSxcblx0XHRcdFx0aW1tZWRpYXRlQ2xvc2U6IHRydWVcblx0XHRcdH0pKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRlbnYuaGlnaGxpZ2h0ZWRDb2RlID0gXy5oaWdobGlnaHQoZW52LmNvZGUsIGVudi5ncmFtbWFyLCBlbnYubGFuZ3VhZ2UpO1xuXG5cdFx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLWluc2VydCcsIGVudik7XG5cblx0XHRcdGVudi5lbGVtZW50LmlubmVySFRNTCA9IGVudi5oaWdobGlnaHRlZENvZGU7XG5cblx0XHRcdGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwoZWxlbWVudCk7XG5cblx0XHRcdF8uaG9va3MucnVuKCdhZnRlci1oaWdobGlnaHQnLCBlbnYpO1xuXHRcdFx0Xy5ob29rcy5ydW4oJ2NvbXBsZXRlJywgZW52KTtcblx0XHR9XG5cdH0sXG5cblx0aGlnaGxpZ2h0OiBmdW5jdGlvbiAodGV4dCwgZ3JhbW1hciwgbGFuZ3VhZ2UpIHtcblx0XHR2YXIgdG9rZW5zID0gXy50b2tlbml6ZSh0ZXh0LCBncmFtbWFyKTtcblx0XHRyZXR1cm4gVG9rZW4uc3RyaW5naWZ5KF8udXRpbC5lbmNvZGUodG9rZW5zKSwgbGFuZ3VhZ2UpO1xuXHR9LFxuXG5cdHRva2VuaXplOiBmdW5jdGlvbih0ZXh0LCBncmFtbWFyLCBsYW5ndWFnZSkge1xuXHRcdHZhciBUb2tlbiA9IF8uVG9rZW47XG5cblx0XHR2YXIgc3RyYXJyID0gW3RleHRdO1xuXG5cdFx0dmFyIHJlc3QgPSBncmFtbWFyLnJlc3Q7XG5cblx0XHRpZiAocmVzdCkge1xuXHRcdFx0Zm9yICh2YXIgdG9rZW4gaW4gcmVzdCkge1xuXHRcdFx0XHRncmFtbWFyW3Rva2VuXSA9IHJlc3RbdG9rZW5dO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWxldGUgZ3JhbW1hci5yZXN0O1xuXHRcdH1cblxuXHRcdHRva2VubG9vcDogZm9yICh2YXIgdG9rZW4gaW4gZ3JhbW1hcikge1xuXHRcdFx0aWYoIWdyYW1tYXIuaGFzT3duUHJvcGVydHkodG9rZW4pIHx8ICFncmFtbWFyW3Rva2VuXSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHBhdHRlcm5zID0gZ3JhbW1hclt0b2tlbl07XG5cdFx0XHRwYXR0ZXJucyA9IChfLnV0aWwudHlwZShwYXR0ZXJucykgPT09IFwiQXJyYXlcIikgPyBwYXR0ZXJucyA6IFtwYXR0ZXJuc107XG5cblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgcGF0dGVybnMubGVuZ3RoOyArK2opIHtcblx0XHRcdFx0dmFyIHBhdHRlcm4gPSBwYXR0ZXJuc1tqXSxcblx0XHRcdFx0XHRpbnNpZGUgPSBwYXR0ZXJuLmluc2lkZSxcblx0XHRcdFx0XHRsb29rYmVoaW5kID0gISFwYXR0ZXJuLmxvb2tiZWhpbmQsXG5cdFx0XHRcdFx0bG9va2JlaGluZExlbmd0aCA9IDAsXG5cdFx0XHRcdFx0YWxpYXMgPSBwYXR0ZXJuLmFsaWFzO1xuXG5cdFx0XHRcdHBhdHRlcm4gPSBwYXR0ZXJuLnBhdHRlcm4gfHwgcGF0dGVybjtcblxuXHRcdFx0XHRmb3IgKHZhciBpPTA7IGk8c3RyYXJyLmxlbmd0aDsgaSsrKSB7IC8vIERvbuKAmXQgY2FjaGUgbGVuZ3RoIGFzIGl0IGNoYW5nZXMgZHVyaW5nIHRoZSBsb29wXG5cblx0XHRcdFx0XHR2YXIgc3RyID0gc3RyYXJyW2ldO1xuXG5cdFx0XHRcdFx0aWYgKHN0cmFyci5sZW5ndGggPiB0ZXh0Lmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0Ly8gU29tZXRoaW5nIHdlbnQgdGVycmlibHkgd3JvbmcsIEFCT1JULCBBQk9SVCFcblx0XHRcdFx0XHRcdGJyZWFrIHRva2VubG9vcDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoc3RyIGluc3RhbmNlb2YgVG9rZW4pIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHBhdHRlcm4ubGFzdEluZGV4ID0gMDtcblxuXHRcdFx0XHRcdHZhciBtYXRjaCA9IHBhdHRlcm4uZXhlYyhzdHIpO1xuXG5cdFx0XHRcdFx0aWYgKG1hdGNoKSB7XG5cdFx0XHRcdFx0XHRpZihsb29rYmVoaW5kKSB7XG5cdFx0XHRcdFx0XHRcdGxvb2tiZWhpbmRMZW5ndGggPSBtYXRjaFsxXS5sZW5ndGg7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHZhciBmcm9tID0gbWF0Y2guaW5kZXggLSAxICsgbG9va2JlaGluZExlbmd0aCxcblx0XHRcdFx0XHRcdFx0bWF0Y2ggPSBtYXRjaFswXS5zbGljZShsb29rYmVoaW5kTGVuZ3RoKSxcblx0XHRcdFx0XHRcdFx0bGVuID0gbWF0Y2gubGVuZ3RoLFxuXHRcdFx0XHRcdFx0XHR0byA9IGZyb20gKyBsZW4sXG5cdFx0XHRcdFx0XHRcdGJlZm9yZSA9IHN0ci5zbGljZSgwLCBmcm9tICsgMSksXG5cdFx0XHRcdFx0XHRcdGFmdGVyID0gc3RyLnNsaWNlKHRvICsgMSk7XG5cblx0XHRcdFx0XHRcdHZhciBhcmdzID0gW2ksIDFdO1xuXG5cdFx0XHRcdFx0XHRpZiAoYmVmb3JlKSB7XG5cdFx0XHRcdFx0XHRcdGFyZ3MucHVzaChiZWZvcmUpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR2YXIgd3JhcHBlZCA9IG5ldyBUb2tlbih0b2tlbiwgaW5zaWRlPyBfLnRva2VuaXplKG1hdGNoLCBpbnNpZGUpIDogbWF0Y2gsIGFsaWFzKTtcblxuXHRcdFx0XHRcdFx0YXJncy5wdXNoKHdyYXBwZWQpO1xuXG5cdFx0XHRcdFx0XHRpZiAoYWZ0ZXIpIHtcblx0XHRcdFx0XHRcdFx0YXJncy5wdXNoKGFmdGVyKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShzdHJhcnIsIGFyZ3MpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBzdHJhcnI7XG5cdH0sXG5cblx0aG9va3M6IHtcblx0XHRhbGw6IHt9LFxuXG5cdFx0YWRkOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHtcblx0XHRcdHZhciBob29rcyA9IF8uaG9va3MuYWxsO1xuXG5cdFx0XHRob29rc1tuYW1lXSA9IGhvb2tzW25hbWVdIHx8IFtdO1xuXG5cdFx0XHRob29rc1tuYW1lXS5wdXNoKGNhbGxiYWNrKTtcblx0XHR9LFxuXG5cdFx0cnVuOiBmdW5jdGlvbiAobmFtZSwgZW52KSB7XG5cdFx0XHR2YXIgY2FsbGJhY2tzID0gXy5ob29rcy5hbGxbbmFtZV07XG5cblx0XHRcdGlmICghY2FsbGJhY2tzIHx8ICFjYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Zm9yICh2YXIgaT0wLCBjYWxsYmFjazsgY2FsbGJhY2sgPSBjYWxsYmFja3NbaSsrXTspIHtcblx0XHRcdFx0Y2FsbGJhY2soZW52KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbnZhciBUb2tlbiA9IF8uVG9rZW4gPSBmdW5jdGlvbih0eXBlLCBjb250ZW50LCBhbGlhcykge1xuXHR0aGlzLnR5cGUgPSB0eXBlO1xuXHR0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuXHR0aGlzLmFsaWFzID0gYWxpYXM7XG59O1xuXG5Ub2tlbi5zdHJpbmdpZnkgPSBmdW5jdGlvbihvLCBsYW5ndWFnZSwgcGFyZW50KSB7XG5cdGlmICh0eXBlb2YgbyA9PSAnc3RyaW5nJykge1xuXHRcdHJldHVybiBvO1xuXHR9XG5cblx0aWYgKF8udXRpbC50eXBlKG8pID09PSAnQXJyYXknKSB7XG5cdFx0cmV0dXJuIG8ubWFwKGZ1bmN0aW9uKGVsZW1lbnQpIHtcblx0XHRcdHJldHVybiBUb2tlbi5zdHJpbmdpZnkoZWxlbWVudCwgbGFuZ3VhZ2UsIG8pO1xuXHRcdH0pLmpvaW4oJycpO1xuXHR9XG5cblx0dmFyIGVudiA9IHtcblx0XHR0eXBlOiBvLnR5cGUsXG5cdFx0Y29udGVudDogVG9rZW4uc3RyaW5naWZ5KG8uY29udGVudCwgbGFuZ3VhZ2UsIHBhcmVudCksXG5cdFx0dGFnOiAnc3BhbicsXG5cdFx0Y2xhc3NlczogWyd0b2tlbicsIG8udHlwZV0sXG5cdFx0YXR0cmlidXRlczoge30sXG5cdFx0bGFuZ3VhZ2U6IGxhbmd1YWdlLFxuXHRcdHBhcmVudDogcGFyZW50XG5cdH07XG5cblx0aWYgKGVudi50eXBlID09ICdjb21tZW50Jykge1xuXHRcdGVudi5hdHRyaWJ1dGVzWydzcGVsbGNoZWNrJ10gPSAndHJ1ZSc7XG5cdH1cblxuXHRpZiAoby5hbGlhcykge1xuXHRcdHZhciBhbGlhc2VzID0gXy51dGlsLnR5cGUoby5hbGlhcykgPT09ICdBcnJheScgPyBvLmFsaWFzIDogW28uYWxpYXNdO1xuXHRcdEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGVudi5jbGFzc2VzLCBhbGlhc2VzKTtcblx0fVxuXG5cdF8uaG9va3MucnVuKCd3cmFwJywgZW52KTtcblxuXHR2YXIgYXR0cmlidXRlcyA9ICcnO1xuXG5cdGZvciAodmFyIG5hbWUgaW4gZW52LmF0dHJpYnV0ZXMpIHtcblx0XHRhdHRyaWJ1dGVzICs9IChhdHRyaWJ1dGVzID8gJyAnIDogJycpICsgbmFtZSArICc9XCInICsgKGVudi5hdHRyaWJ1dGVzW25hbWVdIHx8ICcnKSArICdcIic7XG5cdH1cblxuXHRyZXR1cm4gJzwnICsgZW52LnRhZyArICcgY2xhc3M9XCInICsgZW52LmNsYXNzZXMuam9pbignICcpICsgJ1wiICcgKyBhdHRyaWJ1dGVzICsgJz4nICsgZW52LmNvbnRlbnQgKyAnPC8nICsgZW52LnRhZyArICc+JztcblxufTtcblxuaWYgKCFfc2VsZi5kb2N1bWVudCkge1xuXHRpZiAoIV9zZWxmLmFkZEV2ZW50TGlzdGVuZXIpIHtcblx0XHQvLyBpbiBOb2RlLmpzXG5cdFx0cmV0dXJuIF9zZWxmLlByaXNtO1xuXHR9XG4gXHQvLyBJbiB3b3JrZXJcblx0X3NlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uKGV2dCkge1xuXHRcdHZhciBtZXNzYWdlID0gSlNPTi5wYXJzZShldnQuZGF0YSksXG5cdFx0ICAgIGxhbmcgPSBtZXNzYWdlLmxhbmd1YWdlLFxuXHRcdCAgICBjb2RlID0gbWVzc2FnZS5jb2RlLFxuXHRcdCAgICBpbW1lZGlhdGVDbG9zZSA9IG1lc3NhZ2UuaW1tZWRpYXRlQ2xvc2U7XG5cblx0XHRfc2VsZi5wb3N0TWVzc2FnZShfLmhpZ2hsaWdodChjb2RlLCBfLmxhbmd1YWdlc1tsYW5nXSwgbGFuZykpO1xuXHRcdGlmIChpbW1lZGlhdGVDbG9zZSkge1xuXHRcdFx0X3NlbGYuY2xvc2UoKTtcblx0XHR9XG5cdH0sIGZhbHNlKTtcblxuXHRyZXR1cm4gX3NlbGYuUHJpc207XG59XG5cbi8vIEdldCBjdXJyZW50IHNjcmlwdCBhbmQgaGlnaGxpZ2h0XG52YXIgc2NyaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpO1xuXG5zY3JpcHQgPSBzY3JpcHRbc2NyaXB0Lmxlbmd0aCAtIDFdO1xuXG5pZiAoc2NyaXB0KSB7XG5cdF8uZmlsZW5hbWUgPSBzY3JpcHQuc3JjO1xuXG5cdGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyICYmICFzY3JpcHQuaGFzQXR0cmlidXRlKCdkYXRhLW1hbnVhbCcpKSB7XG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIF8uaGlnaGxpZ2h0QWxsKTtcblx0fVxufVxuXG5yZXR1cm4gX3NlbGYuUHJpc207XG5cbn0pKCk7XG5cbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRtb2R1bGUuZXhwb3J0cyA9IFByaXNtO1xufVxuXG4vLyBoYWNrIGZvciBjb21wb25lbnRzIHRvIHdvcmsgY29ycmVjdGx5IGluIG5vZGUuanNcbmlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuXHRnbG9iYWwuUHJpc20gPSBQcmlzbTtcbn1cblxuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIEJlZ2luIHByaXNtLW1hcmt1cC5qc1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXG5QcmlzbS5sYW5ndWFnZXMubWFya3VwID0ge1xuXHQnY29tbWVudCc6IC88IS0tW1xcd1xcV10qPy0tPi8sXG5cdCdwcm9sb2cnOiAvPFxcP1tcXHdcXFddKz9cXD8+Lyxcblx0J2RvY3R5cGUnOiAvPCFET0NUWVBFW1xcd1xcV10rPz4vLFxuXHQnY2RhdGEnOiAvPCFcXFtDREFUQVxcW1tcXHdcXFddKj9dXT4vaSxcblx0J3RhZyc6IHtcblx0XHRwYXR0ZXJuOiAvPFxcLz8oPyFcXGQpW15cXHM+XFwvPS4kPF0rKD86XFxzK1teXFxzPlxcLz1dKyg/Oj0oPzooXCJ8JykoPzpcXFxcXFwxfFxcXFw/KD8hXFwxKVtcXHdcXFddKSpcXDF8W15cXHMnXCI+PV0rKSk/KSpcXHMqXFwvPz4vaSxcblx0XHRpbnNpZGU6IHtcblx0XHRcdCd0YWcnOiB7XG5cdFx0XHRcdHBhdHRlcm46IC9ePFxcLz9bXlxccz5cXC9dKy9pLFxuXHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHQncHVuY3R1YXRpb24nOiAvXjxcXC8/Lyxcblx0XHRcdFx0XHQnbmFtZXNwYWNlJzogL15bXlxccz5cXC86XSs6L1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0J2F0dHItdmFsdWUnOiB7XG5cdFx0XHRcdHBhdHRlcm46IC89KD86KCd8XCIpW1xcd1xcV10qPyhcXDEpfFteXFxzPl0rKS9pLFxuXHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHQncHVuY3R1YXRpb24nOiAvWz0+XCInXS9cblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdCdwdW5jdHVhdGlvbic6IC9cXC8/Pi8sXG5cdFx0XHQnYXR0ci1uYW1lJzoge1xuXHRcdFx0XHRwYXR0ZXJuOiAvW15cXHM+XFwvXSsvLFxuXHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHQnbmFtZXNwYWNlJzogL15bXlxccz5cXC86XSs6L1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9XG5cdH0sXG5cdCdlbnRpdHknOiAvJiM/W1xcZGEtel17MSw4fTsvaVxufTtcblxuLy8gUGx1Z2luIHRvIG1ha2UgZW50aXR5IHRpdGxlIHNob3cgdGhlIHJlYWwgZW50aXR5LCBpZGVhIGJ5IFJvbWFuIEtvbWFyb3ZcblByaXNtLmhvb2tzLmFkZCgnd3JhcCcsIGZ1bmN0aW9uKGVudikge1xuXG5cdGlmIChlbnYudHlwZSA9PT0gJ2VudGl0eScpIHtcblx0XHRlbnYuYXR0cmlidXRlc1sndGl0bGUnXSA9IGVudi5jb250ZW50LnJlcGxhY2UoLyZhbXA7LywgJyYnKTtcblx0fVxufSk7XG5cblByaXNtLmxhbmd1YWdlcy54bWwgPSBQcmlzbS5sYW5ndWFnZXMubWFya3VwO1xuUHJpc20ubGFuZ3VhZ2VzLmh0bWwgPSBQcmlzbS5sYW5ndWFnZXMubWFya3VwO1xuUHJpc20ubGFuZ3VhZ2VzLm1hdGhtbCA9IFByaXNtLmxhbmd1YWdlcy5tYXJrdXA7XG5QcmlzbS5sYW5ndWFnZXMuc3ZnID0gUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cDtcblxuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIEJlZ2luIHByaXNtLWNzcy5qc1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXG5QcmlzbS5sYW5ndWFnZXMuY3NzID0ge1xuXHQnY29tbWVudCc6IC9cXC9cXCpbXFx3XFxXXSo/XFwqXFwvLyxcblx0J2F0cnVsZSc6IHtcblx0XHRwYXR0ZXJuOiAvQFtcXHctXSs/Lio/KDt8KD89XFxzKlxceykpL2ksXG5cdFx0aW5zaWRlOiB7XG5cdFx0XHQncnVsZSc6IC9AW1xcdy1dKy9cblx0XHRcdC8vIFNlZSByZXN0IGJlbG93XG5cdFx0fVxuXHR9LFxuXHQndXJsJzogL3VybFxcKCg/OihbXCInXSkoXFxcXCg/OlxcclxcbnxbXFx3XFxXXSl8KD8hXFwxKVteXFxcXFxcclxcbl0pKlxcMXwuKj8pXFwpL2ksXG5cdCdzZWxlY3Rvcic6IC9bXlxce1xcfVxcc11bXlxce1xcfTtdKj8oPz1cXHMqXFx7KS8sXG5cdCdzdHJpbmcnOiAvKFwifCcpKFxcXFwoPzpcXHJcXG58W1xcd1xcV10pfCg/IVxcMSlbXlxcXFxcXHJcXG5dKSpcXDEvLFxuXHQncHJvcGVydHknOiAvKFxcYnxcXEIpW1xcdy1dKyg/PVxccyo6KS9pLFxuXHQnaW1wb3J0YW50JzogL1xcQiFpbXBvcnRhbnRcXGIvaSxcblx0J2Z1bmN0aW9uJzogL1stYS16MC05XSsoPz1cXCgpL2ksXG5cdCdwdW5jdHVhdGlvbic6IC9bKCl7fTs6XS9cbn07XG5cblByaXNtLmxhbmd1YWdlcy5jc3NbJ2F0cnVsZSddLmluc2lkZS5yZXN0ID0gUHJpc20udXRpbC5jbG9uZShQcmlzbS5sYW5ndWFnZXMuY3NzKTtcblxuaWYgKFByaXNtLmxhbmd1YWdlcy5tYXJrdXApIHtcblx0UHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnbWFya3VwJywgJ3RhZycsIHtcblx0XHQnc3R5bGUnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvKDxzdHlsZVtcXHdcXFddKj8+KVtcXHdcXFddKj8oPz08XFwvc3R5bGU+KS9pLFxuXHRcdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmNzcyxcblx0XHRcdGFsaWFzOiAnbGFuZ3VhZ2UtY3NzJ1xuXHRcdH1cblx0fSk7XG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCdpbnNpZGUnLCAnYXR0ci12YWx1ZScsIHtcblx0XHQnc3R5bGUtYXR0cic6IHtcblx0XHRcdHBhdHRlcm46IC9cXHMqc3R5bGU9KFwifCcpLio/XFwxL2ksXG5cdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0J2F0dHItbmFtZSc6IHtcblx0XHRcdFx0XHRwYXR0ZXJuOiAvXlxccypzdHlsZS9pLFxuXHRcdFx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcuaW5zaWRlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdCdwdW5jdHVhdGlvbic6IC9eXFxzKj1cXHMqWydcIl18WydcIl1cXHMqJC8sXG5cdFx0XHRcdCdhdHRyLXZhbHVlJzoge1xuXHRcdFx0XHRcdHBhdHRlcm46IC8uKy9pLFxuXHRcdFx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmNzc1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0YWxpYXM6ICdsYW5ndWFnZS1jc3MnXG5cdFx0fVxuXHR9LCBQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZyk7XG59XG5cbi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgQmVnaW4gcHJpc20tY2xpa2UuanNcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblxuUHJpc20ubGFuZ3VhZ2VzLmNsaWtlID0ge1xuXHQnY29tbWVudCc6IFtcblx0XHR7XG5cdFx0XHRwYXR0ZXJuOiAvKF58W15cXFxcXSlcXC9cXCpbXFx3XFxXXSo/XFwqXFwvLyxcblx0XHRcdGxvb2tiZWhpbmQ6IHRydWVcblx0XHR9LFxuXHRcdHtcblx0XHRcdHBhdHRlcm46IC8oXnxbXlxcXFw6XSlcXC9cXC8uKi8sXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlXG5cdFx0fVxuXHRdLFxuXHQnc3RyaW5nJzogLyhbXCInXSkoXFxcXCg/OlxcclxcbnxbXFxzXFxTXSl8KD8hXFwxKVteXFxcXFxcclxcbl0pKlxcMS8sXG5cdCdjbGFzcy1uYW1lJzoge1xuXHRcdHBhdHRlcm46IC8oKD86XFxiKD86Y2xhc3N8aW50ZXJmYWNlfGV4dGVuZHN8aW1wbGVtZW50c3x0cmFpdHxpbnN0YW5jZW9mfG5ldylcXHMrKXwoPzpjYXRjaFxccytcXCgpKVthLXowLTlfXFwuXFxcXF0rL2ksXG5cdFx0bG9va2JlaGluZDogdHJ1ZSxcblx0XHRpbnNpZGU6IHtcblx0XHRcdHB1bmN0dWF0aW9uOiAvKFxcLnxcXFxcKS9cblx0XHR9XG5cdH0sXG5cdCdrZXl3b3JkJzogL1xcYihpZnxlbHNlfHdoaWxlfGRvfGZvcnxyZXR1cm58aW58aW5zdGFuY2VvZnxmdW5jdGlvbnxuZXd8dHJ5fHRocm93fGNhdGNofGZpbmFsbHl8bnVsbHxicmVha3xjb250aW51ZSlcXGIvLFxuXHQnYm9vbGVhbic6IC9cXGIodHJ1ZXxmYWxzZSlcXGIvLFxuXHQnZnVuY3Rpb24nOiAvW2EtejAtOV9dKyg/PVxcKCkvaSxcblx0J251bWJlcic6IC9cXGItPyg/OjB4W1xcZGEtZl0rfFxcZCpcXC4/XFxkKyg/OmVbKy1dP1xcZCspPylcXGIvaSxcblx0J29wZXJhdG9yJzogLy0tP3xcXCtcXCs/fCE9Pz0/fDw9P3w+PT98PT0/PT98JiY/fFxcfFxcfD98XFw/fFxcKnxcXC98fnxcXF58JS8sXG5cdCdwdW5jdHVhdGlvbic6IC9be31bXFxdOygpLC46XS9cbn07XG5cblxuLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICBCZWdpbiBwcmlzbS1qYXZhc2NyaXB0LmpzXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cblByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0ID0gUHJpc20ubGFuZ3VhZ2VzLmV4dGVuZCgnY2xpa2UnLCB7XG5cdCdrZXl3b3JkJzogL1xcYihhc3xhc3luY3xhd2FpdHxicmVha3xjYXNlfGNhdGNofGNsYXNzfGNvbnN0fGNvbnRpbnVlfGRlYnVnZ2VyfGRlZmF1bHR8ZGVsZXRlfGRvfGVsc2V8ZW51bXxleHBvcnR8ZXh0ZW5kc3xmaW5hbGx5fGZvcnxmcm9tfGZ1bmN0aW9ufGdldHxpZnxpbXBsZW1lbnRzfGltcG9ydHxpbnxpbnN0YW5jZW9mfGludGVyZmFjZXxsZXR8bmV3fG51bGx8b2Z8cGFja2FnZXxwcml2YXRlfHByb3RlY3RlZHxwdWJsaWN8cmV0dXJufHNldHxzdGF0aWN8c3VwZXJ8c3dpdGNofHRoaXN8dGhyb3d8dHJ5fHR5cGVvZnx2YXJ8dm9pZHx3aGlsZXx3aXRofHlpZWxkKVxcYi8sXG5cdCdudW1iZXInOiAvXFxiLT8oMHhbXFxkQS1GYS1mXSt8MGJbMDFdK3wwb1swLTddK3xcXGQqXFwuP1xcZCsoW0VlXVsrLV0/XFxkKyk/fE5hTnxJbmZpbml0eSlcXGIvLFxuXHQvLyBBbGxvdyBmb3IgYWxsIG5vbi1BU0NJSSBjaGFyYWN0ZXJzIChTZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjAwODQ0NClcblx0J2Z1bmN0aW9uJzogL1tfJGEtekEtWlxceEEwLVxcdUZGRkZdW18kYS16QS1aMC05XFx4QTAtXFx1RkZGRl0qKD89XFwoKS9pXG59KTtcblxuUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnamF2YXNjcmlwdCcsICdrZXl3b3JkJywge1xuXHQncmVnZXgnOiB7XG5cdFx0cGF0dGVybjogLyhefFteL10pXFwvKD8hXFwvKShcXFsuKz9dfFxcXFwufFteL1xcXFxcXHJcXG5dKStcXC9bZ2lteXVdezAsNX0oPz1cXHMqKCR8W1xcclxcbiwuO30pXSkpLyxcblx0XHRsb29rYmVoaW5kOiB0cnVlXG5cdH1cbn0pO1xuXG5QcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCdqYXZhc2NyaXB0JywgJ2NsYXNzLW5hbWUnLCB7XG5cdCd0ZW1wbGF0ZS1zdHJpbmcnOiB7XG5cdFx0cGF0dGVybjogL2AoPzpcXFxcYHxcXFxcP1teYF0pKmAvLFxuXHRcdGluc2lkZToge1xuXHRcdFx0J2ludGVycG9sYXRpb24nOiB7XG5cdFx0XHRcdHBhdHRlcm46IC9cXCRcXHtbXn1dK1xcfS8sXG5cdFx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRcdCdpbnRlcnBvbGF0aW9uLXB1bmN0dWF0aW9uJzoge1xuXHRcdFx0XHRcdFx0cGF0dGVybjogL15cXCRcXHt8XFx9JC8sXG5cdFx0XHRcdFx0XHRhbGlhczogJ3B1bmN0dWF0aW9uJ1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0cmVzdDogUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHRcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdCdzdHJpbmcnOiAvW1xcc1xcU10rL1xuXHRcdH1cblx0fVxufSk7XG5cbmlmIChQcmlzbS5sYW5ndWFnZXMubWFya3VwKSB7XG5cdFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ21hcmt1cCcsICd0YWcnLCB7XG5cdFx0J3NjcmlwdCc6IHtcblx0XHRcdHBhdHRlcm46IC8oPHNjcmlwdFtcXHdcXFddKj8+KVtcXHdcXFddKj8oPz08XFwvc2NyaXB0PikvaSxcblx0XHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0XHRpbnNpZGU6IFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0LFxuXHRcdFx0YWxpYXM6ICdsYW5ndWFnZS1qYXZhc2NyaXB0J1xuXHRcdH1cblx0fSk7XG59XG5cblByaXNtLmxhbmd1YWdlcy5qcyA9IFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0O1xuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIEJlZ2luIHByaXNtLWZpbGUtaGlnaGxpZ2h0LmpzXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdGlmICh0eXBlb2Ygc2VsZiA9PT0gJ3VuZGVmaW5lZCcgfHwgIXNlbGYuUHJpc20gfHwgIXNlbGYuZG9jdW1lbnQgfHwgIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRzZWxmLlByaXNtLmZpbGVIaWdobGlnaHQgPSBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBFeHRlbnNpb25zID0ge1xuXHRcdFx0J2pzJzogJ2phdmFzY3JpcHQnLFxuXHRcdFx0J2h0bWwnOiAnbWFya3VwJyxcblx0XHRcdCdzdmcnOiAnbWFya3VwJyxcblx0XHRcdCd4bWwnOiAnbWFya3VwJyxcblx0XHRcdCdweSc6ICdweXRob24nLFxuXHRcdFx0J3JiJzogJ3J1YnknLFxuXHRcdFx0J3BzMSc6ICdwb3dlcnNoZWxsJyxcblx0XHRcdCdwc20xJzogJ3Bvd2Vyc2hlbGwnXG5cdFx0fTtcblxuXHRcdGlmKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSB7IC8vIENoZWNrIHRvIHByZXZlbnQgZXJyb3IgaW4gSUU4XG5cdFx0XHRBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdwcmVbZGF0YS1zcmNdJykpLmZvckVhY2goZnVuY3Rpb24gKHByZSkge1xuXHRcdFx0XHR2YXIgc3JjID0gcHJlLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKTtcblxuXHRcdFx0XHR2YXIgbGFuZ3VhZ2UsIHBhcmVudCA9IHByZTtcblx0XHRcdFx0dmFyIGxhbmcgPSAvXFxibGFuZyg/OnVhZ2UpPy0oPyFcXCopKFxcdyspXFxiL2k7XG5cdFx0XHRcdHdoaWxlIChwYXJlbnQgJiYgIWxhbmcudGVzdChwYXJlbnQuY2xhc3NOYW1lKSkge1xuXHRcdFx0XHRcdHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHBhcmVudCkge1xuXHRcdFx0XHRcdGxhbmd1YWdlID0gKHByZS5jbGFzc05hbWUubWF0Y2gobGFuZykgfHwgWywgJyddKVsxXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghbGFuZ3VhZ2UpIHtcblx0XHRcdFx0XHR2YXIgZXh0ZW5zaW9uID0gKHNyYy5tYXRjaCgvXFwuKFxcdyspJC8pIHx8IFssICcnXSlbMV07XG5cdFx0XHRcdFx0bGFuZ3VhZ2UgPSBFeHRlbnNpb25zW2V4dGVuc2lvbl0gfHwgZXh0ZW5zaW9uO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIGNvZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjb2RlJyk7XG5cdFx0XHRcdGNvZGUuY2xhc3NOYW1lID0gJ2xhbmd1YWdlLScgKyBsYW5ndWFnZTtcblxuXHRcdFx0XHRwcmUudGV4dENvbnRlbnQgPSAnJztcblxuXHRcdFx0XHRjb2RlLnRleHRDb250ZW50ID0gJ0xvYWRpbmfigKYnO1xuXG5cdFx0XHRcdHByZS5hcHBlbmRDaGlsZChjb2RlKTtcblxuXHRcdFx0XHR2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cblx0XHRcdFx0eGhyLm9wZW4oJ0dFVCcsIHNyYywgdHJ1ZSk7XG5cblx0XHRcdFx0eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCkge1xuXG5cdFx0XHRcdFx0XHRpZiAoeGhyLnN0YXR1cyA8IDQwMCAmJiB4aHIucmVzcG9uc2VUZXh0KSB7XG5cdFx0XHRcdFx0XHRcdGNvZGUudGV4dENvbnRlbnQgPSB4aHIucmVzcG9uc2VUZXh0O1xuXG5cdFx0XHRcdFx0XHRcdFByaXNtLmhpZ2hsaWdodEVsZW1lbnQoY29kZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIGlmICh4aHIuc3RhdHVzID49IDQwMCkge1xuXHRcdFx0XHRcdFx0XHRjb2RlLnRleHRDb250ZW50ID0gJ+KcliBFcnJvciAnICsgeGhyLnN0YXR1cyArICcgd2hpbGUgZmV0Y2hpbmcgZmlsZTogJyArIHhoci5zdGF0dXNUZXh0O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGNvZGUudGV4dENvbnRlbnQgPSAn4pyWIEVycm9yOiBGaWxlIGRvZXMgbm90IGV4aXN0IG9yIGlzIGVtcHR5Jztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0eGhyLnNlbmQobnVsbCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0fTtcblxuXHRzZWxmLlByaXNtLmZpbGVIaWdobGlnaHQoKTtcblxufSkoKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3ByaXNtanMvcHJpc20uanNcbiAqKiBtb2R1bGUgaWQgPSAxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgZnJvbSA9IGZ1bmN0aW9uKG9wdHMsIHBsdWdpbnMpIHtcbiAgdmFyIHBhcmVudCA9IChvcHRzLnBhcmVudCB8fCBvcHRzKS5ub2RlVHlwZSA9PT0gMSA/IChvcHRzLnBhcmVudCB8fCBvcHRzKSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0cy5wYXJlbnQgfHwgb3B0cyksXG4gICAgc2xpZGVzID0gW10uZmlsdGVyLmNhbGwodHlwZW9mIG9wdHMuc2xpZGVzID09PSAnc3RyaW5nJyA/IHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKG9wdHMuc2xpZGVzKSA6IChvcHRzLnNsaWRlcyB8fCBwYXJlbnQuY2hpbGRyZW4pLCBmdW5jdGlvbihlbCkgeyByZXR1cm4gZWwubm9kZU5hbWUgIT09ICdTQ1JJUFQnOyB9KSxcbiAgICBhY3RpdmVTbGlkZSA9IHNsaWRlc1swXSxcbiAgICBsaXN0ZW5lcnMgPSB7fSxcblxuICAgIGFjdGl2YXRlID0gZnVuY3Rpb24oaW5kZXgsIGN1c3RvbURhdGEpIHtcbiAgICAgIGlmICghc2xpZGVzW2luZGV4XSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGZpcmUoJ2RlYWN0aXZhdGUnLCBjcmVhdGVFdmVudERhdGEoYWN0aXZlU2xpZGUsIGN1c3RvbURhdGEpKTtcbiAgICAgIGFjdGl2ZVNsaWRlID0gc2xpZGVzW2luZGV4XTtcbiAgICAgIGZpcmUoJ2FjdGl2YXRlJywgY3JlYXRlRXZlbnREYXRhKGFjdGl2ZVNsaWRlLCBjdXN0b21EYXRhKSk7XG4gICAgfSxcblxuICAgIHNsaWRlID0gZnVuY3Rpb24oaW5kZXgsIGN1c3RvbURhdGEpIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGZpcmUoJ3NsaWRlJywgY3JlYXRlRXZlbnREYXRhKHNsaWRlc1tpbmRleF0sIGN1c3RvbURhdGEpKSAmJiBhY3RpdmF0ZShpbmRleCwgY3VzdG9tRGF0YSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2xpZGVzLmluZGV4T2YoYWN0aXZlU2xpZGUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdGVwID0gZnVuY3Rpb24ob2Zmc2V0LCBjdXN0b21EYXRhKSB7XG4gICAgICB2YXIgc2xpZGVJbmRleCA9IHNsaWRlcy5pbmRleE9mKGFjdGl2ZVNsaWRlKSArIG9mZnNldDtcblxuICAgICAgZmlyZShvZmZzZXQgPiAwID8gJ25leHQnIDogJ3ByZXYnLCBjcmVhdGVFdmVudERhdGEoYWN0aXZlU2xpZGUsIGN1c3RvbURhdGEpKSAmJiBhY3RpdmF0ZShzbGlkZUluZGV4LCBjdXN0b21EYXRhKTtcbiAgICB9LFxuXG4gICAgb24gPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAobGlzdGVuZXJzW2V2ZW50TmFtZV0gfHwgKGxpc3RlbmVyc1tldmVudE5hbWVdID0gW10pKS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgIHJldHVybiBvZmYuYmluZChudWxsLCBldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICB9LFxuXG4gICAgb2ZmID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgbGlzdGVuZXJzW2V2ZW50TmFtZV0gPSAobGlzdGVuZXJzW2V2ZW50TmFtZV0gfHwgW10pLmZpbHRlcihmdW5jdGlvbihsaXN0ZW5lcikgeyByZXR1cm4gbGlzdGVuZXIgIT09IGNhbGxiYWNrOyB9KTtcbiAgICB9LFxuXG4gICAgZmlyZSA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZXZlbnREYXRhKSB7XG4gICAgICByZXR1cm4gKGxpc3RlbmVyc1tldmVudE5hbWVdIHx8IFtdKVxuICAgICAgICAucmVkdWNlKGZ1bmN0aW9uKG5vdENhbmNlbGxlZCwgY2FsbGJhY2spIHtcbiAgICAgICAgICByZXR1cm4gbm90Q2FuY2VsbGVkICYmIGNhbGxiYWNrKGV2ZW50RGF0YSkgIT09IGZhbHNlO1xuICAgICAgICB9LCB0cnVlKTtcbiAgICB9LFxuXG4gICAgY3JlYXRlRXZlbnREYXRhID0gZnVuY3Rpb24oZWwsIGV2ZW50RGF0YSkge1xuICAgICAgZXZlbnREYXRhID0gZXZlbnREYXRhIHx8IHt9O1xuICAgICAgZXZlbnREYXRhLmluZGV4ID0gc2xpZGVzLmluZGV4T2YoZWwpO1xuICAgICAgZXZlbnREYXRhLnNsaWRlID0gZWw7XG4gICAgICByZXR1cm4gZXZlbnREYXRhO1xuICAgIH0sXG5cbiAgICBkZWNrID0ge1xuICAgICAgb246IG9uLFxuICAgICAgb2ZmOiBvZmYsXG4gICAgICBmaXJlOiBmaXJlLFxuICAgICAgc2xpZGU6IHNsaWRlLFxuICAgICAgbmV4dDogc3RlcC5iaW5kKG51bGwsIDEpLFxuICAgICAgcHJldjogc3RlcC5iaW5kKG51bGwsIC0xKSxcbiAgICAgIHBhcmVudDogcGFyZW50LFxuICAgICAgc2xpZGVzOiBzbGlkZXNcbiAgICB9O1xuXG4gIChwbHVnaW5zIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgIHBsdWdpbihkZWNrKTtcbiAgfSk7XG5cbiAgYWN0aXZhdGUoMCk7XG5cbiAgcmV0dXJuIGRlY2s7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZnJvbTogZnJvbVxufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Jlc3Bva2UvbGliL2Jlc3Bva2UuanNcbiAqKiBtb2R1bGUgaWQgPSAyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKiFcbiAqIGJlc3Bva2UtdGhlbWUtbmVidWxhIHYxLjAuMVxuICpcbiAqIENvcHlyaWdodCAyMDE0LCBNYXJrIERhbGdsZWlzaFxuICogVGhpcyBjb250ZW50IGlzIHJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogXG4gKi9cblxuIWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoZSk7ZWxzZXt2YXIgbztcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P289d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/bz1nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJihvPXNlbGYpO3ZhciBmPW87Zj1mLmJlc3Bva2V8fChmLmJlc3Bva2U9e30pLGY9Zi50aGVtZXN8fChmLnRoZW1lcz17fSksZi5uZWJ1bGE9ZSgpfX0oZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5cbnZhciBjbGFzc2VzID0gX2RlcmVxXygnYmVzcG9rZS1jbGFzc2VzJyk7XG52YXIgaW5zZXJ0Q3NzID0gX2RlcmVxXygnaW5zZXJ0LWNzcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY3NzID0gXCIvKiEgbm9ybWFsaXplLmNzcyB2My4wLjAgfCBNSVQgTGljZW5zZSB8IGdpdC5pby9ub3JtYWxpemUgKi9odG1se2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7LW1zLXRleHQtc2l6ZS1hZGp1c3Q6MTAwJTstd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6MTAwJX1ib2R5e21hcmdpbjowfWFydGljbGUsYXNpZGUsZGV0YWlscyxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsaGVhZGVyLGhncm91cCxtYWluLG5hdixzZWN0aW9uLHN1bW1hcnl7ZGlzcGxheTpibG9ja31hdWRpbyxjYW52YXMscHJvZ3Jlc3MsdmlkZW97ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246YmFzZWxpbmV9YXVkaW86bm90KFtjb250cm9sc10pe2Rpc3BsYXk6bm9uZTtoZWlnaHQ6MH1baGlkZGVuXSx0ZW1wbGF0ZXtkaXNwbGF5Om5vbmV9YXtiYWNrZ3JvdW5kOjAgMH1hOmFjdGl2ZSxhOmhvdmVye291dGxpbmU6MH1hYmJyW3RpdGxlXXtib3JkZXItYm90dG9tOjFweCBkb3R0ZWR9Yntmb250LXdlaWdodDo3MDB9ZGZue2ZvbnQtc3R5bGU6aXRhbGljfWgxe2ZvbnQtc2l6ZToyZW19bWFya3tiYWNrZ3JvdW5kOiNmZjA7Y29sb3I6IzAwMH1zbWFsbHtmb250LXNpemU6ODAlfXN1YixzdXB7Zm9udC1zaXplOjc1JTtsaW5lLWhlaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfXN1cHt0b3A6LS41ZW19c3Vie2JvdHRvbTotLjI1ZW19aW1ne2JvcmRlcjowfXN2Zzpub3QoOnJvb3Qpe292ZXJmbG93OmhpZGRlbn1maWd1cmV7bWFyZ2luOjFlbSA0MHB4fWhye2JveC1zaXppbmc6Y29udGVudC1ib3h9cHJle292ZXJmbG93OmF1dG99Y29kZSxrYmQscHJlLHNhbXB7Zm9udC1zaXplOjFlbX1rYmQscHJlLHNhbXB7Zm9udC1mYW1pbHk6bW9ub3NwYWNlLG1vbm9zcGFjZX1idXR0b24saW5wdXQsb3B0Z3JvdXAsc2VsZWN0LHRleHRhcmVhe2NvbG9yOmluaGVyaXQ7Zm9udDppbmhlcml0O21hcmdpbjowfWJ1dHRvbntvdmVyZmxvdzp2aXNpYmxlfWJ1dHRvbixzZWxlY3R7dGV4dC10cmFuc2Zvcm06bm9uZX1idXR0b24saHRtbCBpbnB1dFt0eXBlPVxcXCJidXR0b25cXFwiXSxpbnB1dFt0eXBlPVxcXCJyZXNldFxcXCJdLGlucHV0W3R5cGU9XFxcInN1Ym1pdFxcXCJdey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b247Y3Vyc29yOnBvaW50ZXJ9YnV0dG9uW2Rpc2FibGVkXSxodG1sIGlucHV0W2Rpc2FibGVkXXtjdXJzb3I6ZGVmYXVsdH1idXR0b246Oi1tb3otZm9jdXMtaW5uZXIsaW5wdXQ6Oi1tb3otZm9jdXMtaW5uZXJ7Ym9yZGVyOjA7cGFkZGluZzowfWlucHV0e2xpbmUtaGVpZ2h0Om5vcm1hbH1pbnB1dFt0eXBlPVxcXCJjaGVja2JveFxcXCJdLGlucHV0W3R5cGU9XFxcInJhZGlvXFxcIl17Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MH1pbnB1dFt0eXBlPVxcXCJudW1iZXJcXFwiXTo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbixpbnB1dFt0eXBlPVxcXCJudW1iZXJcXFwiXTo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbntoZWlnaHQ6YXV0b31pbnB1dFt0eXBlPVxcXCJzZWFyY2hcXFwiXXstd2Via2l0LWFwcGVhcmFuY2U6dGV4dGZpZWxkO2JveC1zaXppbmc6Y29udGVudC1ib3h9aW5wdXRbdHlwZT1cXFwic2VhcmNoXFxcIl06Oi13ZWJraXQtc2VhcmNoLWNhbmNlbC1idXR0b24saW5wdXRbdHlwZT1cXFwic2VhcmNoXFxcIl06Oi13ZWJraXQtc2VhcmNoLWRlY29yYXRpb257LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmV9ZmllbGRzZXR7Ym9yZGVyOjFweCBzb2xpZCBzaWx2ZXI7bWFyZ2luOjAgMnB4O3BhZGRpbmc6LjM1ZW0gLjYyNWVtIC43NWVtfWxlZ2VuZHtib3JkZXI6MDtwYWRkaW5nOjB9dGV4dGFyZWF7b3ZlcmZsb3c6YXV0b31vcHRncm91cHtmb250LXdlaWdodDo3MDB9dGFibGV7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO2JvcmRlci1zcGFjaW5nOjB9dGQsdGgsKntwYWRkaW5nOjB9KnttYXJnaW46MH1odG1sey13ZWJraXQtdGV4dC1zaXplLWFkanVzdDphdXRvOy1tcy10ZXh0LXNpemUtYWRqdXN0OmF1dG87dGV4dC1zaXplLWFkanVzdDphdXRvfS5iZXNwb2tlLXBhcmVudHtmb250LXNpemU6MS41ZW07YmFja2dyb3VuZDojMTExO2NvbG9yOiNkZGQ7Zm9udC1mYW1pbHk6ZnV0dXJhLGhlbHZldGljYSxhcmlhbCxhcmlhbCxzYW5zLXNlcmlmO292ZXJmbG93OmhpZGRlbjt0ZXh0LWFsaWduOmNlbnRlcjstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZCAxcyBlYXNlO3RyYW5zaXRpb246YmFja2dyb3VuZCAxcyBlYXNlO2JhY2tncm91bmQtcG9zaXRpb246NTAlIDUwJX0uYmVzcG9rZS1wYXJlbnQsLmJlc3Bva2Utc2NhbGUtcGFyZW50e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowfS5iZXNwb2tlLXNjYWxlLXBhcmVudHtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6MX0uYmVzcG9rZS1zY2FsZS1wYXJlbnQgLmJlc3Bva2UtYWN0aXZle3BvaW50ZXItZXZlbnRzOmF1dG99LmJlc3Bva2Utc2xpZGV7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgLjVzIGVhc2U7dHJhbnNpdGlvbjpvcGFjaXR5IC41cyBlYXNlO3dpZHRoOjk0MHB4O2hlaWdodDo0ODBweDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlO21hcmdpbi1sZWZ0Oi00NzBweDttYXJnaW4tdG9wOi0yNDBweDtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LXdlYmtpdC1mbGV4O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LW9yaWVudDp2ZXJ0aWNhbDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsOy13ZWJraXQtZmxleC1kaXJlY3Rpb246Y29sdW1uOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy13ZWJraXQtanVzdGlmeS1jb250ZW50OmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstd2Via2l0LWFsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO3otaW5kZXg6MX0uYmVzcG9rZS1hY3RpdmV7LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5Oi41czt0cmFuc2l0aW9uLWRlbGF5Oi41c30uYmVzcG9rZS1hY3RpdmVbZGF0YS1iZXNwb2tlLWJhY2tkcm9wXXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6Ljc1czt0cmFuc2l0aW9uLWRlbGF5Oi43NXN9LmJlc3Bva2UtaW5hY3RpdmV7b3BhY2l0eTowO3BvaW50ZXItZXZlbnRzOm5vbmV9LmJlc3Bva2UtYmFja2Ryb3B7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMXMgZWFzZTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MH0uYmVzcG9rZS1wcm9ncmVzcy1wYXJlbnR7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3JpZ2h0OjA7aGVpZ2h0Oi4zdnc7ei1pbmRleDoxfS5iZXNwb2tlLXByb2dyZXNzLWJhcntiYWNrZ3JvdW5kOiNkZGQ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO2hlaWdodDoxMDAlOy13ZWJraXQtdHJhbnNpdGlvbjp3aWR0aCAxcyBlYXNlO3RyYW5zaXRpb246d2lkdGggMXMgZWFzZX0uYmVzcG9rZS1idWxsZXR7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgLjNzIGVhc2U7dHJhbnNpdGlvbjpvcGFjaXR5IC4zcyBlYXNlfS5iZXNwb2tlLWJ1bGxldC1pbmFjdGl2ZXtvcGFjaXR5OjB9c3Ryb25ne2ZvbnQtd2VpZ2h0OjQwMH1ocnt3aWR0aDo1MCU7bWFyZ2luOjFyZW0gYXV0bztoZWlnaHQ6MXB4O2JvcmRlcjowO2JhY2tncm91bmQ6I2RkZH1oMyxwLGxpe3BhZGRpbmctbGVmdDoyMHB4O3BhZGRpbmctcmlnaHQ6MjBweH1oMyxoNCxwLGxpLHByZXtmb250LXdlaWdodDoyMDB9aDF7bGluZS1oZWlnaHQ6MS40ZW07cGFkZGluZzoxZW07Ym9yZGVyOjFweCBzb2xpZCAjZGRkO2JvcmRlci1sZWZ0LXdpZHRoOjA7Ym9yZGVyLXJpZ2h0LXdpZHRoOjA7bWluLXdpZHRoOjhlbX1oMSxoMntsZXR0ZXItc3BhY2luZzouM2VtO3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTtmb250LXdlaWdodDo0MDA7bWFyZ2luOi4xN2VtIDA7cG9zaXRpb246cmVsYXRpdmV9aDJ7bGluZS1oZWlnaHQ6MS4xZW07cGFkZGluZzowIDAgMCAuM2VtfWgze2ZvbnQtZmFtaWx5OmRpZG90LHRpbWVzIG5ldyByb21hbixzZXJpZjtmb250LXN0eWxlOml0YWxpYztmb250LXNpemU6MS4yZW07bGluZS1oZWlnaHQ6MS42ZW07bWFyZ2luOi41ZW0gMH1oNHt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7Zm9udC1zaXplOi44ZW07bGluZS1oZWlnaHQ6MS44ZW07bGV0dGVyLXNwYWNpbmc6LjNlbTttYXJnaW46MWVtIDB9dWwsb2x7cGFkZGluZzowO21hcmdpbjowO3RleHQtYWxpZ246bGVmdH1saXtsaXN0LXN0eWxlOm5vbmU7bWFyZ2luOi4yZW07Zm9udC1zdHlsZTpub3JtYWw7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNnB4KTstbXMtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTZweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTZweCl9bGk6YmVmb3Jle2NvbnRlbnQ6J1xcXFwyMDE0JzttYXJnaW4tcmlnaHQ6NHB4fXByZXtiYWNrZ3JvdW5kOm5vbmUhaW1wb3J0YW50fWNvZGV7Zm9udC1mYW1pbHk6cHJlc3RpZ2UgZWxpdGUgc3RkLGNvbnNvbGFzLGNvdXJpZXIgbmV3LG1vbm9zcGFjZSFpbXBvcnRhbnQ7Zm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6MjAwIWltcG9ydGFudDt0ZXh0LWFsaWduOmxlZnR9YXtwYWRkaW5nLWxlZnQ6LjNlbTtjb2xvcjpjdXJyZW50Q29sb3I7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgY3VycmVudENvbG9yfS5lbXBoYXRpY3tiYWNrZ3JvdW5kOiNmMzB9LnNpbmdsZS13b3Jkc3t3b3JkLXNwYWNpbmc6OTk5OXB4O2xpbmUtaGVpZ2h0OjIuOWVtO292ZXJmbG93OmhpZGRlbn0uYmVzcG9rZS1iYWNrZHJvcHtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMXMgZWFzZSwtd2Via2l0LXRyYW5zZm9ybSA2cyBlYXNlO3RyYW5zaXRpb246b3BhY2l0eSAxcyBlYXNlLHRyYW5zZm9ybSA2cyBlYXNlO2JhY2tncm91bmQtc2l6ZTpjb3ZlcjtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJSA1MCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKXNjYWxlKDEuMyk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMClzY2FsZSgxLjMpfS5iZXNwb2tlLWJhY2tkcm9wLWFjdGl2ZSwuYmVzcG9rZS1iYWNrZHJvcC1iZWZvcmV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKX0uYmVzcG9rZS1iYWNrZHJvcC1iZWZvcmV7LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5Oi4yczt0cmFuc2l0aW9uLWRlbGF5Oi4yc30uYmVzcG9rZS1iYWNrZHJvcC1hY3RpdmV7b3BhY2l0eTouNX1cIjtcbiAgaW5zZXJ0Q3NzKGNzcywgeyBwcmVwZW5kOiB0cnVlIH0pO1xuXG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgY2xhc3NlcygpKGRlY2spO1xuICB9O1xufTtcblxufSx7XCJiZXNwb2tlLWNsYXNzZXNcIjoyLFwiaW5zZXJ0LWNzc1wiOjN9XSwyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIGFkZENsYXNzID0gZnVuY3Rpb24oZWwsIGNscykge1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLScgKyBjbHMpO1xuICAgICAgfSxcblxuICAgICAgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbihlbCwgY2xzKSB7XG4gICAgICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZVxuICAgICAgICAgIC5yZXBsYWNlKG5ldyBSZWdFeHAoJ2Jlc3Bva2UtJyArIGNscyArJyhcXFxcc3wkKScsICdnJyksICcgJylcbiAgICAgICAgICAudHJpbSgpO1xuICAgICAgfSxcblxuICAgICAgZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uKGVsLCBpbmRleCkge1xuICAgICAgICB2YXIgYWN0aXZlU2xpZGUgPSBkZWNrLnNsaWRlc1tkZWNrLnNsaWRlKCldLFxuICAgICAgICAgIG9mZnNldCA9IGluZGV4IC0gZGVjay5zbGlkZSgpLFxuICAgICAgICAgIG9mZnNldENsYXNzID0gb2Zmc2V0ID4gMCA/ICdhZnRlcicgOiAnYmVmb3JlJztcblxuICAgICAgICBbJ2JlZm9yZSgtXFxcXGQrKT8nLCAnYWZ0ZXIoLVxcXFxkKyk/JywgJ2FjdGl2ZScsICdpbmFjdGl2ZSddLm1hcChyZW1vdmVDbGFzcy5iaW5kKG51bGwsIGVsKSk7XG5cbiAgICAgICAgaWYgKGVsICE9PSBhY3RpdmVTbGlkZSkge1xuICAgICAgICAgIFsnaW5hY3RpdmUnLCBvZmZzZXRDbGFzcywgb2Zmc2V0Q2xhc3MgKyAnLScgKyBNYXRoLmFicyhvZmZzZXQpXS5tYXAoYWRkQ2xhc3MuYmluZChudWxsLCBlbCkpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgYWRkQ2xhc3MoZGVjay5wYXJlbnQsICdwYXJlbnQnKTtcbiAgICBkZWNrLnNsaWRlcy5tYXAoZnVuY3Rpb24oZWwpIHsgYWRkQ2xhc3MoZWwsICdzbGlkZScpOyB9KTtcblxuICAgIGRlY2sub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24oZSkge1xuICAgICAgZGVjay5zbGlkZXMubWFwKGRlYWN0aXZhdGUpO1xuICAgICAgYWRkQ2xhc3MoZS5zbGlkZSwgJ2FjdGl2ZScpO1xuICAgICAgcmVtb3ZlQ2xhc3MoZS5zbGlkZSwgJ2luYWN0aXZlJyk7XG4gICAgfSk7XG4gIH07XG59O1xuXG59LHt9XSwzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciBpbnNlcnRlZCA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MsIG9wdGlvbnMpIHtcbiAgICBpZiAoaW5zZXJ0ZWRbY3NzXSkgcmV0dXJuO1xuICAgIGluc2VydGVkW2Nzc10gPSB0cnVlO1xuICAgIFxuICAgIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBlbGVtLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2NzcycpO1xuXG4gICAgaWYgKCd0ZXh0Q29udGVudCcgaW4gZWxlbSkge1xuICAgICAgZWxlbS50ZXh0Q29udGVudCA9IGNzcztcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gICAgfVxuICAgIFxuICAgIHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnByZXBlbmQpIHtcbiAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoZWxlbSwgaGVhZC5jaGlsZE5vZGVzWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBoZWFkLmFwcGVuZENoaWxkKGVsZW0pO1xuICAgIH1cbn07XG5cbn0se31dfSx7fSxbMV0pXG4oMSlcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Jlc3Bva2UtdGhlbWUtbmVidWxhL2Rpc3QvYmVzcG9rZS10aGVtZS1uZWJ1bGEuanNcbiAqKiBtb2R1bGUgaWQgPSAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcbiAgICB2YXIgaXNIb3Jpem9udGFsID0gb3B0aW9ucyAhPT0gJ3ZlcnRpY2FsJztcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS53aGljaCA9PSAzNCB8fCAvLyBQQUdFIERPV05cbiAgICAgICAgKGUud2hpY2ggPT0gMzIgJiYgIWUuc2hpZnRLZXkpIHx8IC8vIFNQQUNFIFdJVEhPVVQgU0hJRlRcbiAgICAgICAgKGlzSG9yaXpvbnRhbCAmJiBlLndoaWNoID09IDM5KSB8fCAvLyBSSUdIVFxuICAgICAgICAoIWlzSG9yaXpvbnRhbCAmJiBlLndoaWNoID09IDQwKSAvLyBET1dOXG4gICAgICApIHsgZGVjay5uZXh0KCk7IH1cblxuICAgICAgaWYgKGUud2hpY2ggPT0gMzMgfHwgLy8gUEFHRSBVUFxuICAgICAgICAoZS53aGljaCA9PSAzMiAmJiBlLnNoaWZ0S2V5KSB8fCAvLyBTUEFDRSArIFNISUZUXG4gICAgICAgIChpc0hvcml6b250YWwgJiYgZS53aGljaCA9PSAzNykgfHwgLy8gTEVGVFxuICAgICAgICAoIWlzSG9yaXpvbnRhbCAmJiBlLndoaWNoID09IDM4KSAvLyBVUFxuICAgICAgKSB7IGRlY2sucHJldigpOyB9XG4gICAgfSk7XG4gIH07XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmVzcG9rZS1rZXlzL2xpYi9iZXNwb2tlLWtleXMuanNcbiAqKiBtb2R1bGUgaWQgPSA0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcbiAgICB2YXIgYXhpcyA9IG9wdGlvbnMgPT0gJ3ZlcnRpY2FsJyA/ICdZJyA6ICdYJyxcbiAgICAgIHN0YXJ0UG9zaXRpb24sXG4gICAgICBkZWx0YTtcblxuICAgIGRlY2sucGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIHN0YXJ0UG9zaXRpb24gPSBlLnRvdWNoZXNbMF1bJ3BhZ2UnICsgYXhpc107XG4gICAgICAgIGRlbHRhID0gMDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlY2sucGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBkZWx0YSA9IGUudG91Y2hlc1swXVsncGFnZScgKyBheGlzXSAtIHN0YXJ0UG9zaXRpb247XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZWNrLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKE1hdGguYWJzKGRlbHRhKSA+IDUwKSB7XG4gICAgICAgIGRlY2tbZGVsdGEgPiAwID8gJ3ByZXYnIDogJ25leHQnXSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Jlc3Bva2UtdG91Y2gvbGliL2Jlc3Bva2UtdG91Y2guanNcbiAqKiBtb2R1bGUgaWQgPSA1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcbiAgICB2YXIgYWN0aXZlU2xpZGVJbmRleCxcbiAgICAgIGFjdGl2ZUJ1bGxldEluZGV4LFxuXG4gICAgICBidWxsZXRzID0gZGVjay5zbGlkZXMubWFwKGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJyA/IG9wdGlvbnMgOiAnW2RhdGEtYmVzcG9rZS1idWxsZXRdJykpLCAwKTtcbiAgICAgIH0pLFxuXG4gICAgICBuZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBuZXh0U2xpZGVJbmRleCA9IGFjdGl2ZVNsaWRlSW5kZXggKyAxO1xuXG4gICAgICAgIGlmIChhY3RpdmVTbGlkZUhhc0J1bGxldEJ5T2Zmc2V0KDEpKSB7XG4gICAgICAgICAgYWN0aXZhdGVCdWxsZXQoYWN0aXZlU2xpZGVJbmRleCwgYWN0aXZlQnVsbGV0SW5kZXggKyAxKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoYnVsbGV0c1tuZXh0U2xpZGVJbmRleF0pIHtcbiAgICAgICAgICBhY3RpdmF0ZUJ1bGxldChuZXh0U2xpZGVJbmRleCwgMCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIHByZXYgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHByZXZTbGlkZUluZGV4ID0gYWN0aXZlU2xpZGVJbmRleCAtIDE7XG5cbiAgICAgICAgaWYgKGFjdGl2ZVNsaWRlSGFzQnVsbGV0QnlPZmZzZXQoLTEpKSB7XG4gICAgICAgICAgYWN0aXZhdGVCdWxsZXQoYWN0aXZlU2xpZGVJbmRleCwgYWN0aXZlQnVsbGV0SW5kZXggLSAxKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoYnVsbGV0c1twcmV2U2xpZGVJbmRleF0pIHtcbiAgICAgICAgICBhY3RpdmF0ZUJ1bGxldChwcmV2U2xpZGVJbmRleCwgYnVsbGV0c1twcmV2U2xpZGVJbmRleF0ubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGFjdGl2YXRlQnVsbGV0ID0gZnVuY3Rpb24oc2xpZGVJbmRleCwgYnVsbGV0SW5kZXgpIHtcbiAgICAgICAgYWN0aXZlU2xpZGVJbmRleCA9IHNsaWRlSW5kZXg7XG4gICAgICAgIGFjdGl2ZUJ1bGxldEluZGV4ID0gYnVsbGV0SW5kZXg7XG5cbiAgICAgICAgYnVsbGV0cy5mb3JFYWNoKGZ1bmN0aW9uKHNsaWRlLCBzKSB7XG4gICAgICAgICAgc2xpZGUuZm9yRWFjaChmdW5jdGlvbihidWxsZXQsIGIpIHtcbiAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJ1bGxldCcpO1xuXG4gICAgICAgICAgICBpZiAocyA8IHNsaWRlSW5kZXggfHwgcyA9PT0gc2xpZGVJbmRleCAmJiBiIDw9IGJ1bGxldEluZGV4KSB7XG4gICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJ1bGxldC1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Jlc3Bva2UtYnVsbGV0LWluYWN0aXZlJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1idWxsZXQtaW5hY3RpdmUnKTtcbiAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Jlc3Bva2UtYnVsbGV0LWFjdGl2ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocyA9PT0gc2xpZGVJbmRleCAmJiBiID09PSBidWxsZXRJbmRleCkge1xuICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1idWxsZXQtY3VycmVudCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Jlc3Bva2UtYnVsbGV0LWN1cnJlbnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBhY3RpdmVTbGlkZUhhc0J1bGxldEJ5T2Zmc2V0ID0gZnVuY3Rpb24ob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBidWxsZXRzW2FjdGl2ZVNsaWRlSW5kZXhdW2FjdGl2ZUJ1bGxldEluZGV4ICsgb2Zmc2V0XSAhPT0gdW5kZWZpbmVkO1xuICAgICAgfTtcblxuICAgIGRlY2sub24oJ25leHQnLCBuZXh0KTtcbiAgICBkZWNrLm9uKCdwcmV2JywgcHJldik7XG5cbiAgICBkZWNrLm9uKCdzbGlkZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGFjdGl2YXRlQnVsbGV0KGUuaW5kZXgsIDApO1xuICAgIH0pO1xuXG4gICAgYWN0aXZhdGVCdWxsZXQoMCwgMCk7XG4gIH07XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmVzcG9rZS1idWxsZXRzL2xpYi9iZXNwb2tlLWJ1bGxldHMuanNcbiAqKiBtb2R1bGUgaWQgPSA2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuICAgIHZhciBiYWNrZHJvcHM7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVCYWNrZHJvcEZvclNsaWRlKHNsaWRlKSB7XG4gICAgICB2YXIgYmFja2Ryb3BBdHRyaWJ1dGUgPSBzbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmVzcG9rZS1iYWNrZHJvcCcpO1xuXG4gICAgICBpZiAoYmFja2Ryb3BBdHRyaWJ1dGUpIHtcbiAgICAgICAgdmFyIGJhY2tkcm9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGJhY2tkcm9wLmNsYXNzTmFtZSA9IGJhY2tkcm9wQXR0cmlidXRlO1xuICAgICAgICBiYWNrZHJvcC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJhY2tkcm9wJyk7XG4gICAgICAgIGRlY2sucGFyZW50LmFwcGVuZENoaWxkKGJhY2tkcm9wKTtcbiAgICAgICAgcmV0dXJuIGJhY2tkcm9wO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNsYXNzZXMoZWwpIHtcbiAgICAgIGlmIChlbCkge1xuICAgICAgICB2YXIgaW5kZXggPSBiYWNrZHJvcHMuaW5kZXhPZihlbCksXG4gICAgICAgICAgY3VycmVudEluZGV4ID0gZGVjay5zbGlkZSgpO1xuXG4gICAgICAgIHJlbW92ZUNsYXNzKGVsLCAnYWN0aXZlJyk7XG4gICAgICAgIHJlbW92ZUNsYXNzKGVsLCAnaW5hY3RpdmUnKTtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsICdiZWZvcmUnKTtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoZWwsICdhZnRlcicpO1xuXG4gICAgICAgIGlmIChpbmRleCAhPT0gY3VycmVudEluZGV4KSB7XG4gICAgICAgICAgYWRkQ2xhc3MoZWwsICdpbmFjdGl2ZScpO1xuICAgICAgICAgIGFkZENsYXNzKGVsLCBpbmRleCA8IGN1cnJlbnRJbmRleCA/ICdiZWZvcmUnIDogJ2FmdGVyJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWRkQ2xhc3MoZWwsICdhY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsLCBjbGFzc05hbWUpIHtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2Jlc3Bva2UtYmFja2Ryb3AtJyArIGNsYXNzTmFtZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1iYWNrZHJvcC0nICsgY2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICBiYWNrZHJvcHMgPSBkZWNrLnNsaWRlc1xuICAgICAgLm1hcChjcmVhdGVCYWNrZHJvcEZvclNsaWRlKTtcblxuICAgIGRlY2sub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICBiYWNrZHJvcHMuZm9yRWFjaCh1cGRhdGVDbGFzc2VzKTtcbiAgICB9KTtcbiAgfTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iZXNwb2tlLWJhY2tkcm9wL2xpYi9iZXNwb2tlLWJhY2tkcm9wLmpzXG4gKiogbW9kdWxlIGlkID0gN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIHBhcmVudCA9IGRlY2sucGFyZW50LFxuICAgICAgZmlyc3RTbGlkZSA9IGRlY2suc2xpZGVzWzBdLFxuICAgICAgc2xpZGVIZWlnaHQgPSBmaXJzdFNsaWRlLm9mZnNldEhlaWdodCxcbiAgICAgIHNsaWRlV2lkdGggPSBmaXJzdFNsaWRlLm9mZnNldFdpZHRoLFxuICAgICAgdXNlWm9vbSA9IG9wdGlvbnMgPT09ICd6b29tJyB8fCAoJ3pvb20nIGluIHBhcmVudC5zdHlsZSAmJiBvcHRpb25zICE9PSAndHJhbnNmb3JtJyksXG5cbiAgICAgIHdyYXAgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gJ2Jlc3Bva2Utc2NhbGUtcGFyZW50JztcbiAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh3cmFwcGVyLCBlbGVtZW50KTtcbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgICB9LFxuXG4gICAgICBlbGVtZW50cyA9IHVzZVpvb20gPyBkZWNrLnNsaWRlcyA6IGRlY2suc2xpZGVzLm1hcCh3cmFwKSxcblxuICAgICAgdHJhbnNmb3JtUHJvcGVydHkgPSAoZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICAgICAgdmFyIHByZWZpeGVzID0gJ01veiBXZWJraXQgTyBtcycuc3BsaXQoJyAnKTtcbiAgICAgICAgcmV0dXJuIHByZWZpeGVzLnJlZHVjZShmdW5jdGlvbihjdXJyZW50UHJvcGVydHksIHByZWZpeCkge1xuICAgICAgICAgICAgcmV0dXJuIHByZWZpeCArIHByb3BlcnR5IGluIHBhcmVudC5zdHlsZSA/IHByZWZpeCArIHByb3BlcnR5IDogY3VycmVudFByb3BlcnR5O1xuICAgICAgICAgIH0sIHByb3BlcnR5LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgfSgnVHJhbnNmb3JtJykpLFxuXG4gICAgICBzY2FsZSA9IHVzZVpvb20gP1xuICAgICAgICBmdW5jdGlvbihyYXRpbywgZWxlbWVudCkge1xuICAgICAgICAgIGVsZW1lbnQuc3R5bGUuem9vbSA9IHJhdGlvO1xuICAgICAgICB9IDpcbiAgICAgICAgZnVuY3Rpb24ocmF0aW8sIGVsZW1lbnQpIHtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlW3RyYW5zZm9ybVByb3BlcnR5XSA9ICdzY2FsZSgnICsgcmF0aW8gKyAnKSc7XG4gICAgICAgIH0sXG5cbiAgICAgIHNjYWxlQWxsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB4U2NhbGUgPSBwYXJlbnQub2Zmc2V0V2lkdGggLyBzbGlkZVdpZHRoLFxuICAgICAgICAgIHlTY2FsZSA9IHBhcmVudC5vZmZzZXRIZWlnaHQgLyBzbGlkZUhlaWdodDtcblxuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKHNjYWxlLmJpbmQobnVsbCwgTWF0aC5taW4oeFNjYWxlLCB5U2NhbGUpKSk7XG4gICAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHNjYWxlQWxsKTtcbiAgICBzY2FsZUFsbCgpO1xuICB9O1xuXG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmVzcG9rZS1zY2FsZS9saWIvYmVzcG9rZS1zY2FsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIHBhcnNlSGFzaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKSxcbiAgICAgICAgc2xpZGVOdW1iZXJPck5hbWUgPSBwYXJzZUludChoYXNoLCAxMCk7XG5cbiAgICAgIGlmIChoYXNoKSB7XG4gICAgICAgIGlmIChzbGlkZU51bWJlck9yTmFtZSkge1xuICAgICAgICAgIGFjdGl2YXRlU2xpZGUoc2xpZGVOdW1iZXJPck5hbWUgLSAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWNrLnNsaWRlcy5mb3JFYWNoKGZ1bmN0aW9uKHNsaWRlLCBpKSB7XG4gICAgICAgICAgICBpZiAoc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWJlc3Bva2UtaGFzaCcpID09PSBoYXNoKSB7XG4gICAgICAgICAgICAgIGFjdGl2YXRlU2xpZGUoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGFjdGl2YXRlU2xpZGUgPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgdmFyIGluZGV4VG9BY3RpdmF0ZSA9IC0xIDwgaW5kZXggJiYgaW5kZXggPCBkZWNrLnNsaWRlcy5sZW5ndGggPyBpbmRleCA6IDA7XG4gICAgICBpZiAoaW5kZXhUb0FjdGl2YXRlICE9PSBkZWNrLnNsaWRlKCkpIHtcbiAgICAgICAgZGVjay5zbGlkZShpbmRleFRvQWN0aXZhdGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgcGFyc2VIYXNoKCk7XG5cbiAgICAgIGRlY2sub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgc2xpZGVOYW1lID0gZS5zbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmVzcG9rZS1oYXNoJyk7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gc2xpZGVOYW1lIHx8IGUuaW5kZXggKyAxO1xuICAgICAgfSk7XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgcGFyc2VIYXNoKTtcbiAgICB9LCAwKTtcbiAgfTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iZXNwb2tlLWhhc2gvbGliL2Jlc3Bva2UtaGFzaC5qc1xuICoqIG1vZHVsZSBpZCA9IDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24gKGRlY2spIHtcbiAgICB2YXIgcHJvZ3Jlc3NQYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgIHByb2dyZXNzQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICBwcm9wID0gb3B0aW9ucyA9PT0gJ3ZlcnRpY2FsJyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcblxuICAgIHByb2dyZXNzUGFyZW50LmNsYXNzTmFtZSA9ICdiZXNwb2tlLXByb2dyZXNzLXBhcmVudCc7XG4gICAgcHJvZ3Jlc3NCYXIuY2xhc3NOYW1lID0gJ2Jlc3Bva2UtcHJvZ3Jlc3MtYmFyJztcbiAgICBwcm9ncmVzc1BhcmVudC5hcHBlbmRDaGlsZChwcm9ncmVzc0Jhcik7XG4gICAgZGVjay5wYXJlbnQuYXBwZW5kQ2hpbGQocHJvZ3Jlc3NQYXJlbnQpO1xuXG4gICAgZGVjay5vbignYWN0aXZhdGUnLCBmdW5jdGlvbihlKSB7XG4gICAgICBwcm9ncmVzc0Jhci5zdHlsZVtwcm9wXSA9IChlLmluZGV4ICogMTAwIC8gKGRlY2suc2xpZGVzLmxlbmd0aCAtIDEpKSArICclJztcbiAgICB9KTtcbiAgfTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iZXNwb2tlLXByb2dyZXNzL2xpYi9iZXNwb2tlLXByb2dyZXNzLmpzXG4gKiogbW9kdWxlIGlkID0gMTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qZ2xvYmFsIG1vZHVsZTp0cnVlLCByZXF1aXJlOnRydWUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBwbHVnaW5OYW1lID0gXCJpbmRleGZpbmdlclwiLFxuICAgIC8vIEhhY2sgdG8gZ2V0IGFyb3VuZCBoYXZpbmcgdG8gd3JpdGUgYWxsIGJyb3dzZXIgY29kZSB3aXRoIHJlcXVpcmUoKS5cbiAgICBicm93c2VyR2xvYmFsID0gKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgcmV0dXJuIGYoXCJyZXR1cm4gdGhpc1wiKSgpO1xuICAgIH0oRnVuY3Rpb24pKSxcbiAgICBjb252ZW5pZW50ID0gKChicm93c2VyR2xvYmFsLmJlc3Bva2UgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMuY29udmVuaWVudCkgfHwgcmVxdWlyZShcImJlc3Bva2UtY29udmVuaWVudFwiKSksXG4gICAgY3YgPSBjb252ZW5pZW50LmJ1aWxkZXIocGx1Z2luTmFtZSksXG5cbiAgICBwbHVnaW4gPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZWNrZXIgPSBmdW5jdGlvbihkZWNrKSB7XG4gICAgICAgICAgICB2YXIgY3ZCb3VuZFRvRGVjayA9IGN2LmFjdGl2YXRlRGVjayhkZWNrKSxcblxuICAgICAgICAgICAgICAgIG9mZiA9IHt9LFxuXG4gICAgICAgICAgICAgICAgYWN0aXZlU2xpZGUgPSBudWxsLFxuXG4gICAgICAgICAgICAgICAgYWN0aXZlU2xpZGVJbmRleCA9IC0xLFxuXG4gICAgICAgICAgICAgICAgdW5ib3VuZEFjdGl2ZVNsaWRlRGVja01ldGhvZHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZUFjdGl2ZVNsaWRlTGlzdGVuZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2ZmLnNhdmVBY3RpdmVTbGlkZSA9IHRoaXMub24oXCJhY3RpdmF0ZVwiLCB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5zYXZlQWN0aXZlU2xpZGUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgc2F2ZUFjdGl2ZVNsaWRlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZSA9IGUuc2xpZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZUluZGV4ID0gZS5pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXRBY3RpdmVTbGlkZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlU2xpZGU7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZ2V0QWN0aXZlU2xpZGVJbmRleDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlU2xpZGVJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICByZWdpc3RlckRlY2tFeHRlbnNpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY2suZ2V0QWN0aXZlU2xpZGUgPSB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5nZXRBY3RpdmVTbGlkZS5iaW5kKGRlY2spO1xuICAgICAgICAgICAgICAgICAgICBkZWNrLmdldEFjdGl2ZVNsaWRlSW5kZXggPSB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5nZXRBY3RpdmVTbGlkZUluZGV4LmJpbmQoZGVjayk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGVuYWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5lbmFibGVBY3RpdmVTbGlkZUxpc3RlbmVyLmNhbGwoZGVjayk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJEZWNrRXh0ZW5zaW9ucygpO1xuICAgICAgICAgICAgICAgICAgICBlbmFibGUoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpbml0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRlY2tlcjtcbiAgICB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBsdWdpbjtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Jlc3Bva2UtaW5kZXhmaW5nZXIvbGliL2Jlc3Bva2UtaW5kZXhmaW5nZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAxMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLypnbG9iYWwgbW9kdWxlOnRydWUsIGNvbnNvbGU6dHJ1ZSAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIHBsdWdpbk5hbWUgPSBcImNvbnZlbmllbnRcIixcbiAgICBicm93c2VyR2xvYmFsID0gKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgcmV0dXJuIGYoXCJyZXR1cm4gdGhpc1wiKSgpO1xuICAgIH0oRnVuY3Rpb24pKSxcblxuICAgIGN2LFxuXG4gICAgLy8gVGhlIGRlZmF1bHRzIG9iamVjdCBpcyBwYXNzZWQgYXMgYSByZWZlcmVuY2UsIGFuZCBjYW4gYmUgbW9kaWZpZWQgYnkgYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50SW5pdFxuICAgIGRlZmF1bHRzID0ge1xuICAgICAgICBsb2dnZXI6IHtcbiAgICAgICAgICAgIGxvZzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgcGhhbnRvbS1wb2x5ZmlsbC5qcyBwcm9ibGVtcyBiaW5kaW5nIGNvbnNvbGUubG9nICh3aW5kb3cuY29uc29sZS5sb2cpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBpbml0T3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbWVyZ2VkID0ge307XG5cbiAgICAgICAgLy8gT25seSBtZXJnZSBrbm93biBvcHRpb25zXG4gICAgICAgIG1lcmdlZC5sb2dnZXIgPSB7fTtcbiAgICAgICAgbWVyZ2VkLmxvZ2dlci5sb2cgPSAoYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucyAmJiBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zLmxvZ2dlciAmJiBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zLmxvZ2dlci5sb2cpIHx8IGRlZmF1bHRzLmxvZ2dlci5sb2c7XG5cbiAgICAgICAgYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucyA9IG1lcmdlZDtcbiAgICB9LFxuXG4gICAgcGx1Z2luID0ge30sXG5cbiAgICBkZWNrc1N0b3JhZ2VzID0gW10sXG5cbiAgICBpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVjayA9IGZ1bmN0aW9uKGRlY2spIHtcbiAgICAgICAgaWYgKCFkZWNrKSB7XG4gICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlY2tBbHJlYWR5U3RvcmVkID0gZGVja3NTdG9yYWdlcy5zb21lKGZ1bmN0aW9uKGRlY2tTdG9yYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVja1N0b3JhZ2UuZGVjayA9PT0gZGVjaztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGRlY2tBbHJlYWR5U3RvcmVkO1xuICAgIH0sXG5cbiAgICBzdG9yZURlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG4gICAgICAgIHZhciBkZWNrQWxyZWFkeVN0b3JlZCA9IGlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrKGRlY2spO1xuXG4gICAgICAgIGlmICghZGVja0FscmVhZHlTdG9yZWQpIHtcbiAgICAgICAgICAgIGRlY2tzU3RvcmFnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZGVjazogZGVjayxcbiAgICAgICAgICAgICAgICBzdG9yYWdlOiB7fVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgaXNTdG9yYWdlQWxyZWFkeUluaXRpYXRlZEZvckRlY2tBbmRQbHVnaW4gPSBmdW5jdGlvbihwbHVnaW5OYW1lLCBkZWNrKSB7XG4gICAgICAgIGlmICghcGx1Z2luTmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcInBsdWdpbk5hbWUgbXVzdCBiZSBkZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGVjaykge1xuICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdG9yYWdlID0gcGx1Z2luLmdldERlY2tTdG9yYWdlKGRlY2spLFxuICAgICAgICAgICAgaXNTdG9yYWdlSW5pdGlhdGVkID0gISEoc3RvcmFnZSAmJiBzdG9yYWdlW3BsdWdpbk5hbWVdKTtcblxuICAgICAgICByZXR1cm4gaXNTdG9yYWdlSW5pdGlhdGVkO1xuICAgIH0sXG5cbiAgICBpbml0aWF0ZURlY2tQbHVnaW5TdG9yYWdlID0gZnVuY3Rpb24ocGx1Z2luTmFtZSwgZGVjaykge1xuICAgICAgICBpZiAoIXBsdWdpbk5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJwbHVnaW5OYW1lIG11c3QgYmUgZGVmaW5lZC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRlY2spIHtcbiAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJkZWNrIG11c3QgYmUgZGVmaW5lZC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrU3RvcmFnZShkZWNrKTtcblxuICAgICAgICBpZiAoIXN0b3JhZ2UpIHtcbiAgICAgICAgICAgIHN0b3JlRGVjayhkZWNrKTtcbiAgICAgICAgICAgIHN0b3JhZ2UgPSBwbHVnaW4uZ2V0RGVja1N0b3JhZ2UoZGVjayk7XG4gICAgICAgIH1cblxuICAgICAgICBzdG9yYWdlW3BsdWdpbk5hbWVdID0ge307XG4gICAgfSxcblxuICAgIGlzTnVtYmVyID0gZnVuY3Rpb24obikge1xuICAgICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE4MDgyL3ZhbGlkYXRlLW51bWJlcnMtaW4tamF2YXNjcmlwdC1pc251bWVyaWNcbiAgICAgICAgLy8gRnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xODMwODQ0XG4gICAgICAgIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobik7XG4gICAgfSxcblxuICAgIGluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaW5pdE9wdGlvbnMoKTtcbiAgICB9O1xuXG4vLyBGb3IgcGx1Z2lucyB0aGVtc2VsdmVzXG5wbHVnaW4uYnVpbGRlciA9IGZ1bmN0aW9uIHNlbGYob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiVGhlIHBsdWdpbiBvcHRpb25zIHdlcmUgbm90IHByb3Blcmx5IGRlZmluZWQuXCIpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgcGx1Z2luTmFtZTogb3B0aW9uc1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5wbHVnaW5OYW1lICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJUaGUgcGx1Z2luIG5hbWUgd2FzIG5vdCBwcm9wZXJseSBkZWZpbmVkLlwiKTtcbiAgICB9XG5cbiAgICB2YXIgZXh0ZXJuYWwgPSB7fSxcblxuICAgICAgICB0YWcgPSBcImJlc3Bva2UuXCIgKyBvcHRpb25zLnBsdWdpbk5hbWUsXG5cbiAgICAgICAgZ2VuZXJhdGVFcnJvck9iamVjdCA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IodGFnICsgXCI6IFwiICsgbWVzc2FnZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZXZlbnROYW1lc3BhY2UgPSBvcHRpb25zLnBsdWdpbk5hbWUsXG5cbiAgICAgICAgZXZlbnRJbk5hbWVzcGFjZSA9IGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50TmFtZXNwYWNlICsgXCIuXCIgKyBldmVudE5hbWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gUGx1Z2luIGZ1bmN0aW9ucyBleHBlY3QgdG8gYmUgZXhlY3V0ZWQgaW4gYSBkZWNrIGNvbnRleHRcbiAgICAgICAgLy8gTWltaWNpbmcsIGFuZCBleHRlbmRpbmcsdGhlIGludGVybmFsIGNyZWF0ZUV2ZW50RGF0YSBiZXNwb2tlIHVzZXNcbiAgICAgICAgY3JlYXRlRXZlbnREYXRhID0gZnVuY3Rpb24oZGVjaywgZXZlbnROYW1lc3BhY2UsIGV2ZW50TmFtZSwgaW5uZXJFdmVudCwgc2xpZGUsIGV2ZW50RGF0YSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHBsdWdpbi5jcmVhdGVFdmVudERhdGEuY2FsbChkZWNrLCBldmVudE5hbWVzcGFjZSwgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgZXZlbnREYXRhKTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBUT0RPOiBjcmVhdGUgYSBzZWNvbmQgb2JqZWN0IGJvdW5kIHRvIGJvdGggdGhpcyBleHRlcm5hbCBvYmplY3QgYW5kIHRoZSBkZWNrLFxuICAgICAgICAvLyB0byBhdm9pZCBwYXNzaW5nIHRoZSBkZWNrIHBhcmFtZXRlciBldmVyeSB0aW1lLiAoV2hpY2ggY2FuIGJlIGFsbGV2aWF0ZWQgd2l0aCBzaW1wbGVyIGZ1bmN0aW9uIGJpbmRpbmcgdGhvdWdoLilcbiAgICAgICAgZmlyZSA9IGZ1bmN0aW9uKGRlY2ssIGV2ZW50TmFtZSwgaW5uZXJFdmVudCwgc2xpZGUsIGN1c3RvbURhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWNrLmZpcmUoZXZlbnRJbk5hbWVzcGFjZShldmVudE5hbWUpLCBjcmVhdGVFdmVudERhdGEoZGVjaywgZXZlbnROYW1lc3BhY2UsIGV2ZW50TmFtZSwgaW5uZXJFdmVudCwgc2xpZGUsIGN1c3RvbURhdGEpKTtcbiAgICAgICAgfSxcblxuICAgICAgICBsb2cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBwcmVmaXhlcyA9IFt0YWddO1xuXG4gICAgICAgICAgICAvLyBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zLmxvZ2dlci5sb2cgaXMgZHluYW1pYywgc28gY2FuJ3QgYmluZCBkaXJlY3RseSB0byBpdFxuICAgICAgICAgICAgYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIubG9nLmFwcGx5KGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyLmxvZywgcHJlZml4ZXMuY29uY2F0KHBsdWdpbi5jb3B5QXJyYXkoYXJndW1lbnRzKSkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHRocm93SWZQbHVnaW5XYXNBbHJlYWR5SW5pdGlhdGVkRm9yRGVjayA9IGZ1bmN0aW9uKGRlY2spIHtcbiAgICAgICAgICAgIHZhciBpc1N0b3JhZ2VJbml0aWF0ZWQgPSBpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVja0FuZFBsdWdpbihvcHRpb25zLnBsdWdpbk5hbWUsIGRlY2spO1xuXG4gICAgICAgICAgICBpZiAoaXNTdG9yYWdlSW5pdGlhdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcIlRoZSAnXCIgKyBvcHRpb25zLnBsdWdpbk5hbWUgKyBcIicgcGx1Z2luIGhhcyBhbHJlYWR5IGJlZW4gYWN0aXZhdGVkIGZvciB0aGlzIGRlY2ssIGNhbid0IGFjdGl2YXRlIGl0IHR3aWNlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBiaW5kVG9EZWNrID0gZnVuY3Rpb24oZGVjaykge1xuICAgICAgICAgICAgdmFyIGRlY2tCb3VuZCA9IHt9O1xuXG4gICAgICAgICAgICBkZWNrQm91bmQuY3JlYXRlRXZlbnREYXRhID0gZXh0ZXJuYWwuY3JlYXRlRXZlbnREYXRhLmJpbmQodGhpcywgZGVjayk7XG4gICAgICAgICAgICBkZWNrQm91bmQuZmlyZSA9IGV4dGVybmFsLmZpcmUuYmluZCh0aGlzLCBkZWNrKTtcbiAgICAgICAgICAgIGRlY2tCb3VuZC5nZXRTdG9yYWdlID0gZXh0ZXJuYWwuZ2V0U3RvcmFnZS5iaW5kKHRoaXMsIGRlY2spO1xuICAgICAgICAgICAgZGVja0JvdW5kLmxvZyA9IGV4dGVybmFsLmxvZy5iaW5kKHRoaXMsIGRlY2spO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVja0JvdW5kO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFjdGl2YXRlRGVjayA9IGZ1bmN0aW9uKGRlY2spIHtcbiAgICAgICAgICAgIHZhciBkZWNrQm91bmQ7XG5cbiAgICAgICAgICAgIHRocm93SWZQbHVnaW5XYXNBbHJlYWR5SW5pdGlhdGVkRm9yRGVjayhkZWNrKTtcbiAgICAgICAgICAgIGluaXRpYXRlRGVja1BsdWdpblN0b3JhZ2Uob3B0aW9ucy5wbHVnaW5OYW1lLCBkZWNrKTtcblxuICAgICAgICAgICAgZGVja0JvdW5kID0gYmluZFRvRGVjayhkZWNrKTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlY2tCb3VuZDtcbiAgICAgICAgfSxcblxuICAgICAgICBiaW5kRXh0ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGV4dGVybmFsLmNyZWF0ZUV2ZW50RGF0YSA9IGNyZWF0ZUV2ZW50RGF0YS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgZXh0ZXJuYWwuZ2VuZXJhdGVFcnJvck9iamVjdCA9IGdlbmVyYXRlRXJyb3JPYmplY3QuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIGV4dGVybmFsLmZpcmUgPSBmaXJlLmJpbmQodGhpcyk7XG4gICAgICAgICAgICBleHRlcm5hbC5sb2cgPSBsb2cuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIGV4dGVybmFsLmFjdGl2YXRlRGVjayA9IGFjdGl2YXRlRGVjay5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgZXh0ZXJuYWwuZ2V0U3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrUGx1Z2luU3RvcmFnZS5iaW5kKHRoaXMsIG9wdGlvbnMucGx1Z2luTmFtZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYmluZEV4dGVybmFsKCk7XG4gICAgICAgIH07XG5cbiAgICBpbml0KCk7XG5cbiAgICByZXR1cm4gZXh0ZXJuYWw7XG59O1xuXG5wbHVnaW4uZ2V0RGVja1N0b3JhZ2UgPSBmdW5jdGlvbihkZWNrKSB7XG4gICAgaWYgKCFkZWNrKSB7XG4gICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJkZWNrIG11c3QgYmUgZGVmaW5lZC5cIik7XG4gICAgfVxuXG4gICAgdmFyIHN0b3JhZ2UgPSBudWxsO1xuXG4gICAgZGVja3NTdG9yYWdlcy5zb21lKGZ1bmN0aW9uKGRlY2tTdG9yYWdlKSB7XG4gICAgICAgIGlmIChkZWNrU3RvcmFnZS5kZWNrID09PSBkZWNrKSB7XG4gICAgICAgICAgICBzdG9yYWdlID0gZGVja1N0b3JhZ2Uuc3RvcmFnZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHN0b3JhZ2U7XG59O1xuXG5wbHVnaW4uZ2V0RGVja1BsdWdpblN0b3JhZ2UgPSBmdW5jdGlvbihwbHVnaW5OYW1lLCBkZWNrKSB7XG4gICAgaWYgKCFwbHVnaW5OYW1lKSB7XG4gICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJwbHVnaW5OYW1lIG11c3QgYmUgZGVmaW5lZC5cIik7XG4gICAgfVxuXG4gICAgaWYgKCFkZWNrKSB7XG4gICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJkZWNrIG11c3QgYmUgZGVmaW5lZC5cIik7XG4gICAgfVxuXG4gICAgdmFyIHN0b3JhZ2UgPSBwbHVnaW4uZ2V0RGVja1N0b3JhZ2UoZGVjayk7XG5cbiAgICBpZiAoIXN0b3JhZ2UpIHtcbiAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcInN0b3JhZ2Ugd2FzIG5vdCBpbml0aWF0ZWQgZm9yIHRoaXMgZGVjay5cIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0b3JhZ2VbcGx1Z2luTmFtZV07XG59O1xuXG4vLyBQbHVnaW4gZnVuY3Rpb25zIGV4cGVjdCB0byBiZSBleGVjdXRlZCBpbiBhIGRlY2sgY29udGV4dFxuLy8gTWltaWNpbmcsIGFuZCBleHRlbmRpbmcsdGhlIGludGVybmFsIGNyZWF0ZUV2ZW50RGF0YSBiZXNwb2tlIHVzZXNcbnBsdWdpbi5jcmVhdGVFdmVudERhdGEgPSBmdW5jdGlvbihldmVudE5hbWVzcGFjZSwgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgZXZlbnREYXRhKSB7XG4gICAgZXZlbnREYXRhID0gZXZlbnREYXRhIHx8IHt9O1xuXG4gICAgZXZlbnREYXRhLmV2ZW50TmFtZXNwYWNlID0gZXZlbnROYW1lc3BhY2UgfHwgbnVsbDtcblxuICAgIGV2ZW50RGF0YS5ldmVudE5hbWUgPSBldmVudE5hbWUgfHwgbnVsbDtcblxuICAgIC8vIENhbiBiZSBlaXRoZXIgYSBET00vYnJvd3NlciBldmVudCBvciBhIGJlc3Bva2UgZXZlbnRcbiAgICBldmVudERhdGEuaW5uZXJFdmVudCA9IGlubmVyRXZlbnQgfHwgbnVsbDtcblxuICAgIGlmIChpc051bWJlcihzbGlkZSkpIHtcbiAgICAgICAgZXZlbnREYXRhLmluZGV4ID0gc2xpZGU7XG4gICAgICAgIGV2ZW50RGF0YS5zbGlkZSA9IHRoaXMuc2xpZGVzW3NsaWRlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBldmVudERhdGEuaW5kZXggPSB0aGlzLnNsaWRlcy5pbmRleE9mKHNsaWRlKTtcbiAgICAgICAgZXZlbnREYXRhLnNsaWRlID0gc2xpZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV2ZW50RGF0YTtcbn07XG5cbnBsdWdpbi5jb3B5QXJyYXkgPSBmdW5jdGlvbihhcnIpIHtcbiAgICByZXR1cm4gW10uc2xpY2UuY2FsbChhcnIsIDApO1xufTtcblxuY3YgPSBwbHVnaW4uYnVpbGRlcihwbHVnaW5OYW1lKTtcblxuaW5pdCgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBsdWdpbjtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Jlc3Bva2UtY29udmVuaWVudC9saWIvYmVzcG9rZS1jb252ZW5pZW50LmpzXG4gKiogbW9kdWxlIGlkID0gMTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qZ2xvYmFsIG1vZHVsZTp0cnVlLCByZXF1aXJlOnRydWUsIHdpbmRvdzp0cnVlLCBkb2N1bWVudDp0cnVlLCBNYXRoOnRydWUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBwbHVnaW5OYW1lID0gXCJzZWNvbmRhcnlcIixcbiAgICAvLyBIYWNrIHRvIGdldCBhcm91bmQgaGF2aW5nIHRvIHdyaXRlIGFsbCBicm93c2VyIGNvZGUgd2l0aCByZXF1aXJlKCkuXG4gICAgYnJvd3Nlckdsb2JhbCA9IChmdW5jdGlvbihmKSB7XG4gICAgICAgIHJldHVybiBmKFwicmV0dXJuIHRoaXNcIikoKTtcbiAgICB9KEZ1bmN0aW9uKSksXG4gICAgY29udmVuaWVudCA9ICgoYnJvd3Nlckdsb2JhbC5iZXNwb2tlICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zLmNvbnZlbmllbnQpIHx8IHJlcXVpcmUoXCJiZXNwb2tlLWNvbnZlbmllbnRcIikpLFxuICAgIGN2ID0gY29udmVuaWVudC5idWlsZGVyKHBsdWdpbk5hbWUpLFxuXG4gICAgLy8gTWFraW5nIHN1cmUgaW5kZXhmaW5nZXIgaXMgYXZhaWxhYmxlLlxuICAgIC8vIFRPRE86IGNoZWNrIHRoYXQgaW5kZXhmaW5nZXIgaGFzIGJlZW4gbG9hZGVkOyBtYXliZSBjaGVja2luZyBmb3IgZGVjay5nZXRBY3RpdmVTbGlkZSgpLlxuICAgIGluZGV4ZmluZ2VyID0gKChicm93c2VyR2xvYmFsLmJlc3Bva2UgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMuaW5kZXhmaW5nZXIpIHx8IHJlcXVpcmUoXCJiZXNwb2tlLWluZGV4ZmluZ2VyXCIpKSxcblxuICAgIEtleUNvbnN0YW50cyA9IHtcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0tleWJvYXJkRXZlbnQjVmlydHVhbF9rZXlfY29kZXNcbiAgICAgICAgUzogMHg1MywgLy8gKDgzKSBcIlNcIiBrZXkuXG4gICAgfSxcblxuICAgIGRlZmF1bHRzID0ge1xuICAgICAgICBub3RlczogXCJhc2lkZVwiLFxuICAgICAgICBrZXlzOiB7XG4gICAgICAgICAgICB0b2dnbGU6IEtleUNvbnN0YW50cy5TXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgcmFuZG9tSW50ZWdlciA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gICAgICAgIC8vIFRPRE86IGxvb2sgZm9yIHNvbWVvbmUgZWxzZSdzIGltcGxlbWVudGF0aW9uIC0gdGhleSd2ZSBwcm9iYWJseSBjb3ZlcmVkIGFsbCB0aGUgY29ybmVyIGNhc2VzLlxuICAgICAgICAvLyBUaGlzIHNob3VsZCBkbyBmb3IgMCA8PSBmcm9tIDwgdG8gPCAocmFuZG9tJ3MgcmVzb2x1dGlvbikgdGhvdWdoLlxuICAgICAgICB2YXIgZGlmZixcbiAgICAgICAgICAgIHJuZDtcblxuICAgICAgICBpZiAodG8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdG8gPSBmcm9tO1xuICAgICAgICAgICAgZnJvbSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBkaWZmID0gdG8gLSBmcm9tO1xuXG4gICAgICAgIHJuZCA9IGZyb20gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBkaWZmKTtcblxuICAgICAgICByZXR1cm4gcm5kO1xuICAgIH0sXG5cbiAgICBiYXNlV2luZG93TmFtZSA9IHBsdWdpbk5hbWUgKyBcIi13aW5kb3ctXCIsXG5cbiAgICBnZW5lcmF0ZVdpbmRvd05hbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJuZCA9IHJhbmRvbUludGVnZXIoMTAwMCwgMTAwMDApLFxuICAgICAgICAgICAgd2luZG93TmFtZSA9IGJhc2VXaW5kb3dOYW1lICsgcm5kO1xuXG4gICAgICAgIHJldHVybiB3aW5kb3dOYW1lO1xuICAgIH0sXG5cbiAgICBpbml0aWFsaXplU2Vjb25kYXJ5V2luZG93Q29udGVudHMgPSBmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgZG9jLmJvZHkuaW5uZXJIVE1MID0gXCI8aDE+Tm90ZXM8L2gxPjxkaXYgaWQ9J25vdGVzJz48L2Rpdj5cIjtcbiAgICB9LFxuXG4gICAgcGx1Z2luID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgZGVja2VyID0gZnVuY3Rpb24oZGVjaykge1xuICAgICAgICAgICAgdmFyIGN2Qm91bmRUb0RlY2sgPSBjdi5hY3RpdmF0ZURlY2soZGVjayksXG5cbiAgICAgICAgICAgICAgICBvZmYgPSB7fSxcblxuICAgICAgICAgICAgICAgIHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUGx1Z2luIGZ1bmN0aW9ucyBleHBlY3QgdG8gYmUgZXhlY3V0ZWQgaW4gYSBkZWNrIGNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgZ2V0Tm90ZXNFbGVtZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS53aW5kb3cgJiYgdGhpcy5zZWNvbmRhcnkud2luZG93LmRvY3VtZW50ICYmIHRoaXMuc2Vjb25kYXJ5LndpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vdGVzXCIpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGlzT3BlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IHRoaXMuc2Vjb25kYXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHcgPSBzLndpbmRvdyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpc0luaXRpYWxpemVkLCBpc05vdE51bGwsIGlzTm90Q2xvc2VkLCBpc093bmVkQnlUaGlzV2luZG93LCBjb250YWluc05vdGVzRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9ICEhKHMgIT09IHVuZGVmaW5lZCAmJiB3ICE9PSBudWxsICYmIHcuY2xvc2VkICE9PSB0cnVlICYmIHcub3BlbmVyID09PSB3aW5kb3cgJiYgdGhpcy5zZWNvbmRhcnkuZ2V0Tm90ZXNFbGVtZW50KCkgIT09IG51bGwpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIG9wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNlY29uZGFyeS5pc09wZW4oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vjb25kYXJ5LndpbmRvdyA9IHdpbmRvdy5vcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZVNlY29uZGFyeVdpbmRvd0NvbnRlbnRzKHRoaXMuc2Vjb25kYXJ5LndpbmRvdy5kb2N1bWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWNvbmRhcnkuaXNPcGVuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS53aW5kb3cuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICF0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBmb2N1czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWNvbmRhcnkuaXNPcGVuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS53aW5kb3cuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWNvbmRhcnkuaXNPcGVuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS5vcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBzeW5jaHJvbml6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZU5vdGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbE5vdGVzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gdGhpcy5zZWNvbmRhcnkuZ2V0Tm90ZXNFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZSA9IHRoaXMuZ2V0QWN0aXZlU2xpZGUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVOb3RlcyA9IGNvbnZlbmllbnQuY29weUFycmF5KHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwob3B0aW9ucy5ub3RlcykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxOb3RlcyA9IHNsaWRlTm90ZXMucmVkdWNlKGZ1bmN0aW9uKG5vdGVzSHRtbCwgc2xpZGVOb3RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vdGVzSHRtbCArIHNsaWRlTm90ZS5vdXRlckhUTUw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBcIlwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBhbGxOb3RlcztcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGVja0V4dGVuc2lvbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjay5zZWNvbmRhcnkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3c6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnlXaW5kb3dOYW1lOiBnZW5lcmF0ZVdpbmRvd05hbWUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldE5vdGVzRWxlbWVudDogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLmdldE5vdGVzRWxlbWVudC5iaW5kKGRlY2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuaXNPcGVuLmJpbmQoZGVjayksXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMub3Blbi5iaW5kKGRlY2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2U6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5jbG9zZS5iaW5kKGRlY2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXM6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5mb2N1cy5iaW5kKGRlY2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMudG9nZ2xlLmJpbmQoZGVjayksXG4gICAgICAgICAgICAgICAgICAgICAgICBzeW5jaHJvbml6ZTogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLnN5bmNocm9uaXplLmJpbmQoZGVjaylcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgaW5pdE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogbWVyZ2UgZnVuY3Rpb24/XG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgbWVyZ2Uga25vd24gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVyZ2VkID0ge307XG5cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkLmtleXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkLmtleXMudG9nZ2xlID0gKG9wdGlvbnMua2V5cyAmJiBvcHRpb25zLmtleXMudG9nZ2xlKSB8fCBkZWZhdWx0cy5rZXlzLnRvZ2dsZTtcblxuICAgICAgICAgICAgICAgICAgICBtZXJnZWQubm90ZXMgPSBvcHRpb25zLm5vdGVzIHx8IGRlZmF1bHRzLm5vdGVzO1xuXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBtZXJnZWQ7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGtleURvd25MaXN0ZW5lciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50SGFuZGxlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIG1vZGlmaWVyIGtleXMsIHBsZWFzZVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWUuYWx0S2V5ICYmICFlLmN0cmxLZXkgJiYgIWUubWV0YUtleSAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRIYW5kbGVkID0gZXZlbnRIYW5kbGVkIHx8IChlLndoaWNoID09PSBvcHRpb25zLmtleXMudG9nZ2xlICYmIGN2Qm91bmRUb0RlY2suZmlyZShcInRvZ2dsZVwiLCBlKSAmJiBkZWNrLnNlY29uZGFyeS50b2dnbGUoKSAmJiBkZWNrLnNlY29uZGFyeS5zeW5jaHJvbml6ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudEhhbmRsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhZXZlbnRIYW5kbGVkO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBvbkJlZm9yZVVubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBkZWNrLnNlY29uZGFyeS5jbG9zZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBvbkFjdGl2YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY2suc2Vjb25kYXJ5LnN5bmNocm9uaXplKCk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGVuYWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciBkb2Vzbid0IHNlZW0gdG8gd29yayBmb3Igb25iZWZvcmV1bmxvYWRcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gb25CZWZvcmVVbmxvYWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwga2V5RG93bkxpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIG9mZi5hY3RpdmF0ZSA9IGRlY2sub24oXCJhY3RpdmF0ZVwiLCBvbkFjdGl2YXRlKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpbml0T3B0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICByZWdpc3RlckRlY2tFeHRlbnNpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGluaXQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZGVja2VyO1xuICAgIH07XG5cbm1vZHVsZS5leHBvcnRzID0gcGx1Z2luO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmVzcG9rZS1zZWNvbmRhcnkvbGliL2Jlc3Bva2Utc2Vjb25kYXJ5LmpzXG4gKiogbW9kdWxlIGlkID0gMTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
