"use strict";!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1);var i=n(2),r=n(3),o=n(4),a=n(5),s=n(6),c=n(7),l=n(8),u=n(9),d=n(10),p=n(11),f=n(13),g=[r(),o(),a(),s(".delayed, .bullet"),c(),l(),u(),d(),p(),f()];try{n(!function(){var e=new Error('Cannot find module "plugins"');throw e.code="MODULE_NOT_FOUND",e}())(g)}catch(h){}var m=i.from("article",g);try{n(!function(){var e=new Error('Cannot find module "deck"');throw e.code="MODULE_NOT_FOUND",e}())(m)}catch(h){}},function(e,t){(function(t){var n="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},i=function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=n.Prism={util:{encode:function(e){return e instanceof i?new i(e.type,t.util.encode(e.content),e.alias):"Array"===t.util.type(e)?e.map(t.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function o(e){var n=t.util.type(e);switch(n){case"Object":var o={};for(var i in e)e.hasOwnProperty(i)&&(o[i]=t.util.clone(e[i]));return o;case"Array":return e.map&&e.map(function(e){return t.util.clone(e)})}return e}},languages:{extend:function(e,n){var i=t.util.clone(t.languages[e]);for(var r in n)i[r]=n[r];return i},insertBefore:function(e,n,i,r){r=r||t.languages;var o=r[e];if(2==arguments.length){i=arguments[1];for(var a in i)i.hasOwnProperty(a)&&(o[a]=i[a]);return o}var s={};for(var c in o)if(o.hasOwnProperty(c)){if(c==n)for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a]);s[c]=o[c]}return t.languages.DFS(t.languages,function(t,n){n===r[e]&&t!=e&&(this[t]=s)}),r[e]=s},DFS:function(e,n,i){for(var r in e)e.hasOwnProperty(r)&&(n.call(e,r,e[r],i||r),"Object"===t.util.type(e[r])?t.languages.DFS(e[r],n):"Array"===t.util.type(e[r])&&t.languages.DFS(e[r],n,r))}},plugins:{},highlightAll:function(e,n){for(var i,r=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),o=0;i=r[o++];)t.highlightElement(i,e===!0,n)},highlightElement:function(i,r,o){for(var a,s,c=i;c&&!e.test(c.className);)c=c.parentNode;c&&(a=(c.className.match(e)||[,""])[1],s=t.languages[a]),i.className=i.className.replace(e,"").replace(/\s+/g," ")+" language-"+a,c=i.parentNode,/pre/i.test(c.nodeName)&&(c.className=c.className.replace(e,"").replace(/\s+/g," ")+" language-"+a);var l=i.textContent,u={element:i,language:a,grammar:s,code:l};if(!l||!s)return void t.hooks.run("complete",u);if(t.hooks.run("before-highlight",u),r&&n.Worker){var d=new Worker(t.filename);d.onmessage=function(e){u.highlightedCode=e.data,t.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,o&&o.call(u.element),t.hooks.run("after-highlight",u),t.hooks.run("complete",u)},d.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=t.highlight(u.code,u.grammar,u.language),t.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,o&&o.call(i),t.hooks.run("after-highlight",u),t.hooks.run("complete",u)},highlight:function(e,n,r){var o=t.tokenize(e,n);return i.stringify(t.util.encode(o),r)},tokenize:function(e,n,i){var r=t.Token,o=[e],a=n.rest;if(a){for(var s in a)n[s]=a[s];delete n.rest}e:for(var s in n)if(n.hasOwnProperty(s)&&n[s]){var c=n[s];c="Array"===t.util.type(c)?c:[c];for(var l=0;l<c.length;++l){var u=c[l],d=u.inside,p=!!u.lookbehind,f=0,g=u.alias;u=u.pattern||u;for(var h=0;h<o.length;h++){var m=o[h];if(o.length>e.length)break e;if(!(m instanceof r)){u.lastIndex=0;var b=u.exec(m);if(b){p&&(f=b[1].length);var v=b.index-1+f,b=b[0].slice(f),y=b.length,k=v+y,w=m.slice(0,v+1),x=m.slice(k+1),E=[h,1];w&&E.push(w);var O=new r(s,d?t.tokenize(b,d):b,g);E.push(O),x&&E.push(x),Array.prototype.splice.apply(o,E)}}}}}return o},hooks:{all:{},add:function(e,n){var i=t.hooks.all;i[e]=i[e]||[],i[e].push(n)},run:function(e,n){var i=t.hooks.all[e];if(i&&i.length)for(var r,o=0;r=i[o++];)r(n)}}},i=t.Token=function(e,t,n){this.type=e,this.content=t,this.alias=n};if(i.stringify=function(e,n,r){if("string"==typeof e)return e;if("Array"===t.util.type(e))return e.map(function(t){return i.stringify(t,n,e)}).join("");var o={type:e.type,content:i.stringify(e.content,n,r),tag:"span",classes:["token",e.type],attributes:{},language:n,parent:r};if("comment"==o.type&&(o.attributes.spellcheck="true"),e.alias){var a="Array"===t.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(o.classes,a)}t.hooks.run("wrap",o);var s="";for(var c in o.attributes)s+=(s?" ":"")+c+'="'+(o.attributes[c]||"")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'" '+s+">"+o.content+"</"+o.tag+">"},!n.document)return n.addEventListener?(n.addEventListener("message",function(e){var i=JSON.parse(e.data),r=i.language,o=i.code,a=i.immediateClose;n.postMessage(t.highlight(o,t.languages[r],r)),a&&n.close()},!1),n.Prism):n.Prism;var r=document.getElementsByTagName("script");return r=r[r.length-1],r&&(t.filename=r.src,document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll)),n.Prism}();"undefined"!=typeof e&&e.exports&&(e.exports=i),"undefined"!=typeof t&&(t.Prism=i),i.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=.$<]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},i.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),i.languages.xml=i.languages.markup,i.languages.html=i.languages.markup,i.languages.mathml=i.languages.markup,i.languages.svg=i.languages.markup,i.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,"function":/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},i.languages.css.atrule.inside.rest=i.util.clone(i.languages.css),i.languages.markup&&(i.languages.insertBefore("markup","tag",{style:{pattern:/(<style[\w\W]*?>)[\w\W]*?(?=<\/style>)/i,lookbehind:!0,inside:i.languages.css,alias:"language-css"}}),i.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:i.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:i.languages.css}},alias:"language-css"}},i.languages.markup.tag)),i.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},i.languages.javascript=i.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,"function":/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i}),i.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}}),i.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:i.languages.javascript}},string:/[\s\S]+/}}}),i.languages.markup&&i.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\w\W]*?>)[\w\W]*?(?=<\/script>)/i,lookbehind:!0,inside:i.languages.javascript,alias:"language-javascript"}}),i.languages.js=i.languages.javascript,function(){"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(){var e={js:"javascript",html:"markup",svg:"markup",xml:"markup",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell"};Array.prototype.forEach&&Array.prototype.slice.call(document.querySelectorAll("pre[data-src]")).forEach(function(t){for(var n,r=t.getAttribute("data-src"),o=t,a=/\blang(?:uage)?-(?!\*)(\w+)\b/i;o&&!a.test(o.className);)o=o.parentNode;if(o&&(n=(t.className.match(a)||[,""])[1]),!n){var s=(r.match(/\.(\w+)$/)||[,""])[1];n=e[s]||s}var c=document.createElement("code");c.className="language-"+n,t.textContent="",c.textContent="Loading…",t.appendChild(c);var l=new XMLHttpRequest;l.open("GET",r,!0),l.onreadystatechange=function(){4==l.readyState&&(l.status<400&&l.responseText?(c.textContent=l.responseText,i.highlightElement(c)):l.status>=400?c.textContent="✖ Error "+l.status+" while fetching file: "+l.statusText:c.textContent="✖ Error: File does not exist or is empty")},l.send(null)})},self.Prism.fileHighlight())}()}).call(t,function(){return this}())},function(e,t){var n=function(e,t){var n=1===(e.parent||e).nodeType?e.parent||e:document.querySelector(e.parent||e),i=[].filter.call("string"==typeof e.slides?n.querySelectorAll(e.slides):e.slides||n.children,function(e){return"SCRIPT"!==e.nodeName}),r=i[0],o={},a=function(e,t){i[e]&&(d("deactivate",p(r,t)),r=i[e],d("activate",p(r,t)))},s=function(e,t){return arguments.length?void(d("slide",p(i[e],t))&&a(e,t)):i.indexOf(r)},c=function(e,t){var n=i.indexOf(r)+e;d(e>0?"next":"prev",p(r,t))&&a(n,t)},l=function(e,t){return(o[e]||(o[e]=[])).push(t),u.bind(null,e,t)},u=function(e,t){o[e]=(o[e]||[]).filter(function(e){return e!==t})},d=function(e,t){return(o[e]||[]).reduce(function(e,n){return e&&n(t)!==!1},!0)},p=function(e,t){return t=t||{},t.index=i.indexOf(e),t.slide=e,t},f={on:l,off:u,fire:d,slide:s,next:c.bind(null,1),prev:c.bind(null,-1),parent:n,slides:i};return(t||[]).forEach(function(e){e(f)}),a(0),f};e.exports={from:n}},function(e,t,n){var i,i;!function(t){e.exports=t()}(function(){return function e(t,n,r){function o(s,c){if(!n[s]){if(!t[s]){var l="function"==typeof i&&i;if(!c&&l)return i(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return o(n?n:e)},u,u.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){var i=e("bespoke-classes"),r=e("insert-css");t.exports=function(){var e='/*! normalize.css v3.0.0 | MIT License | git.io/normalize */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background:0 0}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b{font-weight:700}dfn{font-style:italic}h1{font-size:2em}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box}pre{overflow:auto}code,kbd,pre,samp{font-size:1em}kbd,pre,samp{font-family:monospace,monospace}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th,*{padding:0}*{margin:0}html{-webkit-text-size-adjust:auto;-ms-text-size-adjust:auto;text-size-adjust:auto}.bespoke-parent{font-size:1.5em;background:#111;color:#ddd;font-family:futura,helvetica,arial,arial,sans-serif;overflow:hidden;text-align:center;-webkit-transition:background 1s ease;transition:background 1s ease;background-position:50% 50%}.bespoke-parent,.bespoke-scale-parent{position:absolute;top:0;left:0;right:0;bottom:0}.bespoke-scale-parent{pointer-events:none;z-index:1}.bespoke-scale-parent .bespoke-active{pointer-events:auto}.bespoke-slide{-webkit-transition:opacity .5s ease;transition:opacity .5s ease;width:940px;height:480px;position:absolute;top:50%;left:50%;margin-left:-470px;margin-top:-240px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;z-index:1}.bespoke-active{-webkit-transition-delay:.5s;transition-delay:.5s}.bespoke-active[data-bespoke-backdrop]{-webkit-transition-delay:.75s;transition-delay:.75s}.bespoke-inactive{opacity:0;pointer-events:none}.bespoke-backdrop{-webkit-transition:opacity 1s ease;position:absolute;top:0;left:0;right:0;bottom:0}.bespoke-progress-parent{position:absolute;top:0;left:0;right:0;height:.3vw;z-index:1}.bespoke-progress-bar{background:#ddd;position:absolute;top:0;left:0;height:100%;-webkit-transition:width 1s ease;transition:width 1s ease}.bespoke-bullet{-webkit-transition:opacity .3s ease;transition:opacity .3s ease}.bespoke-bullet-inactive{opacity:0}strong{font-weight:400}hr{width:50%;margin:1rem auto;height:1px;border:0;background:#ddd}h3,p,li{padding-left:20px;padding-right:20px}h3,h4,p,li,pre{font-weight:200}h1{line-height:1.4em;padding:1em;border:1px solid #ddd;border-left-width:0;border-right-width:0;min-width:8em}h1,h2{letter-spacing:.3em;text-transform:uppercase;font-weight:400;margin:.17em 0;position:relative}h2{line-height:1.1em;padding:0 0 0 .3em}h3{font-family:didot,times new roman,serif;font-style:italic;font-size:1.2em;line-height:1.6em;margin:.5em 0}h4{text-transform:uppercase;font-size:.8em;line-height:1.8em;letter-spacing:.3em;margin:1em 0}ul,ol{padding:0;margin:0;text-align:left}li{list-style:none;margin:.2em;font-style:normal;-webkit-transform:translateX(-6px);-ms-transform:translateX(-6px);transform:translateX(-6px)}li:before{content:\'\\2014\';margin-right:4px}pre{background:none!important}code{font-family:prestige elite std,consolas,courier new,monospace!important;font-style:normal;font-weight:200!important;text-align:left}a{padding-left:.3em;color:currentColor;text-decoration:none;border-bottom:1px solid currentColor}.emphatic{background:#f30}.single-words{word-spacing:9999px;line-height:2.9em;overflow:hidden}.bespoke-backdrop{opacity:0;-webkit-transition:opacity 1s ease,-webkit-transform 6s ease;transition:opacity 1s ease,transform 6s ease;background-size:cover;background-position:50% 50%;-webkit-transform:translateZ(0)scale(1.3);transform:translateZ(0)scale(1.3)}.bespoke-backdrop-active,.bespoke-backdrop-before{-webkit-transform:translateZ(0);transform:translateZ(0)}.bespoke-backdrop-before{-webkit-transition-delay:.2s;transition-delay:.2s}.bespoke-backdrop-active{opacity:.5}';return r(e,{prepend:!0}),function(e){i()(e)}}},{"bespoke-classes":2,"insert-css":3}],2:[function(e,t,n){t.exports=function(){return function(e){var t=function(e,t){e.classList.add("bespoke-"+t)},n=function(e,t){e.className=e.className.replace(new RegExp("bespoke-"+t+"(\\s|$)","g")," ").trim()},i=function(i,r){var o=e.slides[e.slide()],a=r-e.slide(),s=a>0?"after":"before";["before(-\\d+)?","after(-\\d+)?","active","inactive"].map(n.bind(null,i)),i!==o&&["inactive",s,s+"-"+Math.abs(a)].map(t.bind(null,i))};t(e.parent,"parent"),e.slides.map(function(e){t(e,"slide")}),e.on("activate",function(r){e.slides.map(i),t(r.slide,"active"),n(r.slide,"inactive")})}}},{}],3:[function(e,t,n){var i={};t.exports=function(e,t){if(!i[e]){i[e]=!0;var n=document.createElement("style");n.setAttribute("type","text/css"),"textContent"in n?n.textContent=e:n.styleSheet.cssText=e;var r=document.getElementsByTagName("head")[0];t&&t.prepend?r.insertBefore(n,r.childNodes[0]):r.appendChild(n)}}},{}]},{},[1])(1)})},function(e,t){e.exports=function(e){return function(t){var n="vertical"!==e;document.addEventListener("keydown",function(e){(34==e.which||32==e.which&&!e.shiftKey||n&&39==e.which||!n&&40==e.which)&&t.next(),(33==e.which||32==e.which&&e.shiftKey||n&&37==e.which||!n&&38==e.which)&&t.prev()})}}},function(e,t){e.exports=function(e){return function(t){var n,i,r="vertical"==e?"Y":"X";t.parent.addEventListener("touchstart",function(e){1==e.touches.length&&(n=e.touches[0]["page"+r],i=0)}),t.parent.addEventListener("touchmove",function(e){1==e.touches.length&&(e.preventDefault(),i=e.touches[0]["page"+r]-n)}),t.parent.addEventListener("touchend",function(){Math.abs(i)>50&&t[i>0?"prev":"next"]()})}}},function(e,t){e.exports=function(e){return function(t){var n,i,r=t.slides.map(function(t){return[].slice.call(t.querySelectorAll("string"==typeof e?e:"[data-bespoke-bullet]"),0)}),o=function(){var e=n+1;return c(1)?(s(n,i+1),!1):void(r[e]&&s(e,0))},a=function(){var e=n-1;return c(-1)?(s(n,i-1),!1):void(r[e]&&s(e,r[e].length-1))},s=function(e,t){n=e,i=t,r.forEach(function(n,i){n.forEach(function(n,r){n.classList.add("bespoke-bullet"),e>i||i===e&&t>=r?(n.classList.add("bespoke-bullet-active"),n.classList.remove("bespoke-bullet-inactive")):(n.classList.add("bespoke-bullet-inactive"),n.classList.remove("bespoke-bullet-active")),i===e&&r===t?n.classList.add("bespoke-bullet-current"):n.classList.remove("bespoke-bullet-current")})})},c=function(e){return void 0!==r[n][i+e]};t.on("next",o),t.on("prev",a),t.on("slide",function(e){s(e.index,0)}),s(0,0)}}},function(e,t){e.exports=function(){return function(e){function t(t){var n=t.getAttribute("data-bespoke-backdrop");if(n){var i=document.createElement("div");return i.className=n,i.classList.add("bespoke-backdrop"),e.parent.appendChild(i),i}}function n(t){if(t){var n=o.indexOf(t),a=e.slide();i(t,"active"),i(t,"inactive"),i(t,"before"),i(t,"after"),n!==a?(r(t,"inactive"),r(t,a>n?"before":"after")):r(t,"active")}}function i(e,t){e.classList.remove("bespoke-backdrop-"+t)}function r(e,t){e.classList.add("bespoke-backdrop-"+t)}var o;o=e.slides.map(t),e.on("activate",function(){o.forEach(n)})}}},function(e,t){e.exports=function(e){return function(t){var n=t.parent,i=t.slides[0],r=i.offsetHeight,o=i.offsetWidth,a="zoom"===e||"zoom"in n.style&&"transform"!==e,s=function(e){var t=document.createElement("div");return t.className="bespoke-scale-parent",e.parentNode.insertBefore(t,e),t.appendChild(e),t},c=a?t.slides:t.slides.map(s),l=function(e){var t="Moz Webkit O ms".split(" ");return t.reduce(function(t,i){return i+e in n.style?i+e:t},e.toLowerCase())}("Transform"),u=a?function(e,t){t.style.zoom=e}:function(e,t){t.style[l]="scale("+e+")"},d=function(){var e=n.offsetWidth/o,t=n.offsetHeight/r;c.forEach(u.bind(null,Math.min(e,t)))};window.addEventListener("resize",d),d()}}},function(e,t){e.exports=function(){return function(e){var t=function(){var t=window.location.hash.slice(1),i=parseInt(t,10);t&&(i?n(i-1):e.slides.forEach(function(e,i){e.getAttribute("data-bespoke-hash")===t&&n(i)}))},n=function(t){var n=t>-1&&t<e.slides.length?t:0;n!==e.slide()&&e.slide(n)};setTimeout(function(){t(),e.on("activate",function(e){var t=e.slide.getAttribute("data-bespoke-hash");window.location.hash=t||e.index+1}),window.addEventListener("hashchange",t)},0)}}},function(e,t){e.exports=function(e){return function(t){var n=document.createElement("div"),i=document.createElement("div"),r="vertical"===e?"height":"width";n.className="bespoke-progress-parent",i.className="bespoke-progress-bar",n.appendChild(i),t.parent.appendChild(n),t.on("activate",function(e){i.style[r]=100*e.index/(t.slides.length-1)+"%"})}}},function(e,t,n){var i="indexfinger",r=function(e){return e("return this")()}(Function),o=r.bespoke&&r.bespoke.plugins&&r.bespoke.plugins.convenient||n(12),a=o.builder(i),s=function(e){var t=function(e){var t=(a.activateDeck(e),{}),n=null,i=-1,r={enableActiveSlideListener:function(){t.saveActiveSlide=this.on("activate",r.saveActiveSlide.bind(this))},saveActiveSlide:function(e){n=e.slide,i=e.index},getActiveSlide:function(){return n},getActiveSlideIndex:function(){return i}},o=function(){e.getActiveSlide=r.getActiveSlide.bind(e),e.getActiveSlideIndex=r.getActiveSlideIndex.bind(e)},s=function(){r.enableActiveSlideListener.call(e)},c=function(){o(),s()};c()};return t};e.exports=s},function(e,t){var n,i="convenient",r=function(e){return e("return this")()}(Function),o={logger:{log:function(){console.log.apply(console,arguments)}}},a=function(){var e={};e.logger={},e.logger.log=r.convenientOptions&&r.convenientOptions.logger&&r.convenientOptions.logger.log||o.logger.log,r.convenientOptions=e},s={},c=[],l=function(e){if(!e)throw n.generateErrorObject("deck must be defined.");var t=c.some(function(t){return t.deck===e});return t},u=function(e){var t=l(e);t||c.push({deck:e,storage:{}})},d=function(e,t){if(!e)throw n.generateErrorObject("pluginName must be defined.");if(!t)throw n.generateErrorObject("deck must be defined.");var i=s.getDeckStorage(t),r=!(!i||!i[e]);return r},p=function(e,t){if(!e)throw n.generateErrorObject("pluginName must be defined.");if(!t)throw n.generateErrorObject("deck must be defined.");var i=s.getDeckStorage(t);i||(u(t),i=s.getDeckStorage(t)),i[e]={}},f=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},g=function(){a()};s.builder=function(e){if(!e)throw n.generateErrorObject("The plugin options were not properly defined.");if("string"==typeof e&&(e={pluginName:e}),"string"!=typeof e.pluginName)throw n.generateErrorObject("The plugin name was not properly defined.");var t={},i="bespoke."+e.pluginName,o=function(e){return new Error(i+": "+e)},a=e.pluginName,c=function(e){return a+"."+e},l=function(e,t,n,i,r,o){var a=s.createEventData.call(e,t,n,i,r,o);return a},u=function(e,t,n,i,r){return e.fire(c(t),l(e,a,t,n,i,r))},f=function(){var e=[i];r.convenientOptions.logger.log.apply(r.convenientOptions.logger.log,e.concat(s.copyArray(arguments)))},g=function(t){var i=d(e.pluginName,t);if(i)throw n.generateErrorObject("The '"+e.pluginName+"' plugin has already been activated for this deck, can't activate it twice.")},h=function(e){var n={};return n.createEventData=t.createEventData.bind(this,e),n.fire=t.fire.bind(this,e),n.getStorage=t.getStorage.bind(this,e),n.log=t.log.bind(this,e),n},m=function(t){var n;return g(t),p(e.pluginName,t),n=h(t)},b=function(){t.createEventData=l.bind(this),t.generateErrorObject=o.bind(this),t.fire=u.bind(this),t.log=f.bind(this),t.activateDeck=m.bind(this),t.getStorage=s.getDeckPluginStorage.bind(this,e.pluginName)},v=function(){b()};return v(),t},s.getDeckStorage=function(e){if(!e)throw n.generateErrorObject("deck must be defined.");var t=null;return c.some(function(n){return n.deck===e?(t=n.storage,!0):!1}),t},s.getDeckPluginStorage=function(e,t){if(!e)throw n.generateErrorObject("pluginName must be defined.");if(!t)throw n.generateErrorObject("deck must be defined.");var i=s.getDeckStorage(t);if(!i)throw n.generateErrorObject("storage was not initiated for this deck.");return i[e]},s.createEventData=function(e,t,n,i,r){return r=r||{},r.eventNamespace=e||null,r.eventName=t||null,r.innerEvent=n||null,f(i)?(r.index=i,r.slide=this.slides[i]):(r.index=this.slides.indexOf(i),r.slide=i),r},s.copyArray=function(e){return[].slice.call(e,0)},n=s.builder(i),g(),e.exports=s},function(e,t,n){var i="secondary",r=function(e){return e("return this")()}(Function),o=r.bespoke&&r.bespoke.plugins&&r.bespoke.plugins.convenient||n(12),a=o.builder(i),s=(r.bespoke&&r.bespoke.plugins&&r.bespoke.plugins.indexfinger||n(11),{S:83}),c={notes:"aside",keys:{toggle:s.S}},l=function(e,t){var n,i;return void 0===t&&(t=e,e=0),n=t-e,i=e+Math.floor(Math.random()*n)},u=i+"-window-",d=function(){var e=l(1e3,1e4),t=u+e;return t},p=function(e){e.body.innerHTML="<h1>Notes</h1><div id='notes'></div>"},f=function(e){var t=function(t){var n=a.activateDeck(t),i={},r={getNotesElement:function(){return this.secondary.window&&this.secondary.window.document&&this.secondary.window.document.getElementById("notes")},isOpen:function(){var e=this.secondary,t=e.window,n=!(void 0===e||null===t||t.closed===!0||t.opener!==window||null===this.secondary.getNotesElement());return n},open:function(){return this.secondary.isOpen()||(this.secondary.window=window.open(),p(this.secondary.window.document)),this.secondary.isOpen()},close:function(){return this.secondary.isOpen()&&this.secondary.window.close(),!this.secondary.isOpen()},focus:function(){return this.secondary.isOpen()&&this.secondary.window.focus(),this.secondary.isOpen()},toggle:function(){return this.secondary.isOpen()?this.secondary.close():this.secondary.open(),this.secondary.isOpen()},synchronize:function(){var t,n,i,r;return this.secondary.isOpen()?(t=this.secondary.getNotesElement(),n=this.getActiveSlide(),i=o.copyArray(n.querySelectorAll(e.notes)),r=i.reduce(function(e,t){return e+t.outerHTML},""),t.innerHTML=r,this.secondary.isOpen()):!1}},s=function(){t.secondary={window:null,secondaryWindowName:d(),getNotesElement:r.getNotesElement.bind(t),isOpen:r.isOpen.bind(t),open:r.open.bind(t),close:r.close.bind(t),focus:r.focus.bind(t),toggle:r.toggle.bind(t),synchronize:r.synchronize.bind(t)}},l=function(){var t={};e=e||{},t.keys={},t.keys.toggle=e.keys&&e.keys.toggle||c.keys.toggle,t.notes=e.notes||c.notes,e=t},u=function(i){var r=!1;return i.altKey||i.ctrlKey||i.metaKey||i.shiftKey||(r=r||i.which===e.keys.toggle&&n.fire("toggle",i)&&t.secondary.toggle()&&t.secondary.synchronize()),r&&i.preventDefault(),!r},f=function(){return t.secondary.close(),null},g=function(){t.secondary.synchronize()},h=function(){window.onbeforeunload=f,document.addEventListener("keydown",u,!1),i.activate=t.on("activate",g)},m=function(){l(),s(),h()};m()};return t};e.exports=f}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJ3ZWJwYWNrL2Jvb3RzdHJhcCBmYjdlOGJiNjlkODIzZjlhYmNlOCIsIm5vZGVfbW9kdWxlcy9AYWNoaW5nYnJhaW4vc2xpZGVzL3RlbXAvbWFpbi5qcyIsIm5vZGVfbW9kdWxlcy9wcmlzbWpzL3ByaXNtLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2UvbGliL2Jlc3Bva2UuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS10aGVtZS1uZWJ1bGEvZGlzdC9iZXNwb2tlLXRoZW1lLW5lYnVsYS5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLWtleXMvbGliL2Jlc3Bva2Uta2V5cy5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLXRvdWNoL2xpYi9iZXNwb2tlLXRvdWNoLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2UtYnVsbGV0cy9saWIvYmVzcG9rZS1idWxsZXRzLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2UtYmFja2Ryb3AvbGliL2Jlc3Bva2UtYmFja2Ryb3AuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS1zY2FsZS9saWIvYmVzcG9rZS1zY2FsZS5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLWhhc2gvbGliL2Jlc3Bva2UtaGFzaC5qcyIsIm5vZGVfbW9kdWxlcy9iZXNwb2tlLXByb2dyZXNzL2xpYi9iZXNwb2tlLXByb2dyZXNzLmpzIiwibm9kZV9tb2R1bGVzL2Jlc3Bva2UtaW5kZXhmaW5nZXIvbGliL2Jlc3Bva2UtaW5kZXhmaW5nZXIuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS1jb252ZW5pZW50L2xpYi9iZXNwb2tlLWNvbnZlbmllbnQuanMiLCJub2RlX21vZHVsZXMvYmVzcG9rZS1zZWNvbmRhcnkvbGliL2Jlc3Bva2Utc2Vjb25kYXJ5LmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsImJlc3Bva2UiLCJ0aGVtZSIsImtleXMiLCJ0b3VjaCIsImJ1bGxldHMiLCJiYWNrZHJvcCIsInNjYWxlIiwiaGFzaCIsInByb2dyZXNzIiwiaW5kZXhGaW5nZXIiLCJzZWNvbmRhcnkiLCJwbHVnaW5zIiwiZSIsIkVycm9yIiwiY29kZSIsImVycm9yIiwiZGVjayIsImZyb20iLCJnbG9iYWwiLCJfc2VsZiIsIndpbmRvdyIsIldvcmtlckdsb2JhbFNjb3BlIiwic2VsZiIsIlByaXNtIiwibGFuZyIsIl8iLCJ1dGlsIiwiZW5jb2RlIiwidG9rZW5zIiwiVG9rZW4iLCJ0eXBlIiwiY29udGVudCIsImFsaWFzIiwibWFwIiwicmVwbGFjZSIsIm8iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsIm1hdGNoIiwiY2xvbmUiLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsInYiLCJsYW5ndWFnZXMiLCJleHRlbmQiLCJyZWRlZiIsImluc2VydEJlZm9yZSIsImluc2lkZSIsImJlZm9yZSIsImluc2VydCIsInJvb3QiLCJncmFtbWFyIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwibmV3VG9rZW4iLCJyZXQiLCJ0b2tlbiIsIkRGUyIsInZhbHVlIiwidGhpcyIsImNhbGxiYWNrIiwiaSIsImhpZ2hsaWdodEFsbCIsImFzeW5jIiwiZWxlbWVudCIsImVsZW1lbnRzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGlnaGxpZ2h0RWxlbWVudCIsImxhbmd1YWdlIiwicGFyZW50IiwidGVzdCIsImNsYXNzTmFtZSIsInBhcmVudE5vZGUiLCJub2RlTmFtZSIsInRleHRDb250ZW50IiwiZW52IiwiaG9va3MiLCJydW4iLCJXb3JrZXIiLCJ3b3JrZXIiLCJmaWxlbmFtZSIsIm9ubWVzc2FnZSIsImV2dCIsImhpZ2hsaWdodGVkQ29kZSIsImRhdGEiLCJpbm5lckhUTUwiLCJwb3N0TWVzc2FnZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJpbW1lZGlhdGVDbG9zZSIsImhpZ2hsaWdodCIsInRleHQiLCJ0b2tlbml6ZSIsInN0cmFyciIsInJlc3QiLCJ0b2tlbmxvb3AiLCJwYXR0ZXJucyIsImoiLCJwYXR0ZXJuIiwibG9va2JlaGluZCIsImxvb2tiZWhpbmRMZW5ndGgiLCJzdHIiLCJsYXN0SW5kZXgiLCJleGVjIiwiaW5kZXgiLCJzbGljZSIsImxlbiIsInRvIiwiYWZ0ZXIiLCJhcmdzIiwicHVzaCIsIndyYXBwZWQiLCJBcnJheSIsInNwbGljZSIsImFwcGx5IiwiYWxsIiwiYWRkIiwibmFtZSIsImNhbGxiYWNrcyIsImpvaW4iLCJ0YWciLCJjbGFzc2VzIiwiYXR0cmlidXRlcyIsImFsaWFzZXMiLCJhZGRFdmVudExpc3RlbmVyIiwibWVzc2FnZSIsInBhcnNlIiwiY2xvc2UiLCJzY3JpcHQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNyYyIsImhhc0F0dHJpYnV0ZSIsIm1hcmt1cCIsImNvbW1lbnQiLCJwcm9sb2ciLCJkb2N0eXBlIiwiY2RhdGEiLCJwdW5jdHVhdGlvbiIsIm5hbWVzcGFjZSIsImF0dHItdmFsdWUiLCJhdHRyLW5hbWUiLCJlbnRpdHkiLCJ4bWwiLCJodG1sIiwibWF0aG1sIiwic3ZnIiwiY3NzIiwiYXRydWxlIiwicnVsZSIsInVybCIsInNlbGVjdG9yIiwic3RyaW5nIiwicHJvcGVydHkiLCJpbXBvcnRhbnQiLCJmdW5jdGlvbiIsInN0eWxlIiwic3R5bGUtYXR0ciIsImNsaWtlIiwiY2xhc3MtbmFtZSIsImtleXdvcmQiLCJib29sZWFuIiwibnVtYmVyIiwib3BlcmF0b3IiLCJqYXZhc2NyaXB0IiwicmVnZXgiLCJ0ZW1wbGF0ZS1zdHJpbmciLCJpbnRlcnBvbGF0aW9uIiwiaW50ZXJwb2xhdGlvbi1wdW5jdHVhdGlvbiIsImpzIiwicXVlcnlTZWxlY3RvciIsImZpbGVIaWdobGlnaHQiLCJFeHRlbnNpb25zIiwicHkiLCJyYiIsInBzMSIsInBzbTEiLCJmb3JFYWNoIiwicHJlIiwiZ2V0QXR0cmlidXRlIiwiZXh0ZW5zaW9uIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInJlc3BvbnNlVGV4dCIsInN0YXR1c1RleHQiLCJzZW5kIiwib3B0cyIsIm5vZGVUeXBlIiwic2xpZGVzIiwiZmlsdGVyIiwiY2hpbGRyZW4iLCJlbCIsImFjdGl2ZVNsaWRlIiwibGlzdGVuZXJzIiwiYWN0aXZhdGUiLCJjdXN0b21EYXRhIiwiZmlyZSIsImNyZWF0ZUV2ZW50RGF0YSIsInNsaWRlIiwiaW5kZXhPZiIsInN0ZXAiLCJvZmZzZXQiLCJzbGlkZUluZGV4Iiwib24iLCJldmVudE5hbWUiLCJvZmYiLCJiaW5kIiwibGlzdGVuZXIiLCJldmVudERhdGEiLCJyZWR1Y2UiLCJub3RDYW5jZWxsZWQiLCJuZXh0IiwicHJldiIsInBsdWdpbiIsInJlcXVpcmUiLCJ0IiwibiIsInIiLCJzIiwidSIsImEiLCJmIiwxLCJfZGVyZXFfIiwiaW5zZXJ0Q3NzIiwicHJlcGVuZCIsImJlc3Bva2UtY2xhc3NlcyIsImluc2VydC1jc3MiLDIsImFkZENsYXNzIiwiY2xzIiwiY2xhc3NMaXN0IiwicmVtb3ZlQ2xhc3MiLCJSZWdFeHAiLCJ0cmltIiwiZGVhY3RpdmF0ZSIsIm9mZnNldENsYXNzIiwiTWF0aCIsImFicyIsMywiaW5zZXJ0ZWQiLCJvcHRpb25zIiwiZWxlbSIsInNldEF0dHJpYnV0ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiaGVhZCIsImNoaWxkTm9kZXMiLCJpc0hvcml6b250YWwiLCJ3aGljaCIsInNoaWZ0S2V5Iiwic3RhcnRQb3NpdGlvbiIsImRlbHRhIiwiYXhpcyIsInRvdWNoZXMiLCJwcmV2ZW50RGVmYXVsdCIsImFjdGl2ZVNsaWRlSW5kZXgiLCJhY3RpdmVCdWxsZXRJbmRleCIsIm5leHRTbGlkZUluZGV4IiwiYWN0aXZlU2xpZGVIYXNCdWxsZXRCeU9mZnNldCIsImFjdGl2YXRlQnVsbGV0IiwicHJldlNsaWRlSW5kZXgiLCJidWxsZXRJbmRleCIsImJ1bGxldCIsImIiLCJyZW1vdmUiLCJ1bmRlZmluZWQiLCJjcmVhdGVCYWNrZHJvcEZvclNsaWRlIiwiYmFja2Ryb3BBdHRyaWJ1dGUiLCJ1cGRhdGVDbGFzc2VzIiwiYmFja2Ryb3BzIiwiY3VycmVudEluZGV4IiwiZmlyc3RTbGlkZSIsInNsaWRlSGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0Iiwic2xpZGVXaWR0aCIsIm9mZnNldFdpZHRoIiwidXNlWm9vbSIsIndyYXAiLCJ3cmFwcGVyIiwidHJhbnNmb3JtUHJvcGVydHkiLCJwcmVmaXhlcyIsInNwbGl0IiwiY3VycmVudFByb3BlcnR5IiwicHJlZml4IiwidG9Mb3dlckNhc2UiLCJyYXRpbyIsInpvb20iLCJzY2FsZUFsbCIsInhTY2FsZSIsInlTY2FsZSIsIm1pbiIsInBhcnNlSGFzaCIsImxvY2F0aW9uIiwic2xpZGVOdW1iZXJPck5hbWUiLCJwYXJzZUludCIsImFjdGl2YXRlU2xpZGUiLCJpbmRleFRvQWN0aXZhdGUiLCJzZXRUaW1lb3V0Iiwic2xpZGVOYW1lIiwicHJvZ3Jlc3NQYXJlbnQiLCJwcm9ncmVzc0JhciIsInByb3AiLCJwbHVnaW5OYW1lIiwiYnJvd3Nlckdsb2JhbCIsIkZ1bmN0aW9uIiwiY29udmVuaWVudCIsImN2IiwiYnVpbGRlciIsImRlY2tlciIsImFjdGl2YXRlRGVjayIsInVuYm91bmRBY3RpdmVTbGlkZURlY2tNZXRob2RzIiwiZW5hYmxlQWN0aXZlU2xpZGVMaXN0ZW5lciIsInNhdmVBY3RpdmVTbGlkZSIsImdldEFjdGl2ZVNsaWRlIiwiZ2V0QWN0aXZlU2xpZGVJbmRleCIsInJlZ2lzdGVyRGVja0V4dGVuc2lvbnMiLCJlbmFibGUiLCJpbml0IiwiZGVmYXVsdHMiLCJsb2dnZXIiLCJsb2ciLCJjb25zb2xlIiwiaW5pdE9wdGlvbnMiLCJtZXJnZWQiLCJjb252ZW5pZW50T3B0aW9ucyIsImRlY2tzU3RvcmFnZXMiLCJpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVjayIsImdlbmVyYXRlRXJyb3JPYmplY3QiLCJkZWNrQWxyZWFkeVN0b3JlZCIsInNvbWUiLCJkZWNrU3RvcmFnZSIsInN0b3JlRGVjayIsInN0b3JhZ2UiLCJpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVja0FuZFBsdWdpbiIsImdldERlY2tTdG9yYWdlIiwiaXNTdG9yYWdlSW5pdGlhdGVkIiwiaW5pdGlhdGVEZWNrUGx1Z2luU3RvcmFnZSIsImlzTnVtYmVyIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaXNGaW5pdGUiLCJleHRlcm5hbCIsImV2ZW50TmFtZXNwYWNlIiwiZXZlbnRJbk5hbWVzcGFjZSIsImlubmVyRXZlbnQiLCJyZXN1bHQiLCJjb25jYXQiLCJjb3B5QXJyYXkiLCJ0aHJvd0lmUGx1Z2luV2FzQWxyZWFkeUluaXRpYXRlZEZvckRlY2siLCJiaW5kVG9EZWNrIiwiZGVja0JvdW5kIiwiZ2V0U3RvcmFnZSIsImJpbmRFeHRlcm5hbCIsImdldERlY2tQbHVnaW5TdG9yYWdlIiwiYXJyIiwiS2V5Q29uc3RhbnRzIiwiaW5kZXhmaW5nZXIiLCJTIiwibm90ZXMiLCJ0b2dnbGUiLCJyYW5kb21JbnRlZ2VyIiwiZGlmZiIsInJuZCIsImZsb29yIiwicmFuZG9tIiwiYmFzZVdpbmRvd05hbWUiLCJnZW5lcmF0ZVdpbmRvd05hbWUiLCJ3aW5kb3dOYW1lIiwiaW5pdGlhbGl6ZVNlY29uZGFyeVdpbmRvd0NvbnRlbnRzIiwiZG9jIiwiYm9keSIsImN2Qm91bmRUb0RlY2siLCJ1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMiLCJnZXROb3Rlc0VsZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlzT3BlbiIsInciLCJjbG9zZWQiLCJvcGVuZXIiLCJmb2N1cyIsInN5bmNocm9uaXplIiwic2xpZGVOb3RlcyIsImFsbE5vdGVzIiwibm90ZXNIdG1sIiwic2xpZGVOb3RlIiwib3V0ZXJIVE1MIiwic2Vjb25kYXJ5V2luZG93TmFtZSIsImtleURvd25MaXN0ZW5lciIsImV2ZW50SGFuZGxlZCIsImFsdEtleSIsImN0cmxLZXkiLCJtZXRhS2V5Iiwib25CZWZvcmVVbmxvYWQiLCJvbkFjdGl2YXRlIiwib25iZWZvcmV1bmxvYWQiXSwibWFwcGluZ3MiOiJBQUFBLGNBQVMsU0FBVUEsR0FBUyxRQ0k1QkMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BSkEsSUFPQUMsR0FBQUYsRUFBQUQsSUFDQUUsV0FDQUUsR0FBQUosRUFDQUssUUFBQSxFQVZBLE9BQUFQLEdBY0FFLEdBQUFNLEtBQUFILEVBQUFELFFBQUFDLEVBQUFBLEVBQUFELFFBQUFILEdBZEFJLEVBaUJBRSxRQUFBLEVBR0FGLEVBQUFELFFBdkJBLEdBQUFELEtERDRCLE9BQUFGLEdDNkI1QlEsRUFBQVQsRUQ3QjRCQyxFQ2dDNUJTLEVBQUFQLEVEaEM0QkYsRUNtQzVCVSxFQUFBLEdBR0FWLEVBQUEsS0RNTSxTQUFTSSxFQUFRRCxFQUFTSCxHRTVDaENBLEVBQUEsRUFDQSxJQUFBVyxHQUFBWCxFQUFBLEdBQ0FZLEVBQUFaLEVBQUEsR0FDQWEsRUFBQWIsRUFBQSxHQUNBYyxFQUFBZCxFQUFBLEdBQ0FlLEVBQUFmLEVBQUEsR0FDQWdCLEVBQUFoQixFQUFBLEdBQ0FpQixFQUFBakIsRUFBQSxHQUNBa0IsRUFBQWxCLEVBQUEsR0FDQW1CLEVBQUFuQixFQUFBLElBQ0FvQixFQUFBcEIsRUFBQSxJQUNBcUIsRUFBQXJCLEVBQUEsSUFFQXNCLEdBQ0FWLElBQ0FDLElBQ0FDLElBQ0FDLEVBQUEscUJBQ0FDLElBQ0FDLElBQ0FDLElBQ0FDLElBQ0FDLElBQ0FDLElBR0EsS0FDQXJCLEdBQUEsV0FBQSxHQUFBdUIsR0FBQSxHQUFBQyxPQUFBLCtCQUFBLE1BQUFELEdBQUFFLEtBQUEsbUJBQUFGLE1BQUFELEdBQ0MsTUFBQUksSUFJRCxHQUFBQyxHQUFBaEIsRUFBQWlCLEtBQUEsVUFBQU4sRUFFQSxLQUNBdEIsR0FBQSxXQUFBLEdBQUF1QixHQUFBLEdBQUFDLE9BQUEsNEJBQUEsTUFBQUQsR0FB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QUEzUCxNQUFBb0YsS0FBQXJNLEdBQ0FtWCxNQUFBUCxFQUFBTyxNQUFBOUssS0FBQXJNLEdBQ0ErVixPQUFBYSxFQUFBYixPQUFBMUosS0FBQXJNLEdBQ0FvWCxZQUFBUixFQUFBUSxZQUFBL0ssS0FBQXJNLEtBSUEwVCxFQUFBLFdBR0EsR0FBQUMsS0FFQW5GLEdBQUFBLE1BRUFtRixFQUFBelUsUUFDQXlVLEVBQUF6VSxLQUFBNlcsT0FBQXZILEVBQUF0UCxNQUFBc1AsRUFBQXRQLEtBQUE2VyxRQUFBekMsRUFBQXBVLEtBQUE2VyxPQUVBcEMsRUFBQW1DLE1BQUF0SCxFQUFBc0gsT0FBQXhDLEVBQUF3QyxNQUVBdEgsRUFBQW1GLEdBR0FnRSxFQUFBLFNBQUEvWCxHQUNBLEdBQUFnWSxJQUFBLENBV0EsT0FSQWhZLEdBQUFpWSxRQUFBalksRUFBQWtZLFNBQUFsWSxFQUFBbVksU0FBQW5ZLEVBQUFxUCxXQUNBMkksRUFBQUEsR0FBQWhZLEVBQUFvUCxRQUFBUixFQUFBdFAsS0FBQTZXLFFBQUFZLEVBQUFoTCxLQUFBLFNBQUEvTCxJQUFBSSxFQUFBTixVQUFBcVcsVUFBQS9WLEVBQUFOLFVBQUEwWCxlQUdBUSxHQUNBaFksRUFBQTBQLGtCQUdBc0ksR0FHQUksRUFBQSxXQUdBLE1BRkFoWSxHQUFBTixVQUFBdUgsUUFFQSxNQUdBZ1IsRUFBQSxXQUNBalksRUFBQU4sVUFBQTBYLGVBR0FoRSxFQUFBLFdBRUFoVCxPQUFBOFgsZUFBQUYsRUFFQTdVLFNBQUEyRCxpQkFBQSxVQUFBNlEsR0FBQSxHQUNBdkwsRUFBQVgsU0FBQXpMLEVBQUFrTSxHQUFBLFdBQUErTCxJQUdBNUUsRUFBQSxXQUNBSyxJQUNBUCxJQUNBQyxJQUdBQyxLQUdBLE9BQUFULEdBR0FuVSxHQUFBRCxRQUFBb08iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXygxKVxuXHRjb25zdCBiZXNwb2tlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKVxuXHRjb25zdCB0aGVtZSA9IF9fd2VicGFja19yZXF1aXJlX18oMylcblx0Y29uc3Qga2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNClcblx0Y29uc3QgdG91Y2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpXG5cdGNvbnN0IGJ1bGxldHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpXG5cdGNvbnN0IGJhY2tkcm9wID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KVxuXHRjb25zdCBzY2FsZSA9IF9fd2VicGFja19yZXF1aXJlX18oOClcblx0Y29uc3QgaGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oOSlcblx0Y29uc3QgcHJvZ3Jlc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKVxuXHRjb25zdCBpbmRleEZpbmdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpXG5cdGNvbnN0IHNlY29uZGFyeSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpXG5cdFxuXHR2YXIgcGx1Z2lucyA9IFtcblx0ICB0aGVtZSgpLFxuXHQgIGtleXMoKSxcblx0ICB0b3VjaCgpLFxuXHQgIGJ1bGxldHMoJy5kZWxheWVkLCAuYnVsbGV0JyksXG5cdCAgYmFja2Ryb3AoKSxcblx0ICBzY2FsZSgpLFxuXHQgIGhhc2goKSxcblx0ICBwcm9ncmVzcygpLFxuXHQgIGluZGV4RmluZ2VyKCksXG5cdCAgc2Vjb25kYXJ5KClcblx0XVxuXHRcblx0dHJ5IHtcblx0ICBfX3dlYnBhY2tfcmVxdWlyZV9fKCEoZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7IHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlIFxcXCJwbHVnaW5zXFxcIlwiKTsgZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnOyB0aHJvdyBlOyB9KCkpKShwbHVnaW5zKVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcblx0fVxuXHRcblx0dmFyIGRlY2sgPSBiZXNwb2tlLmZyb20oJ2FydGljbGUnLCBwbHVnaW5zKVxuXHRcblx0dHJ5IHtcblx0ICBfX3dlYnBhY2tfcmVxdWlyZV9fKCEoZnVuY3Rpb24gd2VicGFja01pc3NpbmdNb2R1bGUoKSB7IHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlIFxcXCJkZWNrXFxcIlwiKTsgZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnOyB0aHJvdyBlOyB9KCkpKShkZWNrKVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcblx0fVxuXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cdC8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICAgICBCZWdpbiBwcmlzbS1jb3JlLmpzXG5cdCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblx0XG5cdHZhciBfc2VsZiA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJylcblx0XHQ/IHdpbmRvdyAgIC8vIGlmIGluIGJyb3dzZXJcblx0XHQ6IChcblx0XHRcdCh0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSlcblx0XHRcdD8gc2VsZiAvLyBpZiBpbiB3b3JrZXJcblx0XHRcdDoge30gICAvLyBpZiBpbiBub2RlIGpzXG5cdFx0KTtcblx0XG5cdC8qKlxuXHQgKiBQcmlzbTogTGlnaHR3ZWlnaHQsIHJvYnVzdCwgZWxlZ2FudCBzeW50YXggaGlnaGxpZ2h0aW5nXG5cdCAqIE1JVCBsaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwL1xuXHQgKiBAYXV0aG9yIExlYSBWZXJvdSBodHRwOi8vbGVhLnZlcm91Lm1lXG5cdCAqL1xuXHRcblx0dmFyIFByaXNtID0gKGZ1bmN0aW9uKCl7XG5cdFxuXHQvLyBQcml2YXRlIGhlbHBlciB2YXJzXG5cdHZhciBsYW5nID0gL1xcYmxhbmcoPzp1YWdlKT8tKD8hXFwqKShcXHcrKVxcYi9pO1xuXHRcblx0dmFyIF8gPSBfc2VsZi5QcmlzbSA9IHtcblx0XHR1dGlsOiB7XG5cdFx0XHRlbmNvZGU6IGZ1bmN0aW9uICh0b2tlbnMpIHtcblx0XHRcdFx0aWYgKHRva2VucyBpbnN0YW5jZW9mIFRva2VuKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBUb2tlbih0b2tlbnMudHlwZSwgXy51dGlsLmVuY29kZSh0b2tlbnMuY29udGVudCksIHRva2Vucy5hbGlhcyk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoXy51dGlsLnR5cGUodG9rZW5zKSA9PT0gJ0FycmF5Jykge1xuXHRcdFx0XHRcdHJldHVybiB0b2tlbnMubWFwKF8udXRpbC5lbmNvZGUpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiB0b2tlbnMucmVwbGFjZSgvJi9nLCAnJmFtcDsnKS5yZXBsYWNlKC88L2csICcmbHQ7JykucmVwbGFjZSgvXFx1MDBhMC9nLCAnICcpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcblx0XHRcdHR5cGU6IGZ1bmN0aW9uIChvKSB7XG5cdFx0XHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykubWF0Y2goL1xcW29iamVjdCAoXFx3KylcXF0vKVsxXTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0Ly8gRGVlcCBjbG9uZSBhIGxhbmd1YWdlIGRlZmluaXRpb24gKGUuZy4gdG8gZXh0ZW5kIGl0KVxuXHRcdFx0Y2xvbmU6IGZ1bmN0aW9uIChvKSB7XG5cdFx0XHRcdHZhciB0eXBlID0gXy51dGlsLnR5cGUobyk7XG5cdFxuXHRcdFx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdFx0XHRjYXNlICdPYmplY3QnOlxuXHRcdFx0XHRcdFx0dmFyIGNsb25lID0ge307XG5cdFxuXHRcdFx0XHRcdFx0Zm9yICh2YXIga2V5IGluIG8pIHtcblx0XHRcdFx0XHRcdFx0aWYgKG8uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRcdFx0XHRcdGNsb25lW2tleV0gPSBfLnV0aWwuY2xvbmUob1trZXldKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdHJldHVybiBjbG9uZTtcblx0XG5cdFx0XHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgZm9yIGV4aXN0ZW5jZSBmb3IgSUU4XG5cdFx0XHRcdFx0XHRyZXR1cm4gby5tYXAgJiYgby5tYXAoZnVuY3Rpb24odikgeyByZXR1cm4gXy51dGlsLmNsb25lKHYpOyB9KTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0cmV0dXJuIG87XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0bGFuZ3VhZ2VzOiB7XG5cdFx0XHRleHRlbmQ6IGZ1bmN0aW9uIChpZCwgcmVkZWYpIHtcblx0XHRcdFx0dmFyIGxhbmcgPSBfLnV0aWwuY2xvbmUoXy5sYW5ndWFnZXNbaWRdKTtcblx0XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiByZWRlZikge1xuXHRcdFx0XHRcdGxhbmdba2V5XSA9IHJlZGVmW2tleV07XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHJldHVybiBsYW5nO1xuXHRcdFx0fSxcblx0XG5cdFx0XHQvKipcblx0XHRcdCAqIEluc2VydCBhIHRva2VuIGJlZm9yZSBhbm90aGVyIHRva2VuIGluIGEgbGFuZ3VhZ2UgbGl0ZXJhbFxuXHRcdFx0ICogQXMgdGhpcyBuZWVkcyB0byByZWNyZWF0ZSB0aGUgb2JqZWN0ICh3ZSBjYW5ub3QgYWN0dWFsbHkgaW5zZXJ0IGJlZm9yZSBrZXlzIGluIG9iamVjdCBsaXRlcmFscyksXG5cdFx0XHQgKiB3ZSBjYW5ub3QganVzdCBwcm92aWRlIGFuIG9iamVjdCwgd2UgbmVlZCBhbm9iamVjdCBhbmQgYSBrZXkuXG5cdFx0XHQgKiBAcGFyYW0gaW5zaWRlIFRoZSBrZXkgKG9yIGxhbmd1YWdlIGlkKSBvZiB0aGUgcGFyZW50XG5cdFx0XHQgKiBAcGFyYW0gYmVmb3JlIFRoZSBrZXkgdG8gaW5zZXJ0IGJlZm9yZS4gSWYgbm90IHByb3ZpZGVkLCB0aGUgZnVuY3Rpb24gYXBwZW5kcyBpbnN0ZWFkLlxuXHRcdFx0ICogQHBhcmFtIGluc2VydCBPYmplY3Qgd2l0aCB0aGUga2V5L3ZhbHVlIHBhaXJzIHRvIGluc2VydFxuXHRcdFx0ICogQHBhcmFtIHJvb3QgVGhlIG9iamVjdCB0aGF0IGNvbnRhaW5zIGBpbnNpZGVgLiBJZiBlcXVhbCB0byBQcmlzbS5sYW5ndWFnZXMsIGl0IGNhbiBiZSBvbWl0dGVkLlxuXHRcdFx0ICovXG5cdFx0XHRpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uIChpbnNpZGUsIGJlZm9yZSwgaW5zZXJ0LCByb290KSB7XG5cdFx0XHRcdHJvb3QgPSByb290IHx8IF8ubGFuZ3VhZ2VzO1xuXHRcdFx0XHR2YXIgZ3JhbW1hciA9IHJvb3RbaW5zaWRlXTtcblx0XHRcdFx0XG5cdFx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID09IDIpIHtcblx0XHRcdFx0XHRpbnNlcnQgPSBhcmd1bWVudHNbMV07XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Zm9yICh2YXIgbmV3VG9rZW4gaW4gaW5zZXJ0KSB7XG5cdFx0XHRcdFx0XHRpZiAoaW5zZXJ0Lmhhc093blByb3BlcnR5KG5ld1Rva2VuKSkge1xuXHRcdFx0XHRcdFx0XHRncmFtbWFyW25ld1Rva2VuXSA9IGluc2VydFtuZXdUb2tlbl07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdHJldHVybiBncmFtbWFyO1xuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHR2YXIgcmV0ID0ge307XG5cdFxuXHRcdFx0XHRmb3IgKHZhciB0b2tlbiBpbiBncmFtbWFyKSB7XG5cdFxuXHRcdFx0XHRcdGlmIChncmFtbWFyLmhhc093blByb3BlcnR5KHRva2VuKSkge1xuXHRcblx0XHRcdFx0XHRcdGlmICh0b2tlbiA9PSBiZWZvcmUpIHtcblx0XG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIG5ld1Rva2VuIGluIGluc2VydCkge1xuXHRcblx0XHRcdFx0XHRcdFx0XHRpZiAoaW5zZXJ0Lmhhc093blByb3BlcnR5KG5ld1Rva2VuKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0W25ld1Rva2VuXSA9IGluc2VydFtuZXdUb2tlbl07XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0cmV0W3Rva2VuXSA9IGdyYW1tYXJbdG9rZW5dO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0Ly8gVXBkYXRlIHJlZmVyZW5jZXMgaW4gb3RoZXIgbGFuZ3VhZ2UgZGVmaW5pdGlvbnNcblx0XHRcdFx0Xy5sYW5ndWFnZXMuREZTKF8ubGFuZ3VhZ2VzLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG5cdFx0XHRcdFx0aWYgKHZhbHVlID09PSByb290W2luc2lkZV0gJiYga2V5ICE9IGluc2lkZSkge1xuXHRcdFx0XHRcdFx0dGhpc1trZXldID0gcmV0O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFxuXHRcdFx0XHRyZXR1cm4gcm9vdFtpbnNpZGVdID0gcmV0O1xuXHRcdFx0fSxcblx0XG5cdFx0XHQvLyBUcmF2ZXJzZSBhIGxhbmd1YWdlIGRlZmluaXRpb24gd2l0aCBEZXB0aCBGaXJzdCBTZWFyY2hcblx0XHRcdERGUzogZnVuY3Rpb24obywgY2FsbGJhY2ssIHR5cGUpIHtcblx0XHRcdFx0Zm9yICh2YXIgaSBpbiBvKSB7XG5cdFx0XHRcdFx0aWYgKG8uaGFzT3duUHJvcGVydHkoaSkpIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwobywgaSwgb1tpXSwgdHlwZSB8fCBpKTtcblx0XG5cdFx0XHRcdFx0XHRpZiAoXy51dGlsLnR5cGUob1tpXSkgPT09ICdPYmplY3QnKSB7XG5cdFx0XHRcdFx0XHRcdF8ubGFuZ3VhZ2VzLkRGUyhvW2ldLCBjYWxsYmFjayk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIGlmIChfLnV0aWwudHlwZShvW2ldKSA9PT0gJ0FycmF5Jykge1xuXHRcdFx0XHRcdFx0XHRfLmxhbmd1YWdlcy5ERlMob1tpXSwgY2FsbGJhY2ssIGkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cGx1Z2luczoge30sXG5cdFx0XG5cdFx0aGlnaGxpZ2h0QWxsOiBmdW5jdGlvbihhc3luYywgY2FsbGJhY2spIHtcblx0XHRcdHZhciBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2NvZGVbY2xhc3MqPVwibGFuZ3VhZ2UtXCJdLCBbY2xhc3MqPVwibGFuZ3VhZ2UtXCJdIGNvZGUsIGNvZGVbY2xhc3MqPVwibGFuZy1cIl0sIFtjbGFzcyo9XCJsYW5nLVwiXSBjb2RlJyk7XG5cdFxuXHRcdFx0Zm9yICh2YXIgaT0wLCBlbGVtZW50OyBlbGVtZW50ID0gZWxlbWVudHNbaSsrXTspIHtcblx0XHRcdFx0Xy5oaWdobGlnaHRFbGVtZW50KGVsZW1lbnQsIGFzeW5jID09PSB0cnVlLCBjYWxsYmFjayk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0aGlnaGxpZ2h0RWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCwgYXN5bmMsIGNhbGxiYWNrKSB7XG5cdFx0XHQvLyBGaW5kIGxhbmd1YWdlXG5cdFx0XHR2YXIgbGFuZ3VhZ2UsIGdyYW1tYXIsIHBhcmVudCA9IGVsZW1lbnQ7XG5cdFxuXHRcdFx0d2hpbGUgKHBhcmVudCAmJiAhbGFuZy50ZXN0KHBhcmVudC5jbGFzc05hbWUpKSB7XG5cdFx0XHRcdHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmIChwYXJlbnQpIHtcblx0XHRcdFx0bGFuZ3VhZ2UgPSAocGFyZW50LmNsYXNzTmFtZS5tYXRjaChsYW5nKSB8fCBbLCcnXSlbMV07XG5cdFx0XHRcdGdyYW1tYXIgPSBfLmxhbmd1YWdlc1tsYW5ndWFnZV07XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gU2V0IGxhbmd1YWdlIG9uIHRoZSBlbGVtZW50LCBpZiBub3QgcHJlc2VudFxuXHRcdFx0ZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKGxhbmcsICcnKS5yZXBsYWNlKC9cXHMrL2csICcgJykgKyAnIGxhbmd1YWdlLScgKyBsYW5ndWFnZTtcblx0XG5cdFx0XHQvLyBTZXQgbGFuZ3VhZ2Ugb24gdGhlIHBhcmVudCwgZm9yIHN0eWxpbmdcblx0XHRcdHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcblx0XG5cdFx0XHRpZiAoL3ByZS9pLnRlc3QocGFyZW50Lm5vZGVOYW1lKSkge1xuXHRcdFx0XHRwYXJlbnQuY2xhc3NOYW1lID0gcGFyZW50LmNsYXNzTmFtZS5yZXBsYWNlKGxhbmcsICcnKS5yZXBsYWNlKC9cXHMrL2csICcgJykgKyAnIGxhbmd1YWdlLScgKyBsYW5ndWFnZTtcblx0XHRcdH1cblx0XG5cdFx0XHR2YXIgY29kZSA9IGVsZW1lbnQudGV4dENvbnRlbnQ7XG5cdFxuXHRcdFx0dmFyIGVudiA9IHtcblx0XHRcdFx0ZWxlbWVudDogZWxlbWVudCxcblx0XHRcdFx0bGFuZ3VhZ2U6IGxhbmd1YWdlLFxuXHRcdFx0XHRncmFtbWFyOiBncmFtbWFyLFxuXHRcdFx0XHRjb2RlOiBjb2RlXG5cdFx0XHR9O1xuXHRcblx0XHRcdGlmICghY29kZSB8fCAhZ3JhbW1hcikge1xuXHRcdFx0XHRfLmhvb2tzLnJ1bignY29tcGxldGUnLCBlbnYpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0Xy5ob29rcy5ydW4oJ2JlZm9yZS1oaWdobGlnaHQnLCBlbnYpO1xuXHRcblx0XHRcdGlmIChhc3luYyAmJiBfc2VsZi5Xb3JrZXIpIHtcblx0XHRcdFx0dmFyIHdvcmtlciA9IG5ldyBXb3JrZXIoXy5maWxlbmFtZSk7XG5cdFxuXHRcdFx0XHR3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24oZXZ0KSB7XG5cdFx0XHRcdFx0ZW52LmhpZ2hsaWdodGVkQ29kZSA9IGV2dC5kYXRhO1xuXHRcblx0XHRcdFx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLWluc2VydCcsIGVudik7XG5cdFxuXHRcdFx0XHRcdGVudi5lbGVtZW50LmlubmVySFRNTCA9IGVudi5oaWdobGlnaHRlZENvZGU7XG5cdFxuXHRcdFx0XHRcdGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwoZW52LmVsZW1lbnQpO1xuXHRcdFx0XHRcdF8uaG9va3MucnVuKCdhZnRlci1oaWdobGlnaHQnLCBlbnYpO1xuXHRcdFx0XHRcdF8uaG9va3MucnVuKCdjb21wbGV0ZScsIGVudik7XG5cdFx0XHRcdH07XG5cdFxuXHRcdFx0XHR3b3JrZXIucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRcdGxhbmd1YWdlOiBlbnYubGFuZ3VhZ2UsXG5cdFx0XHRcdFx0Y29kZTogZW52LmNvZGUsXG5cdFx0XHRcdFx0aW1tZWRpYXRlQ2xvc2U6IHRydWVcblx0XHRcdFx0fSkpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGVudi5oaWdobGlnaHRlZENvZGUgPSBfLmhpZ2hsaWdodChlbnYuY29kZSwgZW52LmdyYW1tYXIsIGVudi5sYW5ndWFnZSk7XG5cdFxuXHRcdFx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLWluc2VydCcsIGVudik7XG5cdFxuXHRcdFx0XHRlbnYuZWxlbWVudC5pbm5lckhUTUwgPSBlbnYuaGlnaGxpZ2h0ZWRDb2RlO1xuXHRcblx0XHRcdFx0Y2FsbGJhY2sgJiYgY2FsbGJhY2suY2FsbChlbGVtZW50KTtcblx0XG5cdFx0XHRcdF8uaG9va3MucnVuKCdhZnRlci1oaWdobGlnaHQnLCBlbnYpO1xuXHRcdFx0XHRfLmhvb2tzLnJ1bignY29tcGxldGUnLCBlbnYpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdGhpZ2hsaWdodDogZnVuY3Rpb24gKHRleHQsIGdyYW1tYXIsIGxhbmd1YWdlKSB7XG5cdFx0XHR2YXIgdG9rZW5zID0gXy50b2tlbml6ZSh0ZXh0LCBncmFtbWFyKTtcblx0XHRcdHJldHVybiBUb2tlbi5zdHJpbmdpZnkoXy51dGlsLmVuY29kZSh0b2tlbnMpLCBsYW5ndWFnZSk7XG5cdFx0fSxcblx0XG5cdFx0dG9rZW5pemU6IGZ1bmN0aW9uKHRleHQsIGdyYW1tYXIsIGxhbmd1YWdlKSB7XG5cdFx0XHR2YXIgVG9rZW4gPSBfLlRva2VuO1xuXHRcblx0XHRcdHZhciBzdHJhcnIgPSBbdGV4dF07XG5cdFxuXHRcdFx0dmFyIHJlc3QgPSBncmFtbWFyLnJlc3Q7XG5cdFxuXHRcdFx0aWYgKHJlc3QpIHtcblx0XHRcdFx0Zm9yICh2YXIgdG9rZW4gaW4gcmVzdCkge1xuXHRcdFx0XHRcdGdyYW1tYXJbdG9rZW5dID0gcmVzdFt0b2tlbl07XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGRlbGV0ZSBncmFtbWFyLnJlc3Q7XG5cdFx0XHR9XG5cdFxuXHRcdFx0dG9rZW5sb29wOiBmb3IgKHZhciB0b2tlbiBpbiBncmFtbWFyKSB7XG5cdFx0XHRcdGlmKCFncmFtbWFyLmhhc093blByb3BlcnR5KHRva2VuKSB8fCAhZ3JhbW1hclt0b2tlbl0pIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0dmFyIHBhdHRlcm5zID0gZ3JhbW1hclt0b2tlbl07XG5cdFx0XHRcdHBhdHRlcm5zID0gKF8udXRpbC50eXBlKHBhdHRlcm5zKSA9PT0gXCJBcnJheVwiKSA/IHBhdHRlcm5zIDogW3BhdHRlcm5zXTtcblx0XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgcGF0dGVybnMubGVuZ3RoOyArK2opIHtcblx0XHRcdFx0XHR2YXIgcGF0dGVybiA9IHBhdHRlcm5zW2pdLFxuXHRcdFx0XHRcdFx0aW5zaWRlID0gcGF0dGVybi5pbnNpZGUsXG5cdFx0XHRcdFx0XHRsb29rYmVoaW5kID0gISFwYXR0ZXJuLmxvb2tiZWhpbmQsXG5cdFx0XHRcdFx0XHRsb29rYmVoaW5kTGVuZ3RoID0gMCxcblx0XHRcdFx0XHRcdGFsaWFzID0gcGF0dGVybi5hbGlhcztcblx0XG5cdFx0XHRcdFx0cGF0dGVybiA9IHBhdHRlcm4ucGF0dGVybiB8fCBwYXR0ZXJuO1xuXHRcblx0XHRcdFx0XHRmb3IgKHZhciBpPTA7IGk8c3RyYXJyLmxlbmd0aDsgaSsrKSB7IC8vIERvbuKAmXQgY2FjaGUgbGVuZ3RoIGFzIGl0IGNoYW5nZXMgZHVyaW5nIHRoZSBsb29wXG5cdFxuXHRcdFx0XHRcdFx0dmFyIHN0ciA9IHN0cmFycltpXTtcblx0XG5cdFx0XHRcdFx0XHRpZiAoc3RyYXJyLmxlbmd0aCA+IHRleHQubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFNvbWV0aGluZyB3ZW50IHRlcnJpYmx5IHdyb25nLCBBQk9SVCwgQUJPUlQhXG5cdFx0XHRcdFx0XHRcdGJyZWFrIHRva2VubG9vcDtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRpZiAoc3RyIGluc3RhbmNlb2YgVG9rZW4pIHtcblx0XHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0cGF0dGVybi5sYXN0SW5kZXggPSAwO1xuXHRcblx0XHRcdFx0XHRcdHZhciBtYXRjaCA9IHBhdHRlcm4uZXhlYyhzdHIpO1xuXHRcblx0XHRcdFx0XHRcdGlmIChtYXRjaCkge1xuXHRcdFx0XHRcdFx0XHRpZihsb29rYmVoaW5kKSB7XG5cdFx0XHRcdFx0XHRcdFx0bG9va2JlaGluZExlbmd0aCA9IG1hdGNoWzFdLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0dmFyIGZyb20gPSBtYXRjaC5pbmRleCAtIDEgKyBsb29rYmVoaW5kTGVuZ3RoLFxuXHRcdFx0XHRcdFx0XHRcdG1hdGNoID0gbWF0Y2hbMF0uc2xpY2UobG9va2JlaGluZExlbmd0aCksXG5cdFx0XHRcdFx0XHRcdFx0bGVuID0gbWF0Y2gubGVuZ3RoLFxuXHRcdFx0XHRcdFx0XHRcdHRvID0gZnJvbSArIGxlbixcblx0XHRcdFx0XHRcdFx0XHRiZWZvcmUgPSBzdHIuc2xpY2UoMCwgZnJvbSArIDEpLFxuXHRcdFx0XHRcdFx0XHRcdGFmdGVyID0gc3RyLnNsaWNlKHRvICsgMSk7XG5cdFxuXHRcdFx0XHRcdFx0XHR2YXIgYXJncyA9IFtpLCAxXTtcblx0XG5cdFx0XHRcdFx0XHRcdGlmIChiZWZvcmUpIHtcblx0XHRcdFx0XHRcdFx0XHRhcmdzLnB1c2goYmVmb3JlKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdFx0dmFyIHdyYXBwZWQgPSBuZXcgVG9rZW4odG9rZW4sIGluc2lkZT8gXy50b2tlbml6ZShtYXRjaCwgaW5zaWRlKSA6IG1hdGNoLCBhbGlhcyk7XG5cdFxuXHRcdFx0XHRcdFx0XHRhcmdzLnB1c2god3JhcHBlZCk7XG5cdFxuXHRcdFx0XHRcdFx0XHRpZiAoYWZ0ZXIpIHtcblx0XHRcdFx0XHRcdFx0XHRhcmdzLnB1c2goYWZ0ZXIpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0XHRBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHN0cmFyciwgYXJncyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHN0cmFycjtcblx0XHR9LFxuXHRcblx0XHRob29rczoge1xuXHRcdFx0YWxsOiB7fSxcblx0XG5cdFx0XHRhZGQ6IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaykge1xuXHRcdFx0XHR2YXIgaG9va3MgPSBfLmhvb2tzLmFsbDtcblx0XG5cdFx0XHRcdGhvb2tzW25hbWVdID0gaG9va3NbbmFtZV0gfHwgW107XG5cdFxuXHRcdFx0XHRob29rc1tuYW1lXS5wdXNoKGNhbGxiYWNrKTtcblx0XHRcdH0sXG5cdFxuXHRcdFx0cnVuOiBmdW5jdGlvbiAobmFtZSwgZW52KSB7XG5cdFx0XHRcdHZhciBjYWxsYmFja3MgPSBfLmhvb2tzLmFsbFtuYW1lXTtcblx0XG5cdFx0XHRcdGlmICghY2FsbGJhY2tzIHx8ICFjYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRmb3IgKHZhciBpPTAsIGNhbGxiYWNrOyBjYWxsYmFjayA9IGNhbGxiYWNrc1tpKytdOykge1xuXHRcdFx0XHRcdGNhbGxiYWNrKGVudik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdFxuXHR2YXIgVG9rZW4gPSBfLlRva2VuID0gZnVuY3Rpb24odHlwZSwgY29udGVudCwgYWxpYXMpIHtcblx0XHR0aGlzLnR5cGUgPSB0eXBlO1xuXHRcdHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG5cdFx0dGhpcy5hbGlhcyA9IGFsaWFzO1xuXHR9O1xuXHRcblx0VG9rZW4uc3RyaW5naWZ5ID0gZnVuY3Rpb24obywgbGFuZ3VhZ2UsIHBhcmVudCkge1xuXHRcdGlmICh0eXBlb2YgbyA9PSAnc3RyaW5nJykge1xuXHRcdFx0cmV0dXJuIG87XG5cdFx0fVxuXHRcblx0XHRpZiAoXy51dGlsLnR5cGUobykgPT09ICdBcnJheScpIHtcblx0XHRcdHJldHVybiBvLm1hcChmdW5jdGlvbihlbGVtZW50KSB7XG5cdFx0XHRcdHJldHVybiBUb2tlbi5zdHJpbmdpZnkoZWxlbWVudCwgbGFuZ3VhZ2UsIG8pO1xuXHRcdFx0fSkuam9pbignJyk7XG5cdFx0fVxuXHRcblx0XHR2YXIgZW52ID0ge1xuXHRcdFx0dHlwZTogby50eXBlLFxuXHRcdFx0Y29udGVudDogVG9rZW4uc3RyaW5naWZ5KG8uY29udGVudCwgbGFuZ3VhZ2UsIHBhcmVudCksXG5cdFx0XHR0YWc6ICdzcGFuJyxcblx0XHRcdGNsYXNzZXM6IFsndG9rZW4nLCBvLnR5cGVdLFxuXHRcdFx0YXR0cmlidXRlczoge30sXG5cdFx0XHRsYW5ndWFnZTogbGFuZ3VhZ2UsXG5cdFx0XHRwYXJlbnQ6IHBhcmVudFxuXHRcdH07XG5cdFxuXHRcdGlmIChlbnYudHlwZSA9PSAnY29tbWVudCcpIHtcblx0XHRcdGVudi5hdHRyaWJ1dGVzWydzcGVsbGNoZWNrJ10gPSAndHJ1ZSc7XG5cdFx0fVxuXHRcblx0XHRpZiAoby5hbGlhcykge1xuXHRcdFx0dmFyIGFsaWFzZXMgPSBfLnV0aWwudHlwZShvLmFsaWFzKSA9PT0gJ0FycmF5JyA/IG8uYWxpYXMgOiBbby5hbGlhc107XG5cdFx0XHRBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShlbnYuY2xhc3NlcywgYWxpYXNlcyk7XG5cdFx0fVxuXHRcblx0XHRfLmhvb2tzLnJ1bignd3JhcCcsIGVudik7XG5cdFxuXHRcdHZhciBhdHRyaWJ1dGVzID0gJyc7XG5cdFxuXHRcdGZvciAodmFyIG5hbWUgaW4gZW52LmF0dHJpYnV0ZXMpIHtcblx0XHRcdGF0dHJpYnV0ZXMgKz0gKGF0dHJpYnV0ZXMgPyAnICcgOiAnJykgKyBuYW1lICsgJz1cIicgKyAoZW52LmF0dHJpYnV0ZXNbbmFtZV0gfHwgJycpICsgJ1wiJztcblx0XHR9XG5cdFxuXHRcdHJldHVybiAnPCcgKyBlbnYudGFnICsgJyBjbGFzcz1cIicgKyBlbnYuY2xhc3Nlcy5qb2luKCcgJykgKyAnXCIgJyArIGF0dHJpYnV0ZXMgKyAnPicgKyBlbnYuY29udGVudCArICc8LycgKyBlbnYudGFnICsgJz4nO1xuXHRcblx0fTtcblx0XG5cdGlmICghX3NlbGYuZG9jdW1lbnQpIHtcblx0XHRpZiAoIV9zZWxmLmFkZEV2ZW50TGlzdGVuZXIpIHtcblx0XHRcdC8vIGluIE5vZGUuanNcblx0XHRcdHJldHVybiBfc2VsZi5QcmlzbTtcblx0XHR9XG5cdCBcdC8vIEluIHdvcmtlclxuXHRcdF9zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbihldnQpIHtcblx0XHRcdHZhciBtZXNzYWdlID0gSlNPTi5wYXJzZShldnQuZGF0YSksXG5cdFx0XHQgICAgbGFuZyA9IG1lc3NhZ2UubGFuZ3VhZ2UsXG5cdFx0XHQgICAgY29kZSA9IG1lc3NhZ2UuY29kZSxcblx0XHRcdCAgICBpbW1lZGlhdGVDbG9zZSA9IG1lc3NhZ2UuaW1tZWRpYXRlQ2xvc2U7XG5cdFxuXHRcdFx0X3NlbGYucG9zdE1lc3NhZ2UoXy5oaWdobGlnaHQoY29kZSwgXy5sYW5ndWFnZXNbbGFuZ10sIGxhbmcpKTtcblx0XHRcdGlmIChpbW1lZGlhdGVDbG9zZSkge1xuXHRcdFx0XHRfc2VsZi5jbG9zZSgpO1xuXHRcdFx0fVxuXHRcdH0sIGZhbHNlKTtcblx0XG5cdFx0cmV0dXJuIF9zZWxmLlByaXNtO1xuXHR9XG5cdFxuXHQvLyBHZXQgY3VycmVudCBzY3JpcHQgYW5kIGhpZ2hsaWdodFxuXHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpO1xuXHRcblx0c2NyaXB0ID0gc2NyaXB0W3NjcmlwdC5sZW5ndGggLSAxXTtcblx0XG5cdGlmIChzY3JpcHQpIHtcblx0XHRfLmZpbGVuYW1lID0gc2NyaXB0LnNyYztcblx0XG5cdFx0aWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgJiYgIXNjcmlwdC5oYXNBdHRyaWJ1dGUoJ2RhdGEtbWFudWFsJykpIHtcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBfLmhpZ2hsaWdodEFsbCk7XG5cdFx0fVxuXHR9XG5cdFxuXHRyZXR1cm4gX3NlbGYuUHJpc207XG5cdFxuXHR9KSgpO1xuXHRcblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBQcmlzbTtcblx0fVxuXHRcblx0Ly8gaGFjayBmb3IgY29tcG9uZW50cyB0byB3b3JrIGNvcnJlY3RseSBpbiBub2RlLmpzXG5cdGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuXHRcdGdsb2JhbC5QcmlzbSA9IFByaXNtO1xuXHR9XG5cdFxuXHRcblx0LyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXHQgICAgIEJlZ2luIHByaXNtLW1hcmt1cC5qc1xuXHQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMubWFya3VwID0ge1xuXHRcdCdjb21tZW50JzogLzwhLS1bXFx3XFxXXSo/LS0+Lyxcblx0XHQncHJvbG9nJzogLzxcXD9bXFx3XFxXXSs/XFw/Pi8sXG5cdFx0J2RvY3R5cGUnOiAvPCFET0NUWVBFW1xcd1xcV10rPz4vLFxuXHRcdCdjZGF0YSc6IC88IVxcW0NEQVRBXFxbW1xcd1xcV10qP11dPi9pLFxuXHRcdCd0YWcnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvPFxcLz8oPyFcXGQpW15cXHM+XFwvPS4kPF0rKD86XFxzK1teXFxzPlxcLz1dKyg/Oj0oPzooXCJ8JykoPzpcXFxcXFwxfFxcXFw/KD8hXFwxKVtcXHdcXFddKSpcXDF8W15cXHMnXCI+PV0rKSk/KSpcXHMqXFwvPz4vaSxcblx0XHRcdGluc2lkZToge1xuXHRcdFx0XHQndGFnJzoge1xuXHRcdFx0XHRcdHBhdHRlcm46IC9ePFxcLz9bXlxccz5cXC9dKy9pLFxuXHRcdFx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRcdFx0J3B1bmN0dWF0aW9uJzogL148XFwvPy8sXG5cdFx0XHRcdFx0XHQnbmFtZXNwYWNlJzogL15bXlxccz5cXC86XSs6L1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0J2F0dHItdmFsdWUnOiB7XG5cdFx0XHRcdFx0cGF0dGVybjogLz0oPzooJ3xcIilbXFx3XFxXXSo/KFxcMSl8W15cXHM+XSspL2ksXG5cdFx0XHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdFx0XHQncHVuY3R1YXRpb24nOiAvWz0+XCInXS9cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCdwdW5jdHVhdGlvbic6IC9cXC8/Pi8sXG5cdFx0XHRcdCdhdHRyLW5hbWUnOiB7XG5cdFx0XHRcdFx0cGF0dGVybjogL1teXFxzPlxcL10rLyxcblx0XHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHRcdCduYW1lc3BhY2UnOiAvXlteXFxzPlxcLzpdKzovXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0J2VudGl0eSc6IC8mIz9bXFxkYS16XXsxLDh9Oy9pXG5cdH07XG5cdFxuXHQvLyBQbHVnaW4gdG8gbWFrZSBlbnRpdHkgdGl0bGUgc2hvdyB0aGUgcmVhbCBlbnRpdHksIGlkZWEgYnkgUm9tYW4gS29tYXJvdlxuXHRQcmlzbS5ob29rcy5hZGQoJ3dyYXAnLCBmdW5jdGlvbihlbnYpIHtcblx0XG5cdFx0aWYgKGVudi50eXBlID09PSAnZW50aXR5Jykge1xuXHRcdFx0ZW52LmF0dHJpYnV0ZXNbJ3RpdGxlJ10gPSBlbnYuY29udGVudC5yZXBsYWNlKC8mYW1wOy8sICcmJyk7XG5cdFx0fVxuXHR9KTtcblx0XG5cdFByaXNtLmxhbmd1YWdlcy54bWwgPSBQcmlzbS5sYW5ndWFnZXMubWFya3VwO1xuXHRQcmlzbS5sYW5ndWFnZXMuaHRtbCA9IFByaXNtLmxhbmd1YWdlcy5tYXJrdXA7XG5cdFByaXNtLmxhbmd1YWdlcy5tYXRobWwgPSBQcmlzbS5sYW5ndWFnZXMubWFya3VwO1xuXHRQcmlzbS5sYW5ndWFnZXMuc3ZnID0gUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cDtcblx0XG5cdFxuXHQvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdCAgICAgQmVnaW4gcHJpc20tY3NzLmpzXG5cdCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblx0XG5cdFByaXNtLmxhbmd1YWdlcy5jc3MgPSB7XG5cdFx0J2NvbW1lbnQnOiAvXFwvXFwqW1xcd1xcV10qP1xcKlxcLy8sXG5cdFx0J2F0cnVsZSc6IHtcblx0XHRcdHBhdHRlcm46IC9AW1xcdy1dKz8uKj8oO3woPz1cXHMqXFx7KSkvaSxcblx0XHRcdGluc2lkZToge1xuXHRcdFx0XHQncnVsZSc6IC9AW1xcdy1dKy9cblx0XHRcdFx0Ly8gU2VlIHJlc3QgYmVsb3dcblx0XHRcdH1cblx0XHR9LFxuXHRcdCd1cmwnOiAvdXJsXFwoKD86KFtcIiddKShcXFxcKD86XFxyXFxufFtcXHdcXFddKXwoPyFcXDEpW15cXFxcXFxyXFxuXSkqXFwxfC4qPylcXCkvaSxcblx0XHQnc2VsZWN0b3InOiAvW15cXHtcXH1cXHNdW15cXHtcXH07XSo/KD89XFxzKlxceykvLFxuXHRcdCdzdHJpbmcnOiAvKFwifCcpKFxcXFwoPzpcXHJcXG58W1xcd1xcV10pfCg/IVxcMSlbXlxcXFxcXHJcXG5dKSpcXDEvLFxuXHRcdCdwcm9wZXJ0eSc6IC8oXFxifFxcQilbXFx3LV0rKD89XFxzKjopL2ksXG5cdFx0J2ltcG9ydGFudCc6IC9cXEIhaW1wb3J0YW50XFxiL2ksXG5cdFx0J2Z1bmN0aW9uJzogL1stYS16MC05XSsoPz1cXCgpL2ksXG5cdFx0J3B1bmN0dWF0aW9uJzogL1soKXt9OzpdL1xuXHR9O1xuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLmNzc1snYXRydWxlJ10uaW5zaWRlLnJlc3QgPSBQcmlzbS51dGlsLmNsb25lKFByaXNtLmxhbmd1YWdlcy5jc3MpO1xuXHRcblx0aWYgKFByaXNtLmxhbmd1YWdlcy5tYXJrdXApIHtcblx0XHRQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCdtYXJrdXAnLCAndGFnJywge1xuXHRcdFx0J3N0eWxlJzoge1xuXHRcdFx0XHRwYXR0ZXJuOiAvKDxzdHlsZVtcXHdcXFddKj8+KVtcXHdcXFddKj8oPz08XFwvc3R5bGU+KS9pLFxuXHRcdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0XHRpbnNpZGU6IFByaXNtLmxhbmd1YWdlcy5jc3MsXG5cdFx0XHRcdGFsaWFzOiAnbGFuZ3VhZ2UtY3NzJ1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdFxuXHRcdFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ2luc2lkZScsICdhdHRyLXZhbHVlJywge1xuXHRcdFx0J3N0eWxlLWF0dHInOiB7XG5cdFx0XHRcdHBhdHRlcm46IC9cXHMqc3R5bGU9KFwifCcpLio/XFwxL2ksXG5cdFx0XHRcdGluc2lkZToge1xuXHRcdFx0XHRcdCdhdHRyLW5hbWUnOiB7XG5cdFx0XHRcdFx0XHRwYXR0ZXJuOiAvXlxccypzdHlsZS9pLFxuXHRcdFx0XHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXMubWFya3VwLnRhZy5pbnNpZGVcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdwdW5jdHVhdGlvbic6IC9eXFxzKj1cXHMqWydcIl18WydcIl1cXHMqJC8sXG5cdFx0XHRcdFx0J2F0dHItdmFsdWUnOiB7XG5cdFx0XHRcdFx0XHRwYXR0ZXJuOiAvLisvaSxcblx0XHRcdFx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmNzc1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0YWxpYXM6ICdsYW5ndWFnZS1jc3MnXG5cdFx0XHR9XG5cdFx0fSwgUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcpO1xuXHR9XG5cdFxuXHQvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdCAgICAgQmVnaW4gcHJpc20tY2xpa2UuanNcblx0KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLmNsaWtlID0ge1xuXHRcdCdjb21tZW50JzogW1xuXHRcdFx0e1xuXHRcdFx0XHRwYXR0ZXJuOiAvKF58W15cXFxcXSlcXC9cXCpbXFx3XFxXXSo/XFwqXFwvLyxcblx0XHRcdFx0bG9va2JlaGluZDogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0cGF0dGVybjogLyhefFteXFxcXDpdKVxcL1xcLy4qLyxcblx0XHRcdFx0bG9va2JlaGluZDogdHJ1ZVxuXHRcdFx0fVxuXHRcdF0sXG5cdFx0J3N0cmluZyc6IC8oW1wiJ10pKFxcXFwoPzpcXHJcXG58W1xcc1xcU10pfCg/IVxcMSlbXlxcXFxcXHJcXG5dKSpcXDEvLFxuXHRcdCdjbGFzcy1uYW1lJzoge1xuXHRcdFx0cGF0dGVybjogLygoPzpcXGIoPzpjbGFzc3xpbnRlcmZhY2V8ZXh0ZW5kc3xpbXBsZW1lbnRzfHRyYWl0fGluc3RhbmNlb2Z8bmV3KVxccyspfCg/OmNhdGNoXFxzK1xcKCkpW2EtejAtOV9cXC5cXFxcXSsvaSxcblx0XHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0cHVuY3R1YXRpb246IC8oXFwufFxcXFwpL1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0J2tleXdvcmQnOiAvXFxiKGlmfGVsc2V8d2hpbGV8ZG98Zm9yfHJldHVybnxpbnxpbnN0YW5jZW9mfGZ1bmN0aW9ufG5ld3x0cnl8dGhyb3d8Y2F0Y2h8ZmluYWxseXxudWxsfGJyZWFrfGNvbnRpbnVlKVxcYi8sXG5cdFx0J2Jvb2xlYW4nOiAvXFxiKHRydWV8ZmFsc2UpXFxiLyxcblx0XHQnZnVuY3Rpb24nOiAvW2EtejAtOV9dKyg/PVxcKCkvaSxcblx0XHQnbnVtYmVyJzogL1xcYi0/KD86MHhbXFxkYS1mXSt8XFxkKlxcLj9cXGQrKD86ZVsrLV0/XFxkKyk/KVxcYi9pLFxuXHRcdCdvcGVyYXRvcic6IC8tLT98XFwrXFwrP3whPT89P3w8PT98Pj0/fD09Pz0/fCYmP3xcXHxcXHw/fFxcP3xcXCp8XFwvfH58XFxefCUvLFxuXHRcdCdwdW5jdHVhdGlvbic6IC9be31bXFxdOygpLC46XS9cblx0fTtcblx0XG5cdFxuXHQvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdCAgICAgQmVnaW4gcHJpc20tamF2YXNjcmlwdC5qc1xuXHQqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cdFxuXHRQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdCA9IFByaXNtLmxhbmd1YWdlcy5leHRlbmQoJ2NsaWtlJywge1xuXHRcdCdrZXl3b3JkJzogL1xcYihhc3xhc3luY3xhd2FpdHxicmVha3xjYXNlfGNhdGNofGNsYXNzfGNvbnN0fGNvbnRpbnVlfGRlYnVnZ2VyfGRlZmF1bHR8ZGVsZXRlfGRvfGVsc2V8ZW51bXxleHBvcnR8ZXh0ZW5kc3xmaW5hbGx5fGZvcnxmcm9tfGZ1bmN0aW9ufGdldHxpZnxpbXBsZW1lbnRzfGltcG9ydHxpbnxpbnN0YW5jZW9mfGludGVyZmFjZXxsZXR8bmV3fG51bGx8b2Z8cGFja2FnZXxwcml2YXRlfHByb3RlY3RlZHxwdWJsaWN8cmV0dXJufHNldHxzdGF0aWN8c3VwZXJ8c3dpdGNofHRoaXN8dGhyb3d8dHJ5fHR5cGVvZnx2YXJ8dm9pZHx3aGlsZXx3aXRofHlpZWxkKVxcYi8sXG5cdFx0J251bWJlcic6IC9cXGItPygweFtcXGRBLUZhLWZdK3wwYlswMV0rfDBvWzAtN10rfFxcZCpcXC4/XFxkKyhbRWVdWystXT9cXGQrKT98TmFOfEluZmluaXR5KVxcYi8sXG5cdFx0Ly8gQWxsb3cgZm9yIGFsbCBub24tQVNDSUkgY2hhcmFjdGVycyAoU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIwMDg0NDQpXG5cdFx0J2Z1bmN0aW9uJzogL1tfJGEtekEtWlxceEEwLVxcdUZGRkZdW18kYS16QS1aMC05XFx4QTAtXFx1RkZGRl0qKD89XFwoKS9pXG5cdH0pO1xuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnamF2YXNjcmlwdCcsICdrZXl3b3JkJywge1xuXHRcdCdyZWdleCc6IHtcblx0XHRcdHBhdHRlcm46IC8oXnxbXi9dKVxcLyg/IVxcLykoXFxbLis/XXxcXFxcLnxbXi9cXFxcXFxyXFxuXSkrXFwvW2dpbXl1XXswLDV9KD89XFxzKigkfFtcXHJcXG4sLjt9KV0pKS8sXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlXG5cdFx0fVxuXHR9KTtcblx0XG5cdFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ2phdmFzY3JpcHQnLCAnY2xhc3MtbmFtZScsIHtcblx0XHQndGVtcGxhdGUtc3RyaW5nJzoge1xuXHRcdFx0cGF0dGVybjogL2AoPzpcXFxcYHxcXFxcP1teYF0pKmAvLFxuXHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdCdpbnRlcnBvbGF0aW9uJzoge1xuXHRcdFx0XHRcdHBhdHRlcm46IC9cXCRcXHtbXn1dK1xcfS8sXG5cdFx0XHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdFx0XHQnaW50ZXJwb2xhdGlvbi1wdW5jdHVhdGlvbic6IHtcblx0XHRcdFx0XHRcdFx0cGF0dGVybjogL15cXCRcXHt8XFx9JC8sXG5cdFx0XHRcdFx0XHRcdGFsaWFzOiAncHVuY3R1YXRpb24nXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0cmVzdDogUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHRcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdCdzdHJpbmcnOiAvW1xcc1xcU10rL1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cdFxuXHRpZiAoUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cCkge1xuXHRcdFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ21hcmt1cCcsICd0YWcnLCB7XG5cdFx0XHQnc2NyaXB0Jzoge1xuXHRcdFx0XHRwYXR0ZXJuOiAvKDxzY3JpcHRbXFx3XFxXXSo/PilbXFx3XFxXXSo/KD89PFxcL3NjcmlwdD4pL2ksXG5cdFx0XHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0XHRcdGluc2lkZTogUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHQsXG5cdFx0XHRcdGFsaWFzOiAnbGFuZ3VhZ2UtamF2YXNjcmlwdCdcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLmpzID0gUHJpc20ubGFuZ3VhZ2VzLmphdmFzY3JpcHQ7XG5cdFxuXHQvKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdCAgICAgQmVnaW4gcHJpc20tZmlsZS1oaWdobGlnaHQuanNcblx0KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXHRcblx0KGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIHNlbGYgPT09ICd1bmRlZmluZWQnIHx8ICFzZWxmLlByaXNtIHx8ICFzZWxmLmRvY3VtZW50IHx8ICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcblx0XHRzZWxmLlByaXNtLmZpbGVIaWdobGlnaHQgPSBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgRXh0ZW5zaW9ucyA9IHtcblx0XHRcdFx0J2pzJzogJ2phdmFzY3JpcHQnLFxuXHRcdFx0XHQnaHRtbCc6ICdtYXJrdXAnLFxuXHRcdFx0XHQnc3ZnJzogJ21hcmt1cCcsXG5cdFx0XHRcdCd4bWwnOiAnbWFya3VwJyxcblx0XHRcdFx0J3B5JzogJ3B5dGhvbicsXG5cdFx0XHRcdCdyYic6ICdydWJ5Jyxcblx0XHRcdFx0J3BzMSc6ICdwb3dlcnNoZWxsJyxcblx0XHRcdFx0J3BzbTEnOiAncG93ZXJzaGVsbCdcblx0XHRcdH07XG5cdFxuXHRcdFx0aWYoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpIHsgLy8gQ2hlY2sgdG8gcHJldmVudCBlcnJvciBpbiBJRThcblx0XHRcdFx0QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgncHJlW2RhdGEtc3JjXScpKS5mb3JFYWNoKGZ1bmN0aW9uIChwcmUpIHtcblx0XHRcdFx0XHR2YXIgc3JjID0gcHJlLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKTtcblx0XG5cdFx0XHRcdFx0dmFyIGxhbmd1YWdlLCBwYXJlbnQgPSBwcmU7XG5cdFx0XHRcdFx0dmFyIGxhbmcgPSAvXFxibGFuZyg/OnVhZ2UpPy0oPyFcXCopKFxcdyspXFxiL2k7XG5cdFx0XHRcdFx0d2hpbGUgKHBhcmVudCAmJiAhbGFuZy50ZXN0KHBhcmVudC5jbGFzc05hbWUpKSB7XG5cdFx0XHRcdFx0XHRwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdGlmIChwYXJlbnQpIHtcblx0XHRcdFx0XHRcdGxhbmd1YWdlID0gKHByZS5jbGFzc05hbWUubWF0Y2gobGFuZykgfHwgWywgJyddKVsxXTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdGlmICghbGFuZ3VhZ2UpIHtcblx0XHRcdFx0XHRcdHZhciBleHRlbnNpb24gPSAoc3JjLm1hdGNoKC9cXC4oXFx3KykkLykgfHwgWywgJyddKVsxXTtcblx0XHRcdFx0XHRcdGxhbmd1YWdlID0gRXh0ZW5zaW9uc1tleHRlbnNpb25dIHx8IGV4dGVuc2lvbjtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdHZhciBjb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY29kZScpO1xuXHRcdFx0XHRcdGNvZGUuY2xhc3NOYW1lID0gJ2xhbmd1YWdlLScgKyBsYW5ndWFnZTtcblx0XG5cdFx0XHRcdFx0cHJlLnRleHRDb250ZW50ID0gJyc7XG5cdFxuXHRcdFx0XHRcdGNvZGUudGV4dENvbnRlbnQgPSAnTG9hZGluZ+KApic7XG5cdFxuXHRcdFx0XHRcdHByZS5hcHBlbmRDaGlsZChjb2RlKTtcblx0XG5cdFx0XHRcdFx0dmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHRcblx0XHRcdFx0XHR4aHIub3BlbignR0VUJywgc3JjLCB0cnVlKTtcblx0XG5cdFx0XHRcdFx0eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdGlmICh4aHIucmVhZHlTdGF0ZSA9PSA0KSB7XG5cdFxuXHRcdFx0XHRcdFx0XHRpZiAoeGhyLnN0YXR1cyA8IDQwMCAmJiB4aHIucmVzcG9uc2VUZXh0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29kZS50ZXh0Q29udGVudCA9IHhoci5yZXNwb25zZVRleHQ7XG5cdFxuXHRcdFx0XHRcdFx0XHRcdFByaXNtLmhpZ2hsaWdodEVsZW1lbnQoY29kZSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0ZWxzZSBpZiAoeGhyLnN0YXR1cyA+PSA0MDApIHtcblx0XHRcdFx0XHRcdFx0XHRjb2RlLnRleHRDb250ZW50ID0gJ+KcliBFcnJvciAnICsgeGhyLnN0YXR1cyArICcgd2hpbGUgZmV0Y2hpbmcgZmlsZTogJyArIHhoci5zdGF0dXNUZXh0O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGNvZGUudGV4dENvbnRlbnQgPSAn4pyWIEVycm9yOiBGaWxlIGRvZXMgbm90IGV4aXN0IG9yIGlzIGVtcHR5Jztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFxuXHRcdFx0XHRcdHhoci5zZW5kKG51bGwpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XG5cdFx0fTtcblx0XG5cdFx0c2VsZi5QcmlzbS5maWxlSGlnaGxpZ2h0KCk7XG5cdFxuXHR9KSgpO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0oKSkpKVxuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIGZyb20gPSBmdW5jdGlvbihvcHRzLCBwbHVnaW5zKSB7XG5cdCAgdmFyIHBhcmVudCA9IChvcHRzLnBhcmVudCB8fCBvcHRzKS5ub2RlVHlwZSA9PT0gMSA/IChvcHRzLnBhcmVudCB8fCBvcHRzKSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0cy5wYXJlbnQgfHwgb3B0cyksXG5cdCAgICBzbGlkZXMgPSBbXS5maWx0ZXIuY2FsbCh0eXBlb2Ygb3B0cy5zbGlkZXMgPT09ICdzdHJpbmcnID8gcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwob3B0cy5zbGlkZXMpIDogKG9wdHMuc2xpZGVzIHx8IHBhcmVudC5jaGlsZHJlbiksIGZ1bmN0aW9uKGVsKSB7IHJldHVybiBlbC5ub2RlTmFtZSAhPT0gJ1NDUklQVCc7IH0pLFxuXHQgICAgYWN0aXZlU2xpZGUgPSBzbGlkZXNbMF0sXG5cdCAgICBsaXN0ZW5lcnMgPSB7fSxcblx0XG5cdCAgICBhY3RpdmF0ZSA9IGZ1bmN0aW9uKGluZGV4LCBjdXN0b21EYXRhKSB7XG5cdCAgICAgIGlmICghc2xpZGVzW2luZGV4XSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgZmlyZSgnZGVhY3RpdmF0ZScsIGNyZWF0ZUV2ZW50RGF0YShhY3RpdmVTbGlkZSwgY3VzdG9tRGF0YSkpO1xuXHQgICAgICBhY3RpdmVTbGlkZSA9IHNsaWRlc1tpbmRleF07XG5cdCAgICAgIGZpcmUoJ2FjdGl2YXRlJywgY3JlYXRlRXZlbnREYXRhKGFjdGl2ZVNsaWRlLCBjdXN0b21EYXRhKSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIHNsaWRlID0gZnVuY3Rpb24oaW5kZXgsIGN1c3RvbURhdGEpIHtcblx0ICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcblx0ICAgICAgICBmaXJlKCdzbGlkZScsIGNyZWF0ZUV2ZW50RGF0YShzbGlkZXNbaW5kZXhdLCBjdXN0b21EYXRhKSkgJiYgYWN0aXZhdGUoaW5kZXgsIGN1c3RvbURhdGEpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBzbGlkZXMuaW5kZXhPZihhY3RpdmVTbGlkZSk7XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdFxuXHQgICAgc3RlcCA9IGZ1bmN0aW9uKG9mZnNldCwgY3VzdG9tRGF0YSkge1xuXHQgICAgICB2YXIgc2xpZGVJbmRleCA9IHNsaWRlcy5pbmRleE9mKGFjdGl2ZVNsaWRlKSArIG9mZnNldDtcblx0XG5cdCAgICAgIGZpcmUob2Zmc2V0ID4gMCA/ICduZXh0JyA6ICdwcmV2JywgY3JlYXRlRXZlbnREYXRhKGFjdGl2ZVNsaWRlLCBjdXN0b21EYXRhKSkgJiYgYWN0aXZhdGUoc2xpZGVJbmRleCwgY3VzdG9tRGF0YSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIG9uID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuXHQgICAgICAobGlzdGVuZXJzW2V2ZW50TmFtZV0gfHwgKGxpc3RlbmVyc1tldmVudE5hbWVdID0gW10pKS5wdXNoKGNhbGxiYWNrKTtcblx0ICAgICAgcmV0dXJuIG9mZi5iaW5kKG51bGwsIGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuXHQgICAgfSxcblx0XG5cdCAgICBvZmYgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG5cdCAgICAgIGxpc3RlbmVyc1tldmVudE5hbWVdID0gKGxpc3RlbmVyc1tldmVudE5hbWVdIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24obGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyICE9PSBjYWxsYmFjazsgfSk7XG5cdCAgICB9LFxuXHRcblx0ICAgIGZpcmUgPSBmdW5jdGlvbihldmVudE5hbWUsIGV2ZW50RGF0YSkge1xuXHQgICAgICByZXR1cm4gKGxpc3RlbmVyc1tldmVudE5hbWVdIHx8IFtdKVxuXHQgICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24obm90Q2FuY2VsbGVkLCBjYWxsYmFjaykge1xuXHQgICAgICAgICAgcmV0dXJuIG5vdENhbmNlbGxlZCAmJiBjYWxsYmFjayhldmVudERhdGEpICE9PSBmYWxzZTtcblx0ICAgICAgICB9LCB0cnVlKTtcblx0ICAgIH0sXG5cdFxuXHQgICAgY3JlYXRlRXZlbnREYXRhID0gZnVuY3Rpb24oZWwsIGV2ZW50RGF0YSkge1xuXHQgICAgICBldmVudERhdGEgPSBldmVudERhdGEgfHwge307XG5cdCAgICAgIGV2ZW50RGF0YS5pbmRleCA9IHNsaWRlcy5pbmRleE9mKGVsKTtcblx0ICAgICAgZXZlbnREYXRhLnNsaWRlID0gZWw7XG5cdCAgICAgIHJldHVybiBldmVudERhdGE7XG5cdCAgICB9LFxuXHRcblx0ICAgIGRlY2sgPSB7XG5cdCAgICAgIG9uOiBvbixcblx0ICAgICAgb2ZmOiBvZmYsXG5cdCAgICAgIGZpcmU6IGZpcmUsXG5cdCAgICAgIHNsaWRlOiBzbGlkZSxcblx0ICAgICAgbmV4dDogc3RlcC5iaW5kKG51bGwsIDEpLFxuXHQgICAgICBwcmV2OiBzdGVwLmJpbmQobnVsbCwgLTEpLFxuXHQgICAgICBwYXJlbnQ6IHBhcmVudCxcblx0ICAgICAgc2xpZGVzOiBzbGlkZXNcblx0ICAgIH07XG5cdFxuXHQgIChwbHVnaW5zIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuXHQgICAgcGx1Z2luKGRlY2spO1xuXHQgIH0pO1xuXHRcblx0ICBhY3RpdmF0ZSgwKTtcblx0XG5cdCAgcmV0dXJuIGRlY2s7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBmcm9tOiBmcm9tXG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciByZXF1aXJlO3ZhciByZXF1aXJlOy8qIVxuXHQgKiBiZXNwb2tlLXRoZW1lLW5lYnVsYSB2MS4wLjFcblx0ICpcblx0ICogQ29weXJpZ2h0IDIwMTQsIE1hcmsgRGFsZ2xlaXNoXG5cdCAqIFRoaXMgY29udGVudCBpcyByZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2Vcblx0ICogXG5cdCAqL1xuXHRcblx0IWZ1bmN0aW9uKGUpe2lmKHRydWUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShlKTtlbHNle3ZhciBvO1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/bz13aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9vPWdsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmKG89c2VsZik7dmFyIGY9bztmPWYuYmVzcG9rZXx8KGYuYmVzcG9rZT17fSksZj1mLnRoZW1lc3x8KGYudGhlbWVzPXt9KSxmLm5lYnVsYT1lKCl9fShmdW5jdGlvbigpe3ZhciBkZWZpbmUsbW9kdWxlLGV4cG9ydHM7cmV0dXJuIChmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiByZXF1aXJlKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKX12YXIgZj1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxmLGYuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0XG5cdHZhciBjbGFzc2VzID0gX2RlcmVxXygnYmVzcG9rZS1jbGFzc2VzJyk7XG5cdHZhciBpbnNlcnRDc3MgPSBfZGVyZXFfKCdpbnNlcnQtY3NzJyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHQgIHZhciBjc3MgPSBcIi8qISBub3JtYWxpemUuY3NzIHYzLjAuMCB8IE1JVCBMaWNlbnNlIHwgZ2l0LmlvL25vcm1hbGl6ZSAqL2h0bWx7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjstbXMtdGV4dC1zaXplLWFkanVzdDoxMDAlOy13ZWJraXQtdGV4dC1zaXplLWFkanVzdDoxMDAlfWJvZHl7bWFyZ2luOjB9YXJ0aWNsZSxhc2lkZSxkZXRhaWxzLGZpZ2NhcHRpb24sZmlndXJlLGZvb3RlcixoZWFkZXIsaGdyb3VwLG1haW4sbmF2LHNlY3Rpb24sc3VtbWFyeXtkaXNwbGF5OmJsb2NrfWF1ZGlvLGNhbnZhcyxwcm9ncmVzcyx2aWRlb3tkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZX1hdWRpbzpub3QoW2NvbnRyb2xzXSl7ZGlzcGxheTpub25lO2hlaWdodDowfVtoaWRkZW5dLHRlbXBsYXRle2Rpc3BsYXk6bm9uZX1he2JhY2tncm91bmQ6MCAwfWE6YWN0aXZlLGE6aG92ZXJ7b3V0bGluZTowfWFiYnJbdGl0bGVde2JvcmRlci1ib3R0b206MXB4IGRvdHRlZH1ie2ZvbnQtd2VpZ2h0OjcwMH1kZm57Zm9udC1zdHlsZTppdGFsaWN9aDF7Zm9udC1zaXplOjJlbX1tYXJre2JhY2tncm91bmQ6I2ZmMDtjb2xvcjojMDAwfXNtYWxse2ZvbnQtc2l6ZTo4MCV9c3ViLHN1cHtmb250LXNpemU6NzUlO2xpbmUtaGVpZ2h0OjA7cG9zaXRpb246cmVsYXRpdmU7dmVydGljYWwtYWxpZ246YmFzZWxpbmV9c3Vwe3RvcDotLjVlbX1zdWJ7Ym90dG9tOi0uMjVlbX1pbWd7Ym9yZGVyOjB9c3ZnOm5vdCg6cm9vdCl7b3ZlcmZsb3c6aGlkZGVufWZpZ3VyZXttYXJnaW46MWVtIDQwcHh9aHJ7Ym94LXNpemluZzpjb250ZW50LWJveH1wcmV7b3ZlcmZsb3c6YXV0b31jb2RlLGtiZCxwcmUsc2FtcHtmb250LXNpemU6MWVtfWtiZCxwcmUsc2FtcHtmb250LWZhbWlseTptb25vc3BhY2UsbW9ub3NwYWNlfWJ1dHRvbixpbnB1dCxvcHRncm91cCxzZWxlY3QsdGV4dGFyZWF7Y29sb3I6aW5oZXJpdDtmb250OmluaGVyaXQ7bWFyZ2luOjB9YnV0dG9ue292ZXJmbG93OnZpc2libGV9YnV0dG9uLHNlbGVjdHt0ZXh0LXRyYW5zZm9ybTpub25lfWJ1dHRvbixodG1sIGlucHV0W3R5cGU9XFxcImJ1dHRvblxcXCJdLGlucHV0W3R5cGU9XFxcInJlc2V0XFxcIl0saW5wdXRbdHlwZT1cXFwic3VibWl0XFxcIl17LXdlYmtpdC1hcHBlYXJhbmNlOmJ1dHRvbjtjdXJzb3I6cG9pbnRlcn1idXR0b25bZGlzYWJsZWRdLGh0bWwgaW5wdXRbZGlzYWJsZWRde2N1cnNvcjpkZWZhdWx0fWJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lcixpbnB1dDo6LW1vei1mb2N1cy1pbm5lcntib3JkZXI6MDtwYWRkaW5nOjB9aW5wdXR7bGluZS1oZWlnaHQ6bm9ybWFsfWlucHV0W3R5cGU9XFxcImNoZWNrYm94XFxcIl0saW5wdXRbdHlwZT1cXFwicmFkaW9cXFwiXXtib3gtc2l6aW5nOmJvcmRlci1ib3g7cGFkZGluZzowfWlucHV0W3R5cGU9XFxcIm51bWJlclxcXCJdOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uLGlucHV0W3R5cGU9XFxcIm51bWJlclxcXCJdOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9ue2hlaWdodDphdXRvfWlucHV0W3R5cGU9XFxcInNlYXJjaFxcXCJdey13ZWJraXQtYXBwZWFyYW5jZTp0ZXh0ZmllbGQ7Ym94LXNpemluZzpjb250ZW50LWJveH1pbnB1dFt0eXBlPVxcXCJzZWFyY2hcXFwiXTo6LXdlYmtpdC1zZWFyY2gtY2FuY2VsLWJ1dHRvbixpbnB1dFt0eXBlPVxcXCJzZWFyY2hcXFwiXTo6LXdlYmtpdC1zZWFyY2gtZGVjb3JhdGlvbnstd2Via2l0LWFwcGVhcmFuY2U6bm9uZX1maWVsZHNldHtib3JkZXI6MXB4IHNvbGlkIHNpbHZlcjttYXJnaW46MCAycHg7cGFkZGluZzouMzVlbSAuNjI1ZW0gLjc1ZW19bGVnZW5ke2JvcmRlcjowO3BhZGRpbmc6MH10ZXh0YXJlYXtvdmVyZmxvdzphdXRvfW9wdGdyb3Vwe2ZvbnQtd2VpZ2h0OjcwMH10YWJsZXtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7Ym9yZGVyLXNwYWNpbmc6MH10ZCx0aCwqe3BhZGRpbmc6MH0qe21hcmdpbjowfWh0bWx7LXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OmF1dG87LW1zLXRleHQtc2l6ZS1hZGp1c3Q6YXV0bzt0ZXh0LXNpemUtYWRqdXN0OmF1dG99LmJlc3Bva2UtcGFyZW50e2ZvbnQtc2l6ZToxLjVlbTtiYWNrZ3JvdW5kOiMxMTE7Y29sb3I6I2RkZDtmb250LWZhbWlseTpmdXR1cmEsaGVsdmV0aWNhLGFyaWFsLGFyaWFsLHNhbnMtc2VyaWY7b3ZlcmZsb3c6aGlkZGVuO3RleHQtYWxpZ246Y2VudGVyOy13ZWJraXQtdHJhbnNpdGlvbjpiYWNrZ3JvdW5kIDFzIGVhc2U7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kIDFzIGVhc2U7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCUgNTAlfS5iZXNwb2tlLXBhcmVudCwuYmVzcG9rZS1zY2FsZS1wYXJlbnR7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOjB9LmJlc3Bva2Utc2NhbGUtcGFyZW50e3BvaW50ZXItZXZlbnRzOm5vbmU7ei1pbmRleDoxfS5iZXNwb2tlLXNjYWxlLXBhcmVudCAuYmVzcG9rZS1hY3RpdmV7cG9pbnRlci1ldmVudHM6YXV0b30uYmVzcG9rZS1zbGlkZXstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuNXMgZWFzZTt0cmFuc2l0aW9uOm9wYWNpdHkgLjVzIGVhc2U7d2lkdGg6OTQwcHg7aGVpZ2h0OjQ4MHB4O3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTQ3MHB4O21hcmdpbi10b3A6LTI0MHB4O2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotd2Via2l0LWZsZXg7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1ib3gtb3JpZW50OnZlcnRpY2FsOy13ZWJraXQtYm94LWRpcmVjdGlvbjpub3JtYWw7LXdlYmtpdC1mbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7LXdlYmtpdC1qdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy13ZWJraXQtYWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7ei1pbmRleDoxfS5iZXNwb2tlLWFjdGl2ZXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6LjVzO3RyYW5zaXRpb24tZGVsYXk6LjVzfS5iZXNwb2tlLWFjdGl2ZVtkYXRhLWJlc3Bva2UtYmFja2Ryb3Bdey13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTouNzVzO3RyYW5zaXRpb24tZGVsYXk6Ljc1c30uYmVzcG9rZS1pbmFjdGl2ZXtvcGFjaXR5OjA7cG9pbnRlci1ldmVudHM6bm9uZX0uYmVzcG9rZS1iYWNrZHJvcHstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAxcyBlYXNlO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowfS5iZXNwb2tlLXByb2dyZXNzLXBhcmVudHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtoZWlnaHQ6LjN2dzt6LWluZGV4OjF9LmJlc3Bva2UtcHJvZ3Jlc3MtYmFye2JhY2tncm91bmQ6I2RkZDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7aGVpZ2h0OjEwMCU7LXdlYmtpdC10cmFuc2l0aW9uOndpZHRoIDFzIGVhc2U7dHJhbnNpdGlvbjp3aWR0aCAxcyBlYXNlfS5iZXNwb2tlLWJ1bGxldHstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuM3MgZWFzZTt0cmFuc2l0aW9uOm9wYWNpdHkgLjNzIGVhc2V9LmJlc3Bva2UtYnVsbGV0LWluYWN0aXZle29wYWNpdHk6MH1zdHJvbmd7Zm9udC13ZWlnaHQ6NDAwfWhye3dpZHRoOjUwJTttYXJnaW46MXJlbSBhdXRvO2hlaWdodDoxcHg7Ym9yZGVyOjA7YmFja2dyb3VuZDojZGRkfWgzLHAsbGl7cGFkZGluZy1sZWZ0OjIwcHg7cGFkZGluZy1yaWdodDoyMHB4fWgzLGg0LHAsbGkscHJle2ZvbnQtd2VpZ2h0OjIwMH1oMXtsaW5lLWhlaWdodDoxLjRlbTtwYWRkaW5nOjFlbTtib3JkZXI6MXB4IHNvbGlkICNkZGQ7Ym9yZGVyLWxlZnQtd2lkdGg6MDtib3JkZXItcmlnaHQtd2lkdGg6MDttaW4td2lkdGg6OGVtfWgxLGgye2xldHRlci1zcGFjaW5nOi4zZW07dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO2ZvbnQtd2VpZ2h0OjQwMDttYXJnaW46LjE3ZW0gMDtwb3NpdGlvbjpyZWxhdGl2ZX1oMntsaW5lLWhlaWdodDoxLjFlbTtwYWRkaW5nOjAgMCAwIC4zZW19aDN7Zm9udC1mYW1pbHk6ZGlkb3QsdGltZXMgbmV3IHJvbWFuLHNlcmlmO2ZvbnQtc3R5bGU6aXRhbGljO2ZvbnQtc2l6ZToxLjJlbTtsaW5lLWhlaWdodDoxLjZlbTttYXJnaW46LjVlbSAwfWg0e3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTtmb250LXNpemU6LjhlbTtsaW5lLWhlaWdodDoxLjhlbTtsZXR0ZXItc3BhY2luZzouM2VtO21hcmdpbjoxZW0gMH11bCxvbHtwYWRkaW5nOjA7bWFyZ2luOjA7dGV4dC1hbGlnbjpsZWZ0fWxpe2xpc3Qtc3R5bGU6bm9uZTttYXJnaW46LjJlbTtmb250LXN0eWxlOm5vcm1hbDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC02cHgpOy1tcy10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNnB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNnB4KX1saTpiZWZvcmV7Y29udGVudDonXFxcXDIwMTQnO21hcmdpbi1yaWdodDo0cHh9cHJle2JhY2tncm91bmQ6bm9uZSFpbXBvcnRhbnR9Y29kZXtmb250LWZhbWlseTpwcmVzdGlnZSBlbGl0ZSBzdGQsY29uc29sYXMsY291cmllciBuZXcsbW9ub3NwYWNlIWltcG9ydGFudDtmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDoyMDAhaW1wb3J0YW50O3RleHQtYWxpZ246bGVmdH1he3BhZGRpbmctbGVmdDouM2VtO2NvbG9yOmN1cnJlbnRDb2xvcjt0ZXh0LWRlY29yYXRpb246bm9uZTtib3JkZXItYm90dG9tOjFweCBzb2xpZCBjdXJyZW50Q29sb3J9LmVtcGhhdGlje2JhY2tncm91bmQ6I2YzMH0uc2luZ2xlLXdvcmRze3dvcmQtc3BhY2luZzo5OTk5cHg7bGluZS1oZWlnaHQ6Mi45ZW07b3ZlcmZsb3c6aGlkZGVufS5iZXNwb2tlLWJhY2tkcm9we29wYWNpdHk6MDstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAxcyBlYXNlLC13ZWJraXQtdHJhbnNmb3JtIDZzIGVhc2U7dHJhbnNpdGlvbjpvcGFjaXR5IDFzIGVhc2UsdHJhbnNmb3JtIDZzIGVhc2U7YmFja2dyb3VuZC1zaXplOmNvdmVyO2JhY2tncm91bmQtcG9zaXRpb246NTAlIDUwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVaKDApc2NhbGUoMS4zKTt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKXNjYWxlKDEuMyl9LmJlc3Bva2UtYmFja2Ryb3AtYWN0aXZlLC5iZXNwb2tlLWJhY2tkcm9wLWJlZm9yZXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVaKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApfS5iZXNwb2tlLWJhY2tkcm9wLWJlZm9yZXstd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6LjJzO3RyYW5zaXRpb24tZGVsYXk6LjJzfS5iZXNwb2tlLWJhY2tkcm9wLWFjdGl2ZXtvcGFjaXR5Oi41fVwiO1xuXHQgIGluc2VydENzcyhjc3MsIHsgcHJlcGVuZDogdHJ1ZSB9KTtcblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgIGNsYXNzZXMoKShkZWNrKTtcblx0ICB9O1xuXHR9O1xuXHRcblx0fSx7XCJiZXNwb2tlLWNsYXNzZXNcIjoyLFwiaW5zZXJ0LWNzc1wiOjN9XSwyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgdmFyIGFkZENsYXNzID0gZnVuY3Rpb24oZWwsIGNscykge1xuXHQgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtJyArIGNscyk7XG5cdCAgICAgIH0sXG5cdFxuXHQgICAgICByZW1vdmVDbGFzcyA9IGZ1bmN0aW9uKGVsLCBjbHMpIHtcblx0ICAgICAgICBlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWVcblx0ICAgICAgICAgIC5yZXBsYWNlKG5ldyBSZWdFeHAoJ2Jlc3Bva2UtJyArIGNscyArJyhcXFxcc3wkKScsICdnJyksICcgJylcblx0ICAgICAgICAgIC50cmltKCk7XG5cdCAgICAgIH0sXG5cdFxuXHQgICAgICBkZWFjdGl2YXRlID0gZnVuY3Rpb24oZWwsIGluZGV4KSB7XG5cdCAgICAgICAgdmFyIGFjdGl2ZVNsaWRlID0gZGVjay5zbGlkZXNbZGVjay5zbGlkZSgpXSxcblx0ICAgICAgICAgIG9mZnNldCA9IGluZGV4IC0gZGVjay5zbGlkZSgpLFxuXHQgICAgICAgICAgb2Zmc2V0Q2xhc3MgPSBvZmZzZXQgPiAwID8gJ2FmdGVyJyA6ICdiZWZvcmUnO1xuXHRcblx0ICAgICAgICBbJ2JlZm9yZSgtXFxcXGQrKT8nLCAnYWZ0ZXIoLVxcXFxkKyk/JywgJ2FjdGl2ZScsICdpbmFjdGl2ZSddLm1hcChyZW1vdmVDbGFzcy5iaW5kKG51bGwsIGVsKSk7XG5cdFxuXHQgICAgICAgIGlmIChlbCAhPT0gYWN0aXZlU2xpZGUpIHtcblx0ICAgICAgICAgIFsnaW5hY3RpdmUnLCBvZmZzZXRDbGFzcywgb2Zmc2V0Q2xhc3MgKyAnLScgKyBNYXRoLmFicyhvZmZzZXQpXS5tYXAoYWRkQ2xhc3MuYmluZChudWxsLCBlbCkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfTtcblx0XG5cdCAgICBhZGRDbGFzcyhkZWNrLnBhcmVudCwgJ3BhcmVudCcpO1xuXHQgICAgZGVjay5zbGlkZXMubWFwKGZ1bmN0aW9uKGVsKSB7IGFkZENsYXNzKGVsLCAnc2xpZGUnKTsgfSk7XG5cdFxuXHQgICAgZGVjay5vbignYWN0aXZhdGUnLCBmdW5jdGlvbihlKSB7XG5cdCAgICAgIGRlY2suc2xpZGVzLm1hcChkZWFjdGl2YXRlKTtcblx0ICAgICAgYWRkQ2xhc3MoZS5zbGlkZSwgJ2FjdGl2ZScpO1xuXHQgICAgICByZW1vdmVDbGFzcyhlLnNsaWRlLCAnaW5hY3RpdmUnKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdH07XG5cdFxuXHR9LHt9XSwzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblx0dmFyIGluc2VydGVkID0ge307XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MsIG9wdGlvbnMpIHtcblx0ICAgIGlmIChpbnNlcnRlZFtjc3NdKSByZXR1cm47XG5cdCAgICBpbnNlcnRlZFtjc3NdID0gdHJ1ZTtcblx0ICAgIFxuXHQgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuXHQgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9jc3MnKTtcblx0XG5cdCAgICBpZiAoJ3RleHRDb250ZW50JyBpbiBlbGVtKSB7XG5cdCAgICAgIGVsZW0udGV4dENvbnRlbnQgPSBjc3M7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBlbGVtLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0ICAgIH1cblx0ICAgIFxuXHQgICAgdmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuXHQgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5wcmVwZW5kKSB7XG5cdCAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoZWxlbSwgaGVhZC5jaGlsZE5vZGVzWzBdKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChlbGVtKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdH0se31dfSx7fSxbMV0pXG5cdCgxKVxuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICB2YXIgaXNIb3Jpem9udGFsID0gb3B0aW9ucyAhPT0gJ3ZlcnRpY2FsJztcblx0XG5cdCAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuXHQgICAgICBpZiAoZS53aGljaCA9PSAzNCB8fCAvLyBQQUdFIERPV05cblx0ICAgICAgICAoZS53aGljaCA9PSAzMiAmJiAhZS5zaGlmdEtleSkgfHwgLy8gU1BBQ0UgV0lUSE9VVCBTSElGVFxuXHQgICAgICAgIChpc0hvcml6b250YWwgJiYgZS53aGljaCA9PSAzOSkgfHwgLy8gUklHSFRcblx0ICAgICAgICAoIWlzSG9yaXpvbnRhbCAmJiBlLndoaWNoID09IDQwKSAvLyBET1dOXG5cdCAgICAgICkgeyBkZWNrLm5leHQoKTsgfVxuXHRcblx0ICAgICAgaWYgKGUud2hpY2ggPT0gMzMgfHwgLy8gUEFHRSBVUFxuXHQgICAgICAgIChlLndoaWNoID09IDMyICYmIGUuc2hpZnRLZXkpIHx8IC8vIFNQQUNFICsgU0hJRlRcblx0ICAgICAgICAoaXNIb3Jpem9udGFsICYmIGUud2hpY2ggPT0gMzcpIHx8IC8vIExFRlRcblx0ICAgICAgICAoIWlzSG9yaXpvbnRhbCAmJiBlLndoaWNoID09IDM4KSAvLyBVUFxuXHQgICAgICApIHsgZGVjay5wcmV2KCk7IH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICB2YXIgYXhpcyA9IG9wdGlvbnMgPT0gJ3ZlcnRpY2FsJyA/ICdZJyA6ICdYJyxcblx0ICAgICAgc3RhcnRQb3NpdGlvbixcblx0ICAgICAgZGVsdGE7XG5cdFxuXHQgICAgZGVjay5wYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uKGUpIHtcblx0ICAgICAgaWYgKGUudG91Y2hlcy5sZW5ndGggPT0gMSkge1xuXHQgICAgICAgIHN0YXJ0UG9zaXRpb24gPSBlLnRvdWNoZXNbMF1bJ3BhZ2UnICsgYXhpc107XG5cdCAgICAgICAgZGVsdGEgPSAwO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0XG5cdCAgICBkZWNrLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbihlKSB7XG5cdCAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoID09IDEpIHtcblx0ICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgZGVsdGEgPSBlLnRvdWNoZXNbMF1bJ3BhZ2UnICsgYXhpc10gLSBzdGFydFBvc2l0aW9uO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0XG5cdCAgICBkZWNrLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGZ1bmN0aW9uKCkge1xuXHQgICAgICBpZiAoTWF0aC5hYnMoZGVsdGEpID4gNTApIHtcblx0ICAgICAgICBkZWNrW2RlbHRhID4gMCA/ICdwcmV2JyA6ICduZXh0J10oKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgIHZhciBhY3RpdmVTbGlkZUluZGV4LFxuXHQgICAgICBhY3RpdmVCdWxsZXRJbmRleCxcblx0XG5cdCAgICAgIGJ1bGxldHMgPSBkZWNrLnNsaWRlcy5tYXAoZnVuY3Rpb24oc2xpZGUpIHtcblx0ICAgICAgICByZXR1cm4gW10uc2xpY2UuY2FsbChzbGlkZS5xdWVyeVNlbGVjdG9yQWxsKCh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycgPyBvcHRpb25zIDogJ1tkYXRhLWJlc3Bva2UtYnVsbGV0XScpKSwgMCk7XG5cdCAgICAgIH0pLFxuXHRcblx0ICAgICAgbmV4dCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBuZXh0U2xpZGVJbmRleCA9IGFjdGl2ZVNsaWRlSW5kZXggKyAxO1xuXHRcblx0ICAgICAgICBpZiAoYWN0aXZlU2xpZGVIYXNCdWxsZXRCeU9mZnNldCgxKSkge1xuXHQgICAgICAgICAgYWN0aXZhdGVCdWxsZXQoYWN0aXZlU2xpZGVJbmRleCwgYWN0aXZlQnVsbGV0SW5kZXggKyAxKTtcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGJ1bGxldHNbbmV4dFNsaWRlSW5kZXhdKSB7XG5cdCAgICAgICAgICBhY3RpdmF0ZUJ1bGxldChuZXh0U2xpZGVJbmRleCwgMCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9LFxuXHRcblx0ICAgICAgcHJldiA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBwcmV2U2xpZGVJbmRleCA9IGFjdGl2ZVNsaWRlSW5kZXggLSAxO1xuXHRcblx0ICAgICAgICBpZiAoYWN0aXZlU2xpZGVIYXNCdWxsZXRCeU9mZnNldCgtMSkpIHtcblx0ICAgICAgICAgIGFjdGl2YXRlQnVsbGV0KGFjdGl2ZVNsaWRlSW5kZXgsIGFjdGl2ZUJ1bGxldEluZGV4IC0gMSk7XG5cdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfSBlbHNlIGlmIChidWxsZXRzW3ByZXZTbGlkZUluZGV4XSkge1xuXHQgICAgICAgICAgYWN0aXZhdGVCdWxsZXQocHJldlNsaWRlSW5kZXgsIGJ1bGxldHNbcHJldlNsaWRlSW5kZXhdLmxlbmd0aCAtIDEpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSxcblx0XG5cdCAgICAgIGFjdGl2YXRlQnVsbGV0ID0gZnVuY3Rpb24oc2xpZGVJbmRleCwgYnVsbGV0SW5kZXgpIHtcblx0ICAgICAgICBhY3RpdmVTbGlkZUluZGV4ID0gc2xpZGVJbmRleDtcblx0ICAgICAgICBhY3RpdmVCdWxsZXRJbmRleCA9IGJ1bGxldEluZGV4O1xuXHRcblx0ICAgICAgICBidWxsZXRzLmZvckVhY2goZnVuY3Rpb24oc2xpZGUsIHMpIHtcblx0ICAgICAgICAgIHNsaWRlLmZvckVhY2goZnVuY3Rpb24oYnVsbGV0LCBiKSB7XG5cdCAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJ1bGxldCcpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKHMgPCBzbGlkZUluZGV4IHx8IHMgPT09IHNsaWRlSW5kZXggJiYgYiA8PSBidWxsZXRJbmRleCkge1xuXHQgICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJ1bGxldC1hY3RpdmUnKTtcblx0ICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LnJlbW92ZSgnYmVzcG9rZS1idWxsZXQtaW5hY3RpdmUnKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1idWxsZXQtaW5hY3RpdmUnKTtcblx0ICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LnJlbW92ZSgnYmVzcG9rZS1idWxsZXQtYWN0aXZlJyk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmIChzID09PSBzbGlkZUluZGV4ICYmIGIgPT09IGJ1bGxldEluZGV4KSB7XG5cdCAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYnVsbGV0LWN1cnJlbnQnKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LnJlbW92ZSgnYmVzcG9rZS1idWxsZXQtY3VycmVudCcpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSxcblx0XG5cdCAgICAgIGFjdGl2ZVNsaWRlSGFzQnVsbGV0QnlPZmZzZXQgPSBmdW5jdGlvbihvZmZzZXQpIHtcblx0ICAgICAgICByZXR1cm4gYnVsbGV0c1thY3RpdmVTbGlkZUluZGV4XVthY3RpdmVCdWxsZXRJbmRleCArIG9mZnNldF0gIT09IHVuZGVmaW5lZDtcblx0ICAgICAgfTtcblx0XG5cdCAgICBkZWNrLm9uKCduZXh0JywgbmV4dCk7XG5cdCAgICBkZWNrLm9uKCdwcmV2JywgcHJldik7XG5cdFxuXHQgICAgZGVjay5vbignc2xpZGUnLCBmdW5jdGlvbihlKSB7XG5cdCAgICAgIGFjdGl2YXRlQnVsbGV0KGUuaW5kZXgsIDApO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgYWN0aXZhdGVCdWxsZXQoMCwgMCk7XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgdmFyIGJhY2tkcm9wcztcblx0XG5cdCAgICBmdW5jdGlvbiBjcmVhdGVCYWNrZHJvcEZvclNsaWRlKHNsaWRlKSB7XG5cdCAgICAgIHZhciBiYWNrZHJvcEF0dHJpYnV0ZSA9IHNsaWRlLmdldEF0dHJpYnV0ZSgnZGF0YS1iZXNwb2tlLWJhY2tkcm9wJyk7XG5cdFxuXHQgICAgICBpZiAoYmFja2Ryb3BBdHRyaWJ1dGUpIHtcblx0ICAgICAgICB2YXIgYmFja2Ryb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ICAgICAgICBiYWNrZHJvcC5jbGFzc05hbWUgPSBiYWNrZHJvcEF0dHJpYnV0ZTtcblx0ICAgICAgICBiYWNrZHJvcC5jbGFzc0xpc3QuYWRkKCdiZXNwb2tlLWJhY2tkcm9wJyk7XG5cdCAgICAgICAgZGVjay5wYXJlbnQuYXBwZW5kQ2hpbGQoYmFja2Ryb3ApO1xuXHQgICAgICAgIHJldHVybiBiYWNrZHJvcDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIHVwZGF0ZUNsYXNzZXMoZWwpIHtcblx0ICAgICAgaWYgKGVsKSB7XG5cdCAgICAgICAgdmFyIGluZGV4ID0gYmFja2Ryb3BzLmluZGV4T2YoZWwpLFxuXHQgICAgICAgICAgY3VycmVudEluZGV4ID0gZGVjay5zbGlkZSgpO1xuXHRcblx0ICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2FjdGl2ZScpO1xuXHQgICAgICAgIHJlbW92ZUNsYXNzKGVsLCAnaW5hY3RpdmUnKTtcblx0ICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2JlZm9yZScpO1xuXHQgICAgICAgIHJlbW92ZUNsYXNzKGVsLCAnYWZ0ZXInKTtcblx0XG5cdCAgICAgICAgaWYgKGluZGV4ICE9PSBjdXJyZW50SW5kZXgpIHtcblx0ICAgICAgICAgIGFkZENsYXNzKGVsLCAnaW5hY3RpdmUnKTtcblx0ICAgICAgICAgIGFkZENsYXNzKGVsLCBpbmRleCA8IGN1cnJlbnRJbmRleCA/ICdiZWZvcmUnIDogJ2FmdGVyJyk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGFkZENsYXNzKGVsLCAnYWN0aXZlJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuXHQgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdiZXNwb2tlLWJhY2tkcm9wLScgKyBjbGFzc05hbWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIGFkZENsYXNzKGVsLCBjbGFzc05hbWUpIHtcblx0ICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1iYWNrZHJvcC0nICsgY2xhc3NOYW1lKTtcblx0ICAgIH1cblx0XG5cdCAgICBiYWNrZHJvcHMgPSBkZWNrLnNsaWRlc1xuXHQgICAgICAubWFwKGNyZWF0ZUJhY2tkcm9wRm9yU2xpZGUpO1xuXHRcblx0ICAgIGRlY2sub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24oKSB7XG5cdCAgICAgIGJhY2tkcm9wcy5mb3JFYWNoKHVwZGF0ZUNsYXNzZXMpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgIHZhciBwYXJlbnQgPSBkZWNrLnBhcmVudCxcblx0ICAgICAgZmlyc3RTbGlkZSA9IGRlY2suc2xpZGVzWzBdLFxuXHQgICAgICBzbGlkZUhlaWdodCA9IGZpcnN0U2xpZGUub2Zmc2V0SGVpZ2h0LFxuXHQgICAgICBzbGlkZVdpZHRoID0gZmlyc3RTbGlkZS5vZmZzZXRXaWR0aCxcblx0ICAgICAgdXNlWm9vbSA9IG9wdGlvbnMgPT09ICd6b29tJyB8fCAoJ3pvb20nIGluIHBhcmVudC5zdHlsZSAmJiBvcHRpb25zICE9PSAndHJhbnNmb3JtJyksXG5cdFxuXHQgICAgICB3cmFwID0gZnVuY3Rpb24oZWxlbWVudCkge1xuXHQgICAgICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSAnYmVzcG9rZS1zY2FsZS1wYXJlbnQnO1xuXHQgICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3JhcHBlciwgZWxlbWVudCk7XG5cdCAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChlbGVtZW50KTtcblx0ICAgICAgICByZXR1cm4gd3JhcHBlcjtcblx0ICAgICAgfSxcblx0XG5cdCAgICAgIGVsZW1lbnRzID0gdXNlWm9vbSA/IGRlY2suc2xpZGVzIDogZGVjay5zbGlkZXMubWFwKHdyYXApLFxuXHRcblx0ICAgICAgdHJhbnNmb3JtUHJvcGVydHkgPSAoZnVuY3Rpb24ocHJvcGVydHkpIHtcblx0ICAgICAgICB2YXIgcHJlZml4ZXMgPSAnTW96IFdlYmtpdCBPIG1zJy5zcGxpdCgnICcpO1xuXHQgICAgICAgIHJldHVybiBwcmVmaXhlcy5yZWR1Y2UoZnVuY3Rpb24oY3VycmVudFByb3BlcnR5LCBwcmVmaXgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHByZWZpeCArIHByb3BlcnR5IGluIHBhcmVudC5zdHlsZSA/IHByZWZpeCArIHByb3BlcnR5IDogY3VycmVudFByb3BlcnR5O1xuXHQgICAgICAgICAgfSwgcHJvcGVydHkudG9Mb3dlckNhc2UoKSk7XG5cdCAgICAgIH0oJ1RyYW5zZm9ybScpKSxcblx0XG5cdCAgICAgIHNjYWxlID0gdXNlWm9vbSA/XG5cdCAgICAgICAgZnVuY3Rpb24ocmF0aW8sIGVsZW1lbnQpIHtcblx0ICAgICAgICAgIGVsZW1lbnQuc3R5bGUuem9vbSA9IHJhdGlvO1xuXHQgICAgICAgIH0gOlxuXHQgICAgICAgIGZ1bmN0aW9uKHJhdGlvLCBlbGVtZW50KSB7XG5cdCAgICAgICAgICBlbGVtZW50LnN0eWxlW3RyYW5zZm9ybVByb3BlcnR5XSA9ICdzY2FsZSgnICsgcmF0aW8gKyAnKSc7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgIHNjYWxlQWxsID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHhTY2FsZSA9IHBhcmVudC5vZmZzZXRXaWR0aCAvIHNsaWRlV2lkdGgsXG5cdCAgICAgICAgICB5U2NhbGUgPSBwYXJlbnQub2Zmc2V0SGVpZ2h0IC8gc2xpZGVIZWlnaHQ7XG5cdFxuXHQgICAgICAgIGVsZW1lbnRzLmZvckVhY2goc2NhbGUuYmluZChudWxsLCBNYXRoLm1pbih4U2NhbGUsIHlTY2FsZSkpKTtcblx0ICAgICAgfTtcblx0XG5cdCAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc2NhbGVBbGwpO1xuXHQgICAgc2NhbGVBbGwoKTtcblx0ICB9O1xuXHRcblx0fTtcblxuXG4vKioqLyB9LFxuLyogOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgdmFyIHBhcnNlSGFzaCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICB2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpLFxuXHQgICAgICAgIHNsaWRlTnVtYmVyT3JOYW1lID0gcGFyc2VJbnQoaGFzaCwgMTApO1xuXHRcblx0ICAgICAgaWYgKGhhc2gpIHtcblx0ICAgICAgICBpZiAoc2xpZGVOdW1iZXJPck5hbWUpIHtcblx0ICAgICAgICAgIGFjdGl2YXRlU2xpZGUoc2xpZGVOdW1iZXJPck5hbWUgLSAxKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgZGVjay5zbGlkZXMuZm9yRWFjaChmdW5jdGlvbihzbGlkZSwgaSkge1xuXHQgICAgICAgICAgICBpZiAoc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWJlc3Bva2UtaGFzaCcpID09PSBoYXNoKSB7XG5cdCAgICAgICAgICAgICAgYWN0aXZhdGVTbGlkZShpKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBhY3RpdmF0ZVNsaWRlID0gZnVuY3Rpb24oaW5kZXgpIHtcblx0ICAgICAgdmFyIGluZGV4VG9BY3RpdmF0ZSA9IC0xIDwgaW5kZXggJiYgaW5kZXggPCBkZWNrLnNsaWRlcy5sZW5ndGggPyBpbmRleCA6IDA7XG5cdCAgICAgIGlmIChpbmRleFRvQWN0aXZhdGUgIT09IGRlY2suc2xpZGUoKSkge1xuXHQgICAgICAgIGRlY2suc2xpZGUoaW5kZXhUb0FjdGl2YXRlKTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHQgICAgICBwYXJzZUhhc2goKTtcblx0XG5cdCAgICAgIGRlY2sub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24oZSkge1xuXHQgICAgICAgIHZhciBzbGlkZU5hbWUgPSBlLnNsaWRlLmdldEF0dHJpYnV0ZSgnZGF0YS1iZXNwb2tlLWhhc2gnKTtcblx0ICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHNsaWRlTmFtZSB8fCBlLmluZGV4ICsgMTtcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHBhcnNlSGFzaCk7XG5cdCAgICB9LCAwKTtcblx0ICB9O1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChkZWNrKSB7XG5cdCAgICB2YXIgcHJvZ3Jlc3NQYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcblx0ICAgICAgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcblx0ICAgICAgcHJvcCA9IG9wdGlvbnMgPT09ICd2ZXJ0aWNhbCcgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cdFxuXHQgICAgcHJvZ3Jlc3NQYXJlbnQuY2xhc3NOYW1lID0gJ2Jlc3Bva2UtcHJvZ3Jlc3MtcGFyZW50Jztcblx0ICAgIHByb2dyZXNzQmFyLmNsYXNzTmFtZSA9ICdiZXNwb2tlLXByb2dyZXNzLWJhcic7XG5cdCAgICBwcm9ncmVzc1BhcmVudC5hcHBlbmRDaGlsZChwcm9ncmVzc0Jhcik7XG5cdCAgICBkZWNrLnBhcmVudC5hcHBlbmRDaGlsZChwcm9ncmVzc1BhcmVudCk7XG5cdFxuXHQgICAgZGVjay5vbignYWN0aXZhdGUnLCBmdW5jdGlvbihlKSB7XG5cdCAgICAgIHByb2dyZXNzQmFyLnN0eWxlW3Byb3BdID0gKGUuaW5kZXggKiAxMDAgLyAoZGVjay5zbGlkZXMubGVuZ3RoIC0gMSkpICsgJyUnO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogMTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qZ2xvYmFsIG1vZHVsZTp0cnVlLCByZXF1aXJlOnRydWUgKi9cblx0XG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0dmFyIHBsdWdpbk5hbWUgPSBcImluZGV4ZmluZ2VyXCIsXG5cdCAgICAvLyBIYWNrIHRvIGdldCBhcm91bmQgaGF2aW5nIHRvIHdyaXRlIGFsbCBicm93c2VyIGNvZGUgd2l0aCByZXF1aXJlKCkuXG5cdCAgICBicm93c2VyR2xvYmFsID0gKGZ1bmN0aW9uKGYpIHtcblx0ICAgICAgICByZXR1cm4gZihcInJldHVybiB0aGlzXCIpKCk7XG5cdCAgICB9KEZ1bmN0aW9uKSksXG5cdCAgICBjb252ZW5pZW50ID0gKChicm93c2VyR2xvYmFsLmJlc3Bva2UgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMuY29udmVuaWVudCkgfHwgX193ZWJwYWNrX3JlcXVpcmVfXygxMikpLFxuXHQgICAgY3YgPSBjb252ZW5pZW50LmJ1aWxkZXIocGx1Z2luTmFtZSksXG5cdFxuXHQgICAgcGx1Z2luID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgICAgICAgIHZhciBkZWNrZXIgPSBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICAgICAgICAgIHZhciBjdkJvdW5kVG9EZWNrID0gY3YuYWN0aXZhdGVEZWNrKGRlY2spLFxuXHRcblx0ICAgICAgICAgICAgICAgIG9mZiA9IHt9LFxuXHRcblx0ICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlID0gbnVsbCxcblx0XG5cdCAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZUluZGV4ID0gLTEsXG5cdFxuXHQgICAgICAgICAgICAgICAgdW5ib3VuZEFjdGl2ZVNsaWRlRGVja01ldGhvZHMgPSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gUGx1Z2luIGZ1bmN0aW9ucyBleHBlY3QgdG8gYmUgZXhlY3V0ZWQgaW4gYSBkZWNrIGNvbnRleHRcblx0ICAgICAgICAgICAgICAgICAgICBlbmFibGVBY3RpdmVTbGlkZUxpc3RlbmVyOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb2ZmLnNhdmVBY3RpdmVTbGlkZSA9IHRoaXMub24oXCJhY3RpdmF0ZVwiLCB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5zYXZlQWN0aXZlU2xpZGUuYmluZCh0aGlzKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgc2F2ZUFjdGl2ZVNsaWRlOiBmdW5jdGlvbihlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlID0gZS5zbGlkZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlU2xpZGVJbmRleCA9IGUuaW5kZXg7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgZ2V0QWN0aXZlU2xpZGU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZlU2xpZGU7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgZ2V0QWN0aXZlU2xpZGVJbmRleDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmVTbGlkZUluZGV4O1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgcmVnaXN0ZXJEZWNrRXh0ZW5zaW9ucyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRlY2suZ2V0QWN0aXZlU2xpZGUgPSB1bmJvdW5kQWN0aXZlU2xpZGVEZWNrTWV0aG9kcy5nZXRBY3RpdmVTbGlkZS5iaW5kKGRlY2spO1xuXHQgICAgICAgICAgICAgICAgICAgIGRlY2suZ2V0QWN0aXZlU2xpZGVJbmRleCA9IHVuYm91bmRBY3RpdmVTbGlkZURlY2tNZXRob2RzLmdldEFjdGl2ZVNsaWRlSW5kZXguYmluZChkZWNrKTtcblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgZW5hYmxlID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdW5ib3VuZEFjdGl2ZVNsaWRlRGVja01ldGhvZHMuZW5hYmxlQWN0aXZlU2xpZGVMaXN0ZW5lci5jYWxsKGRlY2spO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICBpbml0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJEZWNrRXh0ZW5zaW9ucygpO1xuXHQgICAgICAgICAgICAgICAgICAgIGVuYWJsZSgpO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIGluaXQoKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICByZXR1cm4gZGVja2VyO1xuXHQgICAgfTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gcGx1Z2luO1xuXG5cbi8qKiovIH0sXG4vKiAxMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LypnbG9iYWwgbW9kdWxlOnRydWUsIGNvbnNvbGU6dHJ1ZSAqL1xuXHRcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgcGx1Z2luTmFtZSA9IFwiY29udmVuaWVudFwiLFxuXHQgICAgYnJvd3Nlckdsb2JhbCA9IChmdW5jdGlvbihmKSB7XG5cdCAgICAgICAgcmV0dXJuIGYoXCJyZXR1cm4gdGhpc1wiKSgpO1xuXHQgICAgfShGdW5jdGlvbikpLFxuXHRcblx0ICAgIGN2LFxuXHRcblx0ICAgIC8vIFRoZSBkZWZhdWx0cyBvYmplY3QgaXMgcGFzc2VkIGFzIGEgcmVmZXJlbmNlLCBhbmQgY2FuIGJlIG1vZGlmaWVkIGJ5IGJyb3dzZXJHbG9iYWwuY29udmVuaWVudEluaXRcblx0ICAgIGRlZmF1bHRzID0ge1xuXHQgICAgICAgIGxvZ2dlcjoge1xuXHQgICAgICAgICAgICBsb2c6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgcGhhbnRvbS1wb2x5ZmlsbC5qcyBwcm9ibGVtcyBiaW5kaW5nIGNvbnNvbGUubG9nICh3aW5kb3cuY29uc29sZS5sb2cpXG5cdCAgICAgICAgICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICBpbml0T3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBtZXJnZWQgPSB7fTtcblx0XG5cdCAgICAgICAgLy8gT25seSBtZXJnZSBrbm93biBvcHRpb25zXG5cdCAgICAgICAgbWVyZ2VkLmxvZ2dlciA9IHt9O1xuXHQgICAgICAgIG1lcmdlZC5sb2dnZXIubG9nID0gKGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMgJiYgYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIgJiYgYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIubG9nKSB8fCBkZWZhdWx0cy5sb2dnZXIubG9nO1xuXHRcblx0ICAgICAgICBicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zID0gbWVyZ2VkO1xuXHQgICAgfSxcblx0XG5cdCAgICBwbHVnaW4gPSB7fSxcblx0XG5cdCAgICBkZWNrc1N0b3JhZ2VzID0gW10sXG5cdFxuXHQgICAgaXNTdG9yYWdlQWxyZWFkeUluaXRpYXRlZEZvckRlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICAgICAgaWYgKCFkZWNrKSB7XG5cdCAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJkZWNrIG11c3QgYmUgZGVmaW5lZC5cIik7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgZGVja0FscmVhZHlTdG9yZWQgPSBkZWNrc1N0b3JhZ2VzLnNvbWUoZnVuY3Rpb24oZGVja1N0b3JhZ2UpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGRlY2tTdG9yYWdlLmRlY2sgPT09IGRlY2s7XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIHJldHVybiBkZWNrQWxyZWFkeVN0b3JlZDtcblx0ICAgIH0sXG5cdFxuXHQgICAgc3RvcmVEZWNrID0gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgICAgIHZhciBkZWNrQWxyZWFkeVN0b3JlZCA9IGlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrKGRlY2spO1xuXHRcblx0ICAgICAgICBpZiAoIWRlY2tBbHJlYWR5U3RvcmVkKSB7XG5cdCAgICAgICAgICAgIGRlY2tzU3RvcmFnZXMucHVzaCh7XG5cdCAgICAgICAgICAgICAgICBkZWNrOiBkZWNrLFxuXHQgICAgICAgICAgICAgICAgc3RvcmFnZToge31cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0XG5cdCAgICBpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVja0FuZFBsdWdpbiA9IGZ1bmN0aW9uKHBsdWdpbk5hbWUsIGRlY2spIHtcblx0ICAgICAgICBpZiAoIXBsdWdpbk5hbWUpIHtcblx0ICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcInBsdWdpbk5hbWUgbXVzdCBiZSBkZWZpbmVkLlwiKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmICghZGVjaykge1xuXHQgICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIHN0b3JhZ2UgPSBwbHVnaW4uZ2V0RGVja1N0b3JhZ2UoZGVjayksXG5cdCAgICAgICAgICAgIGlzU3RvcmFnZUluaXRpYXRlZCA9ICEhKHN0b3JhZ2UgJiYgc3RvcmFnZVtwbHVnaW5OYW1lXSk7XG5cdFxuXHQgICAgICAgIHJldHVybiBpc1N0b3JhZ2VJbml0aWF0ZWQ7XG5cdCAgICB9LFxuXHRcblx0ICAgIGluaXRpYXRlRGVja1BsdWdpblN0b3JhZ2UgPSBmdW5jdGlvbihwbHVnaW5OYW1lLCBkZWNrKSB7XG5cdCAgICAgICAgaWYgKCFwbHVnaW5OYW1lKSB7XG5cdCAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJwbHVnaW5OYW1lIG11c3QgYmUgZGVmaW5lZC5cIik7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoIWRlY2spIHtcblx0ICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBzdG9yYWdlID0gcGx1Z2luLmdldERlY2tTdG9yYWdlKGRlY2spO1xuXHRcblx0ICAgICAgICBpZiAoIXN0b3JhZ2UpIHtcblx0ICAgICAgICAgICAgc3RvcmVEZWNrKGRlY2spO1xuXHQgICAgICAgICAgICBzdG9yYWdlID0gcGx1Z2luLmdldERlY2tTdG9yYWdlKGRlY2spO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgc3RvcmFnZVtwbHVnaW5OYW1lXSA9IHt9O1xuXHQgICAgfSxcblx0XG5cdCAgICBpc051bWJlciA9IGZ1bmN0aW9uKG4pIHtcblx0ICAgICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE4MDgyL3ZhbGlkYXRlLW51bWJlcnMtaW4tamF2YXNjcmlwdC1pc251bWVyaWNcblx0ICAgICAgICAvLyBGcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE4MzA4NDRcblx0ICAgICAgICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQobikpICYmIGlzRmluaXRlKG4pO1xuXHQgICAgfSxcblx0XG5cdCAgICBpbml0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgaW5pdE9wdGlvbnMoKTtcblx0ICAgIH07XG5cdFxuXHQvLyBGb3IgcGx1Z2lucyB0aGVtc2VsdmVzXG5cdHBsdWdpbi5idWlsZGVyID0gZnVuY3Rpb24gc2VsZihvcHRpb25zKSB7XG5cdCAgICBpZiAoIW9wdGlvbnMpIHtcblx0ICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiVGhlIHBsdWdpbiBvcHRpb25zIHdlcmUgbm90IHByb3Blcmx5IGRlZmluZWQuXCIpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuXHQgICAgICAgIG9wdGlvbnMgPSB7XG5cdCAgICAgICAgICAgIHBsdWdpbk5hbWU6IG9wdGlvbnNcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5wbHVnaW5OYW1lICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcIlRoZSBwbHVnaW4gbmFtZSB3YXMgbm90IHByb3Blcmx5IGRlZmluZWQuXCIpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBleHRlcm5hbCA9IHt9LFxuXHRcblx0ICAgICAgICB0YWcgPSBcImJlc3Bva2UuXCIgKyBvcHRpb25zLnBsdWdpbk5hbWUsXG5cdFxuXHQgICAgICAgIGdlbmVyYXRlRXJyb3JPYmplY3QgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IodGFnICsgXCI6IFwiICsgbWVzc2FnZSk7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgZXZlbnROYW1lc3BhY2UgPSBvcHRpb25zLnBsdWdpbk5hbWUsXG5cdFxuXHQgICAgICAgIGV2ZW50SW5OYW1lc3BhY2UgPSBmdW5jdGlvbihldmVudE5hbWUpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGV2ZW50TmFtZXNwYWNlICsgXCIuXCIgKyBldmVudE5hbWU7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgLy8gUGx1Z2luIGZ1bmN0aW9ucyBleHBlY3QgdG8gYmUgZXhlY3V0ZWQgaW4gYSBkZWNrIGNvbnRleHRcblx0ICAgICAgICAvLyBNaW1pY2luZywgYW5kIGV4dGVuZGluZyx0aGUgaW50ZXJuYWwgY3JlYXRlRXZlbnREYXRhIGJlc3Bva2UgdXNlc1xuXHQgICAgICAgIGNyZWF0ZUV2ZW50RGF0YSA9IGZ1bmN0aW9uKGRlY2ssIGV2ZW50TmFtZXNwYWNlLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBldmVudERhdGEpIHtcblx0ICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHBsdWdpbi5jcmVhdGVFdmVudERhdGEuY2FsbChkZWNrLCBldmVudE5hbWVzcGFjZSwgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgZXZlbnREYXRhKTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgLy8gVE9ETzogY3JlYXRlIGEgc2Vjb25kIG9iamVjdCBib3VuZCB0byBib3RoIHRoaXMgZXh0ZXJuYWwgb2JqZWN0IGFuZCB0aGUgZGVjayxcblx0ICAgICAgICAvLyB0byBhdm9pZCBwYXNzaW5nIHRoZSBkZWNrIHBhcmFtZXRlciBldmVyeSB0aW1lLiAoV2hpY2ggY2FuIGJlIGFsbGV2aWF0ZWQgd2l0aCBzaW1wbGVyIGZ1bmN0aW9uIGJpbmRpbmcgdGhvdWdoLilcblx0ICAgICAgICBmaXJlID0gZnVuY3Rpb24oZGVjaywgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgY3VzdG9tRGF0YSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZGVjay5maXJlKGV2ZW50SW5OYW1lc3BhY2UoZXZlbnROYW1lKSwgY3JlYXRlRXZlbnREYXRhKGRlY2ssIGV2ZW50TmFtZXNwYWNlLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBjdXN0b21EYXRhKSk7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgbG9nID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHZhciBwcmVmaXhlcyA9IFt0YWddO1xuXHRcblx0ICAgICAgICAgICAgLy8gYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIubG9nIGlzIGR5bmFtaWMsIHNvIGNhbid0IGJpbmQgZGlyZWN0bHkgdG8gaXRcblx0ICAgICAgICAgICAgYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIubG9nLmFwcGx5KGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyLmxvZywgcHJlZml4ZXMuY29uY2F0KHBsdWdpbi5jb3B5QXJyYXkoYXJndW1lbnRzKSkpO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIHRocm93SWZQbHVnaW5XYXNBbHJlYWR5SW5pdGlhdGVkRm9yRGVjayA9IGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgICAgICAgICAgdmFyIGlzU3RvcmFnZUluaXRpYXRlZCA9IGlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrQW5kUGx1Z2luKG9wdGlvbnMucGx1Z2luTmFtZSwgZGVjayk7XG5cdFxuXHQgICAgICAgICAgICBpZiAoaXNTdG9yYWdlSW5pdGlhdGVkKSB7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiVGhlICdcIiArIG9wdGlvbnMucGx1Z2luTmFtZSArIFwiJyBwbHVnaW4gaGFzIGFscmVhZHkgYmVlbiBhY3RpdmF0ZWQgZm9yIHRoaXMgZGVjaywgY2FuJ3QgYWN0aXZhdGUgaXQgdHdpY2UuXCIpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgYmluZFRvRGVjayA9IGZ1bmN0aW9uKGRlY2spIHtcblx0ICAgICAgICAgICAgdmFyIGRlY2tCb3VuZCA9IHt9O1xuXHRcblx0ICAgICAgICAgICAgZGVja0JvdW5kLmNyZWF0ZUV2ZW50RGF0YSA9IGV4dGVybmFsLmNyZWF0ZUV2ZW50RGF0YS5iaW5kKHRoaXMsIGRlY2spO1xuXHQgICAgICAgICAgICBkZWNrQm91bmQuZmlyZSA9IGV4dGVybmFsLmZpcmUuYmluZCh0aGlzLCBkZWNrKTtcblx0ICAgICAgICAgICAgZGVja0JvdW5kLmdldFN0b3JhZ2UgPSBleHRlcm5hbC5nZXRTdG9yYWdlLmJpbmQodGhpcywgZGVjayk7XG5cdCAgICAgICAgICAgIGRlY2tCb3VuZC5sb2cgPSBleHRlcm5hbC5sb2cuYmluZCh0aGlzLCBkZWNrKTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBkZWNrQm91bmQ7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgYWN0aXZhdGVEZWNrID0gZnVuY3Rpb24oZGVjaykge1xuXHQgICAgICAgICAgICB2YXIgZGVja0JvdW5kO1xuXHRcblx0ICAgICAgICAgICAgdGhyb3dJZlBsdWdpbldhc0FscmVhZHlJbml0aWF0ZWRGb3JEZWNrKGRlY2spO1xuXHQgICAgICAgICAgICBpbml0aWF0ZURlY2tQbHVnaW5TdG9yYWdlKG9wdGlvbnMucGx1Z2luTmFtZSwgZGVjayk7XG5cdFxuXHQgICAgICAgICAgICBkZWNrQm91bmQgPSBiaW5kVG9EZWNrKGRlY2spO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIGRlY2tCb3VuZDtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICBiaW5kRXh0ZXJuYWwgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgZXh0ZXJuYWwuY3JlYXRlRXZlbnREYXRhID0gY3JlYXRlRXZlbnREYXRhLmJpbmQodGhpcyk7XG5cdCAgICAgICAgICAgIGV4dGVybmFsLmdlbmVyYXRlRXJyb3JPYmplY3QgPSBnZW5lcmF0ZUVycm9yT2JqZWN0LmJpbmQodGhpcyk7XG5cdCAgICAgICAgICAgIGV4dGVybmFsLmZpcmUgPSBmaXJlLmJpbmQodGhpcyk7XG5cdCAgICAgICAgICAgIGV4dGVybmFsLmxvZyA9IGxvZy5iaW5kKHRoaXMpO1xuXHQgICAgICAgICAgICBleHRlcm5hbC5hY3RpdmF0ZURlY2sgPSBhY3RpdmF0ZURlY2suYmluZCh0aGlzKTtcblx0ICAgICAgICAgICAgZXh0ZXJuYWwuZ2V0U3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrUGx1Z2luU3RvcmFnZS5iaW5kKHRoaXMsIG9wdGlvbnMucGx1Z2luTmFtZSk7XG5cdCAgICAgICAgfSxcblx0XG5cdCAgICAgICAgaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICBiaW5kRXh0ZXJuYWwoKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgIGluaXQoKTtcblx0XG5cdCAgICByZXR1cm4gZXh0ZXJuYWw7XG5cdH07XG5cdFxuXHRwbHVnaW4uZ2V0RGVja1N0b3JhZ2UgPSBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICBpZiAoIWRlY2spIHtcblx0ICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBzdG9yYWdlID0gbnVsbDtcblx0XG5cdCAgICBkZWNrc1N0b3JhZ2VzLnNvbWUoZnVuY3Rpb24oZGVja1N0b3JhZ2UpIHtcblx0ICAgICAgICBpZiAoZGVja1N0b3JhZ2UuZGVjayA9PT0gZGVjaykge1xuXHQgICAgICAgICAgICBzdG9yYWdlID0gZGVja1N0b3JhZ2Uuc3RvcmFnZTtcblx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9KTtcblx0XG5cdCAgICByZXR1cm4gc3RvcmFnZTtcblx0fTtcblx0XG5cdHBsdWdpbi5nZXREZWNrUGx1Z2luU3RvcmFnZSA9IGZ1bmN0aW9uKHBsdWdpbk5hbWUsIGRlY2spIHtcblx0ICAgIGlmICghcGx1Z2luTmFtZSkge1xuXHQgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJwbHVnaW5OYW1lIG11c3QgYmUgZGVmaW5lZC5cIik7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCFkZWNrKSB7XG5cdCAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgc3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrU3RvcmFnZShkZWNrKTtcblx0XG5cdCAgICBpZiAoIXN0b3JhZ2UpIHtcblx0ICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwic3RvcmFnZSB3YXMgbm90IGluaXRpYXRlZCBmb3IgdGhpcyBkZWNrLlwiKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gc3RvcmFnZVtwbHVnaW5OYW1lXTtcblx0fTtcblx0XG5cdC8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG5cdC8vIE1pbWljaW5nLCBhbmQgZXh0ZW5kaW5nLHRoZSBpbnRlcm5hbCBjcmVhdGVFdmVudERhdGEgYmVzcG9rZSB1c2VzXG5cdHBsdWdpbi5jcmVhdGVFdmVudERhdGEgPSBmdW5jdGlvbihldmVudE5hbWVzcGFjZSwgZXZlbnROYW1lLCBpbm5lckV2ZW50LCBzbGlkZSwgZXZlbnREYXRhKSB7XG5cdCAgICBldmVudERhdGEgPSBldmVudERhdGEgfHwge307XG5cdFxuXHQgICAgZXZlbnREYXRhLmV2ZW50TmFtZXNwYWNlID0gZXZlbnROYW1lc3BhY2UgfHwgbnVsbDtcblx0XG5cdCAgICBldmVudERhdGEuZXZlbnROYW1lID0gZXZlbnROYW1lIHx8IG51bGw7XG5cdFxuXHQgICAgLy8gQ2FuIGJlIGVpdGhlciBhIERPTS9icm93c2VyIGV2ZW50IG9yIGEgYmVzcG9rZSBldmVudFxuXHQgICAgZXZlbnREYXRhLmlubmVyRXZlbnQgPSBpbm5lckV2ZW50IHx8IG51bGw7XG5cdFxuXHQgICAgaWYgKGlzTnVtYmVyKHNsaWRlKSkge1xuXHQgICAgICAgIGV2ZW50RGF0YS5pbmRleCA9IHNsaWRlO1xuXHQgICAgICAgIGV2ZW50RGF0YS5zbGlkZSA9IHRoaXMuc2xpZGVzW3NsaWRlXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZXZlbnREYXRhLmluZGV4ID0gdGhpcy5zbGlkZXMuaW5kZXhPZihzbGlkZSk7XG5cdCAgICAgICAgZXZlbnREYXRhLnNsaWRlID0gc2xpZGU7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGV2ZW50RGF0YTtcblx0fTtcblx0XG5cdHBsdWdpbi5jb3B5QXJyYXkgPSBmdW5jdGlvbihhcnIpIHtcblx0ICAgIHJldHVybiBbXS5zbGljZS5jYWxsKGFyciwgMCk7XG5cdH07XG5cdFxuXHRjdiA9IHBsdWdpbi5idWlsZGVyKHBsdWdpbk5hbWUpO1xuXHRcblx0aW5pdCgpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBwbHVnaW47XG5cblxuLyoqKi8gfSxcbi8qIDEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKmdsb2JhbCBtb2R1bGU6dHJ1ZSwgcmVxdWlyZTp0cnVlLCB3aW5kb3c6dHJ1ZSwgZG9jdW1lbnQ6dHJ1ZSwgTWF0aDp0cnVlICovXG5cdFxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBwbHVnaW5OYW1lID0gXCJzZWNvbmRhcnlcIixcblx0ICAgIC8vIEhhY2sgdG8gZ2V0IGFyb3VuZCBoYXZpbmcgdG8gd3JpdGUgYWxsIGJyb3dzZXIgY29kZSB3aXRoIHJlcXVpcmUoKS5cblx0ICAgIGJyb3dzZXJHbG9iYWwgPSAoZnVuY3Rpb24oZikge1xuXHQgICAgICAgIHJldHVybiBmKFwicmV0dXJuIHRoaXNcIikoKTtcblx0ICAgIH0oRnVuY3Rpb24pKSxcblx0ICAgIGNvbnZlbmllbnQgPSAoKGJyb3dzZXJHbG9iYWwuYmVzcG9rZSAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucyAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucy5jb252ZW5pZW50KSB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSksXG5cdCAgICBjdiA9IGNvbnZlbmllbnQuYnVpbGRlcihwbHVnaW5OYW1lKSxcblx0XG5cdCAgICAvLyBNYWtpbmcgc3VyZSBpbmRleGZpbmdlciBpcyBhdmFpbGFibGUuXG5cdCAgICAvLyBUT0RPOiBjaGVjayB0aGF0IGluZGV4ZmluZ2VyIGhhcyBiZWVuIGxvYWRlZDsgbWF5YmUgY2hlY2tpbmcgZm9yIGRlY2suZ2V0QWN0aXZlU2xpZGUoKS5cblx0ICAgIGluZGV4ZmluZ2VyID0gKChicm93c2VyR2xvYmFsLmJlc3Bva2UgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMgJiYgYnJvd3Nlckdsb2JhbC5iZXNwb2tlLnBsdWdpbnMuaW5kZXhmaW5nZXIpIHx8IF9fd2VicGFja19yZXF1aXJlX18oMTEpKSxcblx0XG5cdCAgICBLZXlDb25zdGFudHMgPSB7XG5cdCAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0tleWJvYXJkRXZlbnQjVmlydHVhbF9rZXlfY29kZXNcblx0ICAgICAgICBTOiAweDUzLCAvLyAoODMpIFwiU1wiIGtleS5cblx0ICAgIH0sXG5cdFxuXHQgICAgZGVmYXVsdHMgPSB7XG5cdCAgICAgICAgbm90ZXM6IFwiYXNpZGVcIixcblx0ICAgICAgICBrZXlzOiB7XG5cdCAgICAgICAgICAgIHRvZ2dsZTogS2V5Q29uc3RhbnRzLlNcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHRcblx0ICAgIHJhbmRvbUludGVnZXIgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuXHQgICAgICAgIC8vIFRPRE86IGxvb2sgZm9yIHNvbWVvbmUgZWxzZSdzIGltcGxlbWVudGF0aW9uIC0gdGhleSd2ZSBwcm9iYWJseSBjb3ZlcmVkIGFsbCB0aGUgY29ybmVyIGNhc2VzLlxuXHQgICAgICAgIC8vIFRoaXMgc2hvdWxkIGRvIGZvciAwIDw9IGZyb20gPCB0byA8IChyYW5kb20ncyByZXNvbHV0aW9uKSB0aG91Z2guXG5cdCAgICAgICAgdmFyIGRpZmYsXG5cdCAgICAgICAgICAgIHJuZDtcblx0XG5cdCAgICAgICAgaWYgKHRvID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgdG8gPSBmcm9tO1xuXHQgICAgICAgICAgICBmcm9tID0gMDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGRpZmYgPSB0byAtIGZyb207XG5cdFxuXHQgICAgICAgIHJuZCA9IGZyb20gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBkaWZmKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIHJuZDtcblx0ICAgIH0sXG5cdFxuXHQgICAgYmFzZVdpbmRvd05hbWUgPSBwbHVnaW5OYW1lICsgXCItd2luZG93LVwiLFxuXHRcblx0ICAgIGdlbmVyYXRlV2luZG93TmFtZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBybmQgPSByYW5kb21JbnRlZ2VyKDEwMDAsIDEwMDAwKSxcblx0ICAgICAgICAgICAgd2luZG93TmFtZSA9IGJhc2VXaW5kb3dOYW1lICsgcm5kO1xuXHRcblx0ICAgICAgICByZXR1cm4gd2luZG93TmFtZTtcblx0ICAgIH0sXG5cdFxuXHQgICAgaW5pdGlhbGl6ZVNlY29uZGFyeVdpbmRvd0NvbnRlbnRzID0gZnVuY3Rpb24oZG9jKSB7XG5cdCAgICAgICAgZG9jLmJvZHkuaW5uZXJIVE1MID0gXCI8aDE+Tm90ZXM8L2gxPjxkaXYgaWQ9J25vdGVzJz48L2Rpdj5cIjtcblx0ICAgIH0sXG5cdFxuXHQgICAgcGx1Z2luID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgICAgICAgIHZhciBkZWNrZXIgPSBmdW5jdGlvbihkZWNrKSB7XG5cdCAgICAgICAgICAgIHZhciBjdkJvdW5kVG9EZWNrID0gY3YuYWN0aXZhdGVEZWNrKGRlY2spLFxuXHRcblx0ICAgICAgICAgICAgICAgIG9mZiA9IHt9LFxuXHRcblx0ICAgICAgICAgICAgICAgIHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcyA9IHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBQbHVnaW4gZnVuY3Rpb25zIGV4cGVjdCB0byBiZSBleGVjdXRlZCBpbiBhIGRlY2sgY29udGV4dFxuXHQgICAgICAgICAgICAgICAgICAgIGdldE5vdGVzRWxlbWVudDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS53aW5kb3cgJiYgdGhpcy5zZWNvbmRhcnkud2luZG93LmRvY3VtZW50ICYmIHRoaXMuc2Vjb25kYXJ5LndpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vdGVzXCIpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGlzT3BlbjogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gdGhpcy5zZWNvbmRhcnksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ID0gcy53aW5kb3csXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpc0luaXRpYWxpemVkLCBpc05vdE51bGwsIGlzTm90Q2xvc2VkLCBpc093bmVkQnlUaGlzV2luZG93LCBjb250YWluc05vdGVzRWxlbWVudFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gISEocyAhPT0gdW5kZWZpbmVkICYmIHcgIT09IG51bGwgJiYgdy5jbG9zZWQgIT09IHRydWUgJiYgdy5vcGVuZXIgPT09IHdpbmRvdyAmJiB0aGlzLnNlY29uZGFyeS5nZXROb3Rlc0VsZW1lbnQoKSAhPT0gbnVsbCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIG9wZW46IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS53aW5kb3cgPSB3aW5kb3cub3BlbigpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZVNlY29uZGFyeVdpbmRvd0NvbnRlbnRzKHRoaXMuc2Vjb25kYXJ5LndpbmRvdy5kb2N1bWVudCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlY29uZGFyeS5pc09wZW4oKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkud2luZG93LmNsb3NlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgZm9jdXM6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWNvbmRhcnkuaXNPcGVuKCkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vjb25kYXJ5LndpbmRvdy5mb2N1cygpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS5jbG9zZSgpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkub3BlbigpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgc3luY2hyb25pemU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVOb3Rlcyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbE5vdGVzO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNlY29uZGFyeS5pc09wZW4oKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gdGhpcy5zZWNvbmRhcnkuZ2V0Tm90ZXNFbGVtZW50KCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlID0gdGhpcy5nZXRBY3RpdmVTbGlkZSgpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVOb3RlcyA9IGNvbnZlbmllbnQuY29weUFycmF5KHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwob3B0aW9ucy5ub3RlcykpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYWxsTm90ZXMgPSBzbGlkZU5vdGVzLnJlZHVjZShmdW5jdGlvbihub3Rlc0h0bWwsIHNsaWRlTm90ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vdGVzSHRtbCArIHNsaWRlTm90ZS5vdXRlckhUTUw7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0sIFwiXCIpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBhbGxOb3Rlcztcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGVja0V4dGVuc2lvbnMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICBkZWNrLnNlY29uZGFyeSA9IHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93OiBudWxsLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnlXaW5kb3dOYW1lOiBnZW5lcmF0ZVdpbmRvd05hbWUoKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Tm90ZXNFbGVtZW50OiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuZ2V0Tm90ZXNFbGVtZW50LmJpbmQoZGVjayksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlzT3BlbjogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLmlzT3Blbi5iaW5kKGRlY2spLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBvcGVuOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMub3Blbi5iaW5kKGRlY2spLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZTogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLmNsb3NlLmJpbmQoZGVjayksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuZm9jdXMuYmluZChkZWNrKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMudG9nZ2xlLmJpbmQoZGVjayksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHN5bmNocm9uaXplOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuc3luY2hyb25pemUuYmluZChkZWNrKVxuXHQgICAgICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIGluaXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogbWVyZ2UgZnVuY3Rpb24/XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gT25seSBtZXJnZSBrbm93biBvcHRpb25zXG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIG1lcmdlZCA9IHt9O1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgbWVyZ2VkLmtleXMgPSB7fTtcblx0ICAgICAgICAgICAgICAgICAgICBtZXJnZWQua2V5cy50b2dnbGUgPSAob3B0aW9ucy5rZXlzICYmIG9wdGlvbnMua2V5cy50b2dnbGUpIHx8IGRlZmF1bHRzLmtleXMudG9nZ2xlO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBtZXJnZWQubm90ZXMgPSBvcHRpb25zLm5vdGVzIHx8IGRlZmF1bHRzLm5vdGVzO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gbWVyZ2VkO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICBrZXlEb3duTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50SGFuZGxlZCA9IGZhbHNlO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAvLyBObyBtb2RpZmllciBrZXlzLCBwbGVhc2Vcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIWUuYWx0S2V5ICYmICFlLmN0cmxLZXkgJiYgIWUubWV0YUtleSAmJiAhZS5zaGlmdEtleSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBldmVudEhhbmRsZWQgPSBldmVudEhhbmRsZWQgfHwgKGUud2hpY2ggPT09IG9wdGlvbnMua2V5cy50b2dnbGUgJiYgY3ZCb3VuZFRvRGVjay5maXJlKFwidG9nZ2xlXCIsIGUpICYmIGRlY2suc2Vjb25kYXJ5LnRvZ2dsZSgpICYmIGRlY2suc2Vjb25kYXJ5LnN5bmNocm9uaXplKCkpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50SGFuZGxlZCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWV2ZW50SGFuZGxlZDtcblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgb25CZWZvcmVVbmxvYWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICBkZWNrLnNlY29uZGFyeS5jbG9zZSgpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgb25BY3RpdmF0ZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRlY2suc2Vjb25kYXJ5LnN5bmNocm9uaXplKCk7XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIGVuYWJsZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyIGRvZXNuJ3Qgc2VlbSB0byB3b3JrIGZvciBvbmJlZm9yZXVubG9hZFxuXHQgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IG9uQmVmb3JlVW5sb2FkO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBrZXlEb3duTGlzdGVuZXIsIGZhbHNlKTtcblx0ICAgICAgICAgICAgICAgICAgICBvZmYuYWN0aXZhdGUgPSBkZWNrLm9uKFwiYWN0aXZhdGVcIiwgb25BY3RpdmF0ZSk7XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIGluaXQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpbml0T3B0aW9ucygpO1xuXHQgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGVja0V4dGVuc2lvbnMoKTtcblx0ICAgICAgICAgICAgICAgICAgICBlbmFibGUoKTtcblx0ICAgICAgICAgICAgICAgIH07XG5cdFxuXHQgICAgICAgICAgICBpbml0KCk7XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgcmV0dXJuIGRlY2tlcjtcblx0ICAgIH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHBsdWdpbjtcblxuXG4vKioqLyB9XG4vKioqKioqLyBdKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1haW4uanMubWFwIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCBmYjdlOGJiNjlkODIzZjlhYmNlOFxuICoqLyIsInJlcXVpcmUoJ3ByaXNtanMnKVxuY29uc3QgYmVzcG9rZSA9IHJlcXVpcmUoJ2Jlc3Bva2UnKVxuY29uc3QgdGhlbWUgPSByZXF1aXJlKCdiZXNwb2tlLXRoZW1lLW5lYnVsYScpXG5jb25zdCBrZXlzID0gcmVxdWlyZSgnYmVzcG9rZS1rZXlzJylcbmNvbnN0IHRvdWNoID0gcmVxdWlyZSgnYmVzcG9rZS10b3VjaCcpXG5jb25zdCBidWxsZXRzID0gcmVxdWlyZSgnYmVzcG9rZS1idWxsZXRzJylcbmNvbnN0IGJhY2tkcm9wID0gcmVxdWlyZSgnYmVzcG9rZS1iYWNrZHJvcCcpXG5jb25zdCBzY2FsZSA9IHJlcXVpcmUoJ2Jlc3Bva2Utc2NhbGUnKVxuY29uc3QgaGFzaCA9IHJlcXVpcmUoJ2Jlc3Bva2UtaGFzaCcpXG5jb25zdCBwcm9ncmVzcyA9IHJlcXVpcmUoJ2Jlc3Bva2UtcHJvZ3Jlc3MnKVxuY29uc3QgaW5kZXhGaW5nZXIgPSByZXF1aXJlKCdiZXNwb2tlLWluZGV4ZmluZ2VyJylcbmNvbnN0IHNlY29uZGFyeSA9IHJlcXVpcmUoJ2Jlc3Bva2Utc2Vjb25kYXJ5JylcblxudmFyIHBsdWdpbnMgPSBbXG4gIHRoZW1lKCksXG4gIGtleXMoKSxcbiAgdG91Y2goKSxcbiAgYnVsbGV0cygnLmRlbGF5ZWQsIC5idWxsZXQnKSxcbiAgYmFja2Ryb3AoKSxcbiAgc2NhbGUoKSxcbiAgaGFzaCgpLFxuICBwcm9ncmVzcygpLFxuICBpbmRleEZpbmdlcigpLFxuICBzZWNvbmRhcnkoKVxuXVxuXG50cnkge1xuICByZXF1aXJlKCdwbHVnaW5zJykocGx1Z2lucylcbn0gY2F0Y2ggKGVycm9yKSB7XG5cbn1cblxudmFyIGRlY2sgPSBiZXNwb2tlLmZyb20oJ2FydGljbGUnLCBwbHVnaW5zKVxuXG50cnkge1xuICByZXF1aXJlKCdkZWNrJykoZGVjaylcbn0gY2F0Y2ggKGVycm9yKSB7XG5cbn1cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L0BhY2hpbmdicmFpbi9zbGlkZXMvdGVtcC9tYWluLmpzXG4gKiogbW9kdWxlIGlkID0gMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIEJlZ2luIHByaXNtLWNvcmUuanNcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblxudmFyIF9zZWxmID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKVxuXHQ/IHdpbmRvdyAgIC8vIGlmIGluIGJyb3dzZXJcblx0OiAoXG5cdFx0KHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlKVxuXHRcdD8gc2VsZiAvLyBpZiBpbiB3b3JrZXJcblx0XHQ6IHt9ICAgLy8gaWYgaW4gbm9kZSBqc1xuXHQpO1xuXG4vKipcbiAqIFByaXNtOiBMaWdodHdlaWdodCwgcm9idXN0LCBlbGVnYW50IHN5bnRheCBoaWdobGlnaHRpbmdcbiAqIE1JVCBsaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwL1xuICogQGF1dGhvciBMZWEgVmVyb3UgaHR0cDovL2xlYS52ZXJvdS5tZVxuICovXG5cbnZhciBQcmlzbSA9IChmdW5jdGlvbigpe1xuXG4vLyBQcml2YXRlIGhlbHBlciB2YXJzXG52YXIgbGFuZyA9IC9cXGJsYW5nKD86dWFnZSk/LSg/IVxcKikoXFx3KylcXGIvaTtcblxudmFyIF8gPSBfc2VsZi5QcmlzbSA9IHtcblx0dXRpbDoge1xuXHRcdGVuY29kZTogZnVuY3Rpb24gKHRva2Vucykge1xuXHRcdFx0aWYgKHRva2VucyBpbnN0YW5jZW9mIFRva2VuKSB7XG5cdFx0XHRcdHJldHVybiBuZXcgVG9rZW4odG9rZW5zLnR5cGUsIF8udXRpbC5lbmNvZGUodG9rZW5zLmNvbnRlbnQpLCB0b2tlbnMuYWxpYXMpO1xuXHRcdFx0fSBlbHNlIGlmIChfLnV0aWwudHlwZSh0b2tlbnMpID09PSAnQXJyYXknKSB7XG5cdFx0XHRcdHJldHVybiB0b2tlbnMubWFwKF8udXRpbC5lbmNvZGUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHRva2Vucy5yZXBsYWNlKC8mL2csICcmYW1wOycpLnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC9cXHUwMGEwL2csICcgJyk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHR5cGU6IGZ1bmN0aW9uIChvKSB7XG5cdFx0XHRyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLm1hdGNoKC9cXFtvYmplY3QgKFxcdyspXFxdLylbMV07XG5cdFx0fSxcblxuXHRcdC8vIERlZXAgY2xvbmUgYSBsYW5ndWFnZSBkZWZpbml0aW9uIChlLmcuIHRvIGV4dGVuZCBpdClcblx0XHRjbG9uZTogZnVuY3Rpb24gKG8pIHtcblx0XHRcdHZhciB0eXBlID0gXy51dGlsLnR5cGUobyk7XG5cblx0XHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0XHRjYXNlICdPYmplY3QnOlxuXHRcdFx0XHRcdHZhciBjbG9uZSA9IHt9O1xuXG5cdFx0XHRcdFx0Zm9yICh2YXIga2V5IGluIG8pIHtcblx0XHRcdFx0XHRcdGlmIChvLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0XHRcdFx0Y2xvbmVba2V5XSA9IF8udXRpbC5jbG9uZShvW2tleV0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBjbG9uZTtcblxuXHRcdFx0XHRjYXNlICdBcnJheSc6XG5cdFx0XHRcdFx0Ly8gQ2hlY2sgZm9yIGV4aXN0ZW5jZSBmb3IgSUU4XG5cdFx0XHRcdFx0cmV0dXJuIG8ubWFwICYmIG8ubWFwKGZ1bmN0aW9uKHYpIHsgcmV0dXJuIF8udXRpbC5jbG9uZSh2KTsgfSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBvO1xuXHRcdH1cblx0fSxcblxuXHRsYW5ndWFnZXM6IHtcblx0XHRleHRlbmQ6IGZ1bmN0aW9uIChpZCwgcmVkZWYpIHtcblx0XHRcdHZhciBsYW5nID0gXy51dGlsLmNsb25lKF8ubGFuZ3VhZ2VzW2lkXSk7XG5cblx0XHRcdGZvciAodmFyIGtleSBpbiByZWRlZikge1xuXHRcdFx0XHRsYW5nW2tleV0gPSByZWRlZltrZXldO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbGFuZztcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogSW5zZXJ0IGEgdG9rZW4gYmVmb3JlIGFub3RoZXIgdG9rZW4gaW4gYSBsYW5ndWFnZSBsaXRlcmFsXG5cdFx0ICogQXMgdGhpcyBuZWVkcyB0byByZWNyZWF0ZSB0aGUgb2JqZWN0ICh3ZSBjYW5ub3QgYWN0dWFsbHkgaW5zZXJ0IGJlZm9yZSBrZXlzIGluIG9iamVjdCBsaXRlcmFscyksXG5cdFx0ICogd2UgY2Fubm90IGp1c3QgcHJvdmlkZSBhbiBvYmplY3QsIHdlIG5lZWQgYW5vYmplY3QgYW5kIGEga2V5LlxuXHRcdCAqIEBwYXJhbSBpbnNpZGUgVGhlIGtleSAob3IgbGFuZ3VhZ2UgaWQpIG9mIHRoZSBwYXJlbnRcblx0XHQgKiBAcGFyYW0gYmVmb3JlIFRoZSBrZXkgdG8gaW5zZXJ0IGJlZm9yZS4gSWYgbm90IHByb3ZpZGVkLCB0aGUgZnVuY3Rpb24gYXBwZW5kcyBpbnN0ZWFkLlxuXHRcdCAqIEBwYXJhbSBpbnNlcnQgT2JqZWN0IHdpdGggdGhlIGtleS92YWx1ZSBwYWlycyB0byBpbnNlcnRcblx0XHQgKiBAcGFyYW0gcm9vdCBUaGUgb2JqZWN0IHRoYXQgY29udGFpbnMgYGluc2lkZWAuIElmIGVxdWFsIHRvIFByaXNtLmxhbmd1YWdlcywgaXQgY2FuIGJlIG9taXR0ZWQuXG5cdFx0ICovXG5cdFx0aW5zZXJ0QmVmb3JlOiBmdW5jdGlvbiAoaW5zaWRlLCBiZWZvcmUsIGluc2VydCwgcm9vdCkge1xuXHRcdFx0cm9vdCA9IHJvb3QgfHwgXy5sYW5ndWFnZXM7XG5cdFx0XHR2YXIgZ3JhbW1hciA9IHJvb3RbaW5zaWRlXTtcblx0XHRcdFxuXHRcdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikge1xuXHRcdFx0XHRpbnNlcnQgPSBhcmd1bWVudHNbMV07XG5cdFx0XHRcdFxuXHRcdFx0XHRmb3IgKHZhciBuZXdUb2tlbiBpbiBpbnNlcnQpIHtcblx0XHRcdFx0XHRpZiAoaW5zZXJ0Lmhhc093blByb3BlcnR5KG5ld1Rva2VuKSkge1xuXHRcdFx0XHRcdFx0Z3JhbW1hcltuZXdUb2tlbl0gPSBpbnNlcnRbbmV3VG9rZW5dO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0cmV0dXJuIGdyYW1tYXI7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHZhciByZXQgPSB7fTtcblxuXHRcdFx0Zm9yICh2YXIgdG9rZW4gaW4gZ3JhbW1hcikge1xuXG5cdFx0XHRcdGlmIChncmFtbWFyLmhhc093blByb3BlcnR5KHRva2VuKSkge1xuXG5cdFx0XHRcdFx0aWYgKHRva2VuID09IGJlZm9yZSkge1xuXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBuZXdUb2tlbiBpbiBpbnNlcnQpIHtcblxuXHRcdFx0XHRcdFx0XHRpZiAoaW5zZXJ0Lmhhc093blByb3BlcnR5KG5ld1Rva2VuKSkge1xuXHRcdFx0XHRcdFx0XHRcdHJldFtuZXdUb2tlbl0gPSBpbnNlcnRbbmV3VG9rZW5dO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0W3Rva2VuXSA9IGdyYW1tYXJbdG9rZW5dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFVwZGF0ZSByZWZlcmVuY2VzIGluIG90aGVyIGxhbmd1YWdlIGRlZmluaXRpb25zXG5cdFx0XHRfLmxhbmd1YWdlcy5ERlMoXy5sYW5ndWFnZXMsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcblx0XHRcdFx0aWYgKHZhbHVlID09PSByb290W2luc2lkZV0gJiYga2V5ICE9IGluc2lkZSkge1xuXHRcdFx0XHRcdHRoaXNba2V5XSA9IHJldDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiByb290W2luc2lkZV0gPSByZXQ7XG5cdFx0fSxcblxuXHRcdC8vIFRyYXZlcnNlIGEgbGFuZ3VhZ2UgZGVmaW5pdGlvbiB3aXRoIERlcHRoIEZpcnN0IFNlYXJjaFxuXHRcdERGUzogZnVuY3Rpb24obywgY2FsbGJhY2ssIHR5cGUpIHtcblx0XHRcdGZvciAodmFyIGkgaW4gbykge1xuXHRcdFx0XHRpZiAoby5oYXNPd25Qcm9wZXJ0eShpKSkge1xuXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwobywgaSwgb1tpXSwgdHlwZSB8fCBpKTtcblxuXHRcdFx0XHRcdGlmIChfLnV0aWwudHlwZShvW2ldKSA9PT0gJ09iamVjdCcpIHtcblx0XHRcdFx0XHRcdF8ubGFuZ3VhZ2VzLkRGUyhvW2ldLCBjYWxsYmFjayk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKF8udXRpbC50eXBlKG9baV0pID09PSAnQXJyYXknKSB7XG5cdFx0XHRcdFx0XHRfLmxhbmd1YWdlcy5ERlMob1tpXSwgY2FsbGJhY2ssIGkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0cGx1Z2luczoge30sXG5cdFxuXHRoaWdobGlnaHRBbGw6IGZ1bmN0aW9uKGFzeW5jLCBjYWxsYmFjaykge1xuXHRcdHZhciBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2NvZGVbY2xhc3MqPVwibGFuZ3VhZ2UtXCJdLCBbY2xhc3MqPVwibGFuZ3VhZ2UtXCJdIGNvZGUsIGNvZGVbY2xhc3MqPVwibGFuZy1cIl0sIFtjbGFzcyo9XCJsYW5nLVwiXSBjb2RlJyk7XG5cblx0XHRmb3IgKHZhciBpPTAsIGVsZW1lbnQ7IGVsZW1lbnQgPSBlbGVtZW50c1tpKytdOykge1xuXHRcdFx0Xy5oaWdobGlnaHRFbGVtZW50KGVsZW1lbnQsIGFzeW5jID09PSB0cnVlLCBjYWxsYmFjayk7XG5cdFx0fVxuXHR9LFxuXG5cdGhpZ2hsaWdodEVsZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQsIGFzeW5jLCBjYWxsYmFjaykge1xuXHRcdC8vIEZpbmQgbGFuZ3VhZ2Vcblx0XHR2YXIgbGFuZ3VhZ2UsIGdyYW1tYXIsIHBhcmVudCA9IGVsZW1lbnQ7XG5cblx0XHR3aGlsZSAocGFyZW50ICYmICFsYW5nLnRlc3QocGFyZW50LmNsYXNzTmFtZSkpIHtcblx0XHRcdHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuXHRcdH1cblxuXHRcdGlmIChwYXJlbnQpIHtcblx0XHRcdGxhbmd1YWdlID0gKHBhcmVudC5jbGFzc05hbWUubWF0Y2gobGFuZykgfHwgWywnJ10pWzFdO1xuXHRcdFx0Z3JhbW1hciA9IF8ubGFuZ3VhZ2VzW2xhbmd1YWdlXTtcblx0XHR9XG5cblx0XHQvLyBTZXQgbGFuZ3VhZ2Ugb24gdGhlIGVsZW1lbnQsIGlmIG5vdCBwcmVzZW50XG5cdFx0ZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKGxhbmcsICcnKS5yZXBsYWNlKC9cXHMrL2csICcgJykgKyAnIGxhbmd1YWdlLScgKyBsYW5ndWFnZTtcblxuXHRcdC8vIFNldCBsYW5ndWFnZSBvbiB0aGUgcGFyZW50LCBmb3Igc3R5bGluZ1xuXHRcdHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcblxuXHRcdGlmICgvcHJlL2kudGVzdChwYXJlbnQubm9kZU5hbWUpKSB7XG5cdFx0XHRwYXJlbnQuY2xhc3NOYW1lID0gcGFyZW50LmNsYXNzTmFtZS5yZXBsYWNlKGxhbmcsICcnKS5yZXBsYWNlKC9cXHMrL2csICcgJykgKyAnIGxhbmd1YWdlLScgKyBsYW5ndWFnZTtcblx0XHR9XG5cblx0XHR2YXIgY29kZSA9IGVsZW1lbnQudGV4dENvbnRlbnQ7XG5cblx0XHR2YXIgZW52ID0ge1xuXHRcdFx0ZWxlbWVudDogZWxlbWVudCxcblx0XHRcdGxhbmd1YWdlOiBsYW5ndWFnZSxcblx0XHRcdGdyYW1tYXI6IGdyYW1tYXIsXG5cdFx0XHRjb2RlOiBjb2RlXG5cdFx0fTtcblxuXHRcdGlmICghY29kZSB8fCAhZ3JhbW1hcikge1xuXHRcdFx0Xy5ob29rcy5ydW4oJ2NvbXBsZXRlJywgZW52KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRfLmhvb2tzLnJ1bignYmVmb3JlLWhpZ2hsaWdodCcsIGVudik7XG5cblx0XHRpZiAoYXN5bmMgJiYgX3NlbGYuV29ya2VyKSB7XG5cdFx0XHR2YXIgd29ya2VyID0gbmV3IFdvcmtlcihfLmZpbGVuYW1lKTtcblxuXHRcdFx0d29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2dCkge1xuXHRcdFx0XHRlbnYuaGlnaGxpZ2h0ZWRDb2RlID0gZXZ0LmRhdGE7XG5cblx0XHRcdFx0Xy5ob29rcy5ydW4oJ2JlZm9yZS1pbnNlcnQnLCBlbnYpO1xuXG5cdFx0XHRcdGVudi5lbGVtZW50LmlubmVySFRNTCA9IGVudi5oaWdobGlnaHRlZENvZGU7XG5cblx0XHRcdFx0Y2FsbGJhY2sgJiYgY2FsbGJhY2suY2FsbChlbnYuZWxlbWVudCk7XG5cdFx0XHRcdF8uaG9va3MucnVuKCdhZnRlci1oaWdobGlnaHQnLCBlbnYpO1xuXHRcdFx0XHRfLmhvb2tzLnJ1bignY29tcGxldGUnLCBlbnYpO1xuXHRcdFx0fTtcblxuXHRcdFx0d29ya2VyLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0bGFuZ3VhZ2U6IGVudi5sYW5ndWFnZSxcblx0XHRcdFx0Y29kZTogZW52LmNvZGUsXG5cdFx0XHRcdGltbWVkaWF0ZUNsb3NlOiB0cnVlXG5cdFx0XHR9KSk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0ZW52LmhpZ2hsaWdodGVkQ29kZSA9IF8uaGlnaGxpZ2h0KGVudi5jb2RlLCBlbnYuZ3JhbW1hciwgZW52Lmxhbmd1YWdlKTtcblxuXHRcdFx0Xy5ob29rcy5ydW4oJ2JlZm9yZS1pbnNlcnQnLCBlbnYpO1xuXG5cdFx0XHRlbnYuZWxlbWVudC5pbm5lckhUTUwgPSBlbnYuaGlnaGxpZ2h0ZWRDb2RlO1xuXG5cdFx0XHRjYWxsYmFjayAmJiBjYWxsYmFjay5jYWxsKGVsZW1lbnQpO1xuXG5cdFx0XHRfLmhvb2tzLnJ1bignYWZ0ZXItaGlnaGxpZ2h0JywgZW52KTtcblx0XHRcdF8uaG9va3MucnVuKCdjb21wbGV0ZScsIGVudik7XG5cdFx0fVxuXHR9LFxuXG5cdGhpZ2hsaWdodDogZnVuY3Rpb24gKHRleHQsIGdyYW1tYXIsIGxhbmd1YWdlKSB7XG5cdFx0dmFyIHRva2VucyA9IF8udG9rZW5pemUodGV4dCwgZ3JhbW1hcik7XG5cdFx0cmV0dXJuIFRva2VuLnN0cmluZ2lmeShfLnV0aWwuZW5jb2RlKHRva2VucyksIGxhbmd1YWdlKTtcblx0fSxcblxuXHR0b2tlbml6ZTogZnVuY3Rpb24odGV4dCwgZ3JhbW1hciwgbGFuZ3VhZ2UpIHtcblx0XHR2YXIgVG9rZW4gPSBfLlRva2VuO1xuXG5cdFx0dmFyIHN0cmFyciA9IFt0ZXh0XTtcblxuXHRcdHZhciByZXN0ID0gZ3JhbW1hci5yZXN0O1xuXG5cdFx0aWYgKHJlc3QpIHtcblx0XHRcdGZvciAodmFyIHRva2VuIGluIHJlc3QpIHtcblx0XHRcdFx0Z3JhbW1hclt0b2tlbl0gPSByZXN0W3Rva2VuXTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsZXRlIGdyYW1tYXIucmVzdDtcblx0XHR9XG5cblx0XHR0b2tlbmxvb3A6IGZvciAodmFyIHRva2VuIGluIGdyYW1tYXIpIHtcblx0XHRcdGlmKCFncmFtbWFyLmhhc093blByb3BlcnR5KHRva2VuKSB8fCAhZ3JhbW1hclt0b2tlbl0pIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBwYXR0ZXJucyA9IGdyYW1tYXJbdG9rZW5dO1xuXHRcdFx0cGF0dGVybnMgPSAoXy51dGlsLnR5cGUocGF0dGVybnMpID09PSBcIkFycmF5XCIpID8gcGF0dGVybnMgOiBbcGF0dGVybnNdO1xuXG5cdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHBhdHRlcm5zLmxlbmd0aDsgKytqKSB7XG5cdFx0XHRcdHZhciBwYXR0ZXJuID0gcGF0dGVybnNbal0sXG5cdFx0XHRcdFx0aW5zaWRlID0gcGF0dGVybi5pbnNpZGUsXG5cdFx0XHRcdFx0bG9va2JlaGluZCA9ICEhcGF0dGVybi5sb29rYmVoaW5kLFxuXHRcdFx0XHRcdGxvb2tiZWhpbmRMZW5ndGggPSAwLFxuXHRcdFx0XHRcdGFsaWFzID0gcGF0dGVybi5hbGlhcztcblxuXHRcdFx0XHRwYXR0ZXJuID0gcGF0dGVybi5wYXR0ZXJuIHx8IHBhdHRlcm47XG5cblx0XHRcdFx0Zm9yICh2YXIgaT0wOyBpPHN0cmFyci5sZW5ndGg7IGkrKykgeyAvLyBEb27igJl0IGNhY2hlIGxlbmd0aCBhcyBpdCBjaGFuZ2VzIGR1cmluZyB0aGUgbG9vcFxuXG5cdFx0XHRcdFx0dmFyIHN0ciA9IHN0cmFycltpXTtcblxuXHRcdFx0XHRcdGlmIChzdHJhcnIubGVuZ3RoID4gdGV4dC5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdC8vIFNvbWV0aGluZyB3ZW50IHRlcnJpYmx5IHdyb25nLCBBQk9SVCwgQUJPUlQhXG5cdFx0XHRcdFx0XHRicmVhayB0b2tlbmxvb3A7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHN0ciBpbnN0YW5jZW9mIFRva2VuKSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRwYXR0ZXJuLmxhc3RJbmRleCA9IDA7XG5cblx0XHRcdFx0XHR2YXIgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMoc3RyKTtcblxuXHRcdFx0XHRcdGlmIChtYXRjaCkge1xuXHRcdFx0XHRcdFx0aWYobG9va2JlaGluZCkge1xuXHRcdFx0XHRcdFx0XHRsb29rYmVoaW5kTGVuZ3RoID0gbWF0Y2hbMV0ubGVuZ3RoO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR2YXIgZnJvbSA9IG1hdGNoLmluZGV4IC0gMSArIGxvb2tiZWhpbmRMZW5ndGgsXG5cdFx0XHRcdFx0XHRcdG1hdGNoID0gbWF0Y2hbMF0uc2xpY2UobG9va2JlaGluZExlbmd0aCksXG5cdFx0XHRcdFx0XHRcdGxlbiA9IG1hdGNoLmxlbmd0aCxcblx0XHRcdFx0XHRcdFx0dG8gPSBmcm9tICsgbGVuLFxuXHRcdFx0XHRcdFx0XHRiZWZvcmUgPSBzdHIuc2xpY2UoMCwgZnJvbSArIDEpLFxuXHRcdFx0XHRcdFx0XHRhZnRlciA9IHN0ci5zbGljZSh0byArIDEpO1xuXG5cdFx0XHRcdFx0XHR2YXIgYXJncyA9IFtpLCAxXTtcblxuXHRcdFx0XHRcdFx0aWYgKGJlZm9yZSkge1xuXHRcdFx0XHRcdFx0XHRhcmdzLnB1c2goYmVmb3JlKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dmFyIHdyYXBwZWQgPSBuZXcgVG9rZW4odG9rZW4sIGluc2lkZT8gXy50b2tlbml6ZShtYXRjaCwgaW5zaWRlKSA6IG1hdGNoLCBhbGlhcyk7XG5cblx0XHRcdFx0XHRcdGFyZ3MucHVzaCh3cmFwcGVkKTtcblxuXHRcdFx0XHRcdFx0aWYgKGFmdGVyKSB7XG5cdFx0XHRcdFx0XHRcdGFyZ3MucHVzaChhZnRlcik7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoc3RyYXJyLCBhcmdzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gc3RyYXJyO1xuXHR9LFxuXG5cdGhvb2tzOiB7XG5cdFx0YWxsOiB7fSxcblxuXHRcdGFkZDogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrKSB7XG5cdFx0XHR2YXIgaG9va3MgPSBfLmhvb2tzLmFsbDtcblxuXHRcdFx0aG9va3NbbmFtZV0gPSBob29rc1tuYW1lXSB8fCBbXTtcblxuXHRcdFx0aG9va3NbbmFtZV0ucHVzaChjYWxsYmFjayk7XG5cdFx0fSxcblxuXHRcdHJ1bjogZnVuY3Rpb24gKG5hbWUsIGVudikge1xuXHRcdFx0dmFyIGNhbGxiYWNrcyA9IF8uaG9va3MuYWxsW25hbWVdO1xuXG5cdFx0XHRpZiAoIWNhbGxiYWNrcyB8fCAhY2FsbGJhY2tzLmxlbmd0aCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGZvciAodmFyIGk9MCwgY2FsbGJhY2s7IGNhbGxiYWNrID0gY2FsbGJhY2tzW2krK107KSB7XG5cdFx0XHRcdGNhbGxiYWNrKGVudik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59O1xuXG52YXIgVG9rZW4gPSBfLlRva2VuID0gZnVuY3Rpb24odHlwZSwgY29udGVudCwgYWxpYXMpIHtcblx0dGhpcy50eXBlID0gdHlwZTtcblx0dGhpcy5jb250ZW50ID0gY29udGVudDtcblx0dGhpcy5hbGlhcyA9IGFsaWFzO1xufTtcblxuVG9rZW4uc3RyaW5naWZ5ID0gZnVuY3Rpb24obywgbGFuZ3VhZ2UsIHBhcmVudCkge1xuXHRpZiAodHlwZW9mIG8gPT0gJ3N0cmluZycpIHtcblx0XHRyZXR1cm4gbztcblx0fVxuXG5cdGlmIChfLnV0aWwudHlwZShvKSA9PT0gJ0FycmF5Jykge1xuXHRcdHJldHVybiBvLm1hcChmdW5jdGlvbihlbGVtZW50KSB7XG5cdFx0XHRyZXR1cm4gVG9rZW4uc3RyaW5naWZ5KGVsZW1lbnQsIGxhbmd1YWdlLCBvKTtcblx0XHR9KS5qb2luKCcnKTtcblx0fVxuXG5cdHZhciBlbnYgPSB7XG5cdFx0dHlwZTogby50eXBlLFxuXHRcdGNvbnRlbnQ6IFRva2VuLnN0cmluZ2lmeShvLmNvbnRlbnQsIGxhbmd1YWdlLCBwYXJlbnQpLFxuXHRcdHRhZzogJ3NwYW4nLFxuXHRcdGNsYXNzZXM6IFsndG9rZW4nLCBvLnR5cGVdLFxuXHRcdGF0dHJpYnV0ZXM6IHt9LFxuXHRcdGxhbmd1YWdlOiBsYW5ndWFnZSxcblx0XHRwYXJlbnQ6IHBhcmVudFxuXHR9O1xuXG5cdGlmIChlbnYudHlwZSA9PSAnY29tbWVudCcpIHtcblx0XHRlbnYuYXR0cmlidXRlc1snc3BlbGxjaGVjayddID0gJ3RydWUnO1xuXHR9XG5cblx0aWYgKG8uYWxpYXMpIHtcblx0XHR2YXIgYWxpYXNlcyA9IF8udXRpbC50eXBlKG8uYWxpYXMpID09PSAnQXJyYXknID8gby5hbGlhcyA6IFtvLmFsaWFzXTtcblx0XHRBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShlbnYuY2xhc3NlcywgYWxpYXNlcyk7XG5cdH1cblxuXHRfLmhvb2tzLnJ1bignd3JhcCcsIGVudik7XG5cblx0dmFyIGF0dHJpYnV0ZXMgPSAnJztcblxuXHRmb3IgKHZhciBuYW1lIGluIGVudi5hdHRyaWJ1dGVzKSB7XG5cdFx0YXR0cmlidXRlcyArPSAoYXR0cmlidXRlcyA/ICcgJyA6ICcnKSArIG5hbWUgKyAnPVwiJyArIChlbnYuYXR0cmlidXRlc1tuYW1lXSB8fCAnJykgKyAnXCInO1xuXHR9XG5cblx0cmV0dXJuICc8JyArIGVudi50YWcgKyAnIGNsYXNzPVwiJyArIGVudi5jbGFzc2VzLmpvaW4oJyAnKSArICdcIiAnICsgYXR0cmlidXRlcyArICc+JyArIGVudi5jb250ZW50ICsgJzwvJyArIGVudi50YWcgKyAnPic7XG5cbn07XG5cbmlmICghX3NlbGYuZG9jdW1lbnQpIHtcblx0aWYgKCFfc2VsZi5hZGRFdmVudExpc3RlbmVyKSB7XG5cdFx0Ly8gaW4gTm9kZS5qc1xuXHRcdHJldHVybiBfc2VsZi5QcmlzbTtcblx0fVxuIFx0Ly8gSW4gd29ya2VyXG5cdF9zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbihldnQpIHtcblx0XHR2YXIgbWVzc2FnZSA9IEpTT04ucGFyc2UoZXZ0LmRhdGEpLFxuXHRcdCAgICBsYW5nID0gbWVzc2FnZS5sYW5ndWFnZSxcblx0XHQgICAgY29kZSA9IG1lc3NhZ2UuY29kZSxcblx0XHQgICAgaW1tZWRpYXRlQ2xvc2UgPSBtZXNzYWdlLmltbWVkaWF0ZUNsb3NlO1xuXG5cdFx0X3NlbGYucG9zdE1lc3NhZ2UoXy5oaWdobGlnaHQoY29kZSwgXy5sYW5ndWFnZXNbbGFuZ10sIGxhbmcpKTtcblx0XHRpZiAoaW1tZWRpYXRlQ2xvc2UpIHtcblx0XHRcdF9zZWxmLmNsb3NlKCk7XG5cdFx0fVxuXHR9LCBmYWxzZSk7XG5cblx0cmV0dXJuIF9zZWxmLlByaXNtO1xufVxuXG4vLyBHZXQgY3VycmVudCBzY3JpcHQgYW5kIGhpZ2hsaWdodFxudmFyIHNjcmlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcblxuc2NyaXB0ID0gc2NyaXB0W3NjcmlwdC5sZW5ndGggLSAxXTtcblxuaWYgKHNjcmlwdCkge1xuXHRfLmZpbGVuYW1lID0gc2NyaXB0LnNyYztcblxuXHRpZiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciAmJiAhc2NyaXB0Lmhhc0F0dHJpYnV0ZSgnZGF0YS1tYW51YWwnKSkge1xuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBfLmhpZ2hsaWdodEFsbCk7XG5cdH1cbn1cblxucmV0dXJuIF9zZWxmLlByaXNtO1xuXG59KSgpO1xuXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0bW9kdWxlLmV4cG9ydHMgPSBQcmlzbTtcbn1cblxuLy8gaGFjayBmb3IgY29tcG9uZW50cyB0byB3b3JrIGNvcnJlY3RseSBpbiBub2RlLmpzXG5pZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0Z2xvYmFsLlByaXNtID0gUHJpc207XG59XG5cblxuLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICBCZWdpbiBwcmlzbS1tYXJrdXAuanNcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblxuUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cCA9IHtcblx0J2NvbW1lbnQnOiAvPCEtLVtcXHdcXFddKj8tLT4vLFxuXHQncHJvbG9nJzogLzxcXD9bXFx3XFxXXSs/XFw/Pi8sXG5cdCdkb2N0eXBlJzogLzwhRE9DVFlQRVtcXHdcXFddKz8+Lyxcblx0J2NkYXRhJzogLzwhXFxbQ0RBVEFcXFtbXFx3XFxXXSo/XV0+L2ksXG5cdCd0YWcnOiB7XG5cdFx0cGF0dGVybjogLzxcXC8/KD8hXFxkKVteXFxzPlxcLz0uJDxdKyg/OlxccytbXlxccz5cXC89XSsoPzo9KD86KFwifCcpKD86XFxcXFxcMXxcXFxcPyg/IVxcMSlbXFx3XFxXXSkqXFwxfFteXFxzJ1wiPj1dKykpPykqXFxzKlxcLz8+L2ksXG5cdFx0aW5zaWRlOiB7XG5cdFx0XHQndGFnJzoge1xuXHRcdFx0XHRwYXR0ZXJuOiAvXjxcXC8/W15cXHM+XFwvXSsvaSxcblx0XHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdFx0J3B1bmN0dWF0aW9uJzogL148XFwvPy8sXG5cdFx0XHRcdFx0J25hbWVzcGFjZSc6IC9eW15cXHM+XFwvOl0rOi9cblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdCdhdHRyLXZhbHVlJzoge1xuXHRcdFx0XHRwYXR0ZXJuOiAvPSg/OignfFwiKVtcXHdcXFddKj8oXFwxKXxbXlxccz5dKykvaSxcblx0XHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdFx0J3B1bmN0dWF0aW9uJzogL1s9PlwiJ10vXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHQncHVuY3R1YXRpb24nOiAvXFwvPz4vLFxuXHRcdFx0J2F0dHItbmFtZSc6IHtcblx0XHRcdFx0cGF0dGVybjogL1teXFxzPlxcL10rLyxcblx0XHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdFx0J25hbWVzcGFjZSc6IC9eW15cXHM+XFwvOl0rOi9cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0fVxuXHR9LFxuXHQnZW50aXR5JzogLyYjP1tcXGRhLXpdezEsOH07L2lcbn07XG5cbi8vIFBsdWdpbiB0byBtYWtlIGVudGl0eSB0aXRsZSBzaG93IHRoZSByZWFsIGVudGl0eSwgaWRlYSBieSBSb21hbiBLb21hcm92XG5QcmlzbS5ob29rcy5hZGQoJ3dyYXAnLCBmdW5jdGlvbihlbnYpIHtcblxuXHRpZiAoZW52LnR5cGUgPT09ICdlbnRpdHknKSB7XG5cdFx0ZW52LmF0dHJpYnV0ZXNbJ3RpdGxlJ10gPSBlbnYuY29udGVudC5yZXBsYWNlKC8mYW1wOy8sICcmJyk7XG5cdH1cbn0pO1xuXG5QcmlzbS5sYW5ndWFnZXMueG1sID0gUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cDtcblByaXNtLmxhbmd1YWdlcy5odG1sID0gUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cDtcblByaXNtLmxhbmd1YWdlcy5tYXRobWwgPSBQcmlzbS5sYW5ndWFnZXMubWFya3VwO1xuUHJpc20ubGFuZ3VhZ2VzLnN2ZyA9IFByaXNtLmxhbmd1YWdlcy5tYXJrdXA7XG5cblxuLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICBCZWdpbiBwcmlzbS1jc3MuanNcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cblxuUHJpc20ubGFuZ3VhZ2VzLmNzcyA9IHtcblx0J2NvbW1lbnQnOiAvXFwvXFwqW1xcd1xcV10qP1xcKlxcLy8sXG5cdCdhdHJ1bGUnOiB7XG5cdFx0cGF0dGVybjogL0BbXFx3LV0rPy4qPyg7fCg/PVxccypcXHspKS9pLFxuXHRcdGluc2lkZToge1xuXHRcdFx0J3J1bGUnOiAvQFtcXHctXSsvXG5cdFx0XHQvLyBTZWUgcmVzdCBiZWxvd1xuXHRcdH1cblx0fSxcblx0J3VybCc6IC91cmxcXCgoPzooW1wiJ10pKFxcXFwoPzpcXHJcXG58W1xcd1xcV10pfCg/IVxcMSlbXlxcXFxcXHJcXG5dKSpcXDF8Lio/KVxcKS9pLFxuXHQnc2VsZWN0b3InOiAvW15cXHtcXH1cXHNdW15cXHtcXH07XSo/KD89XFxzKlxceykvLFxuXHQnc3RyaW5nJzogLyhcInwnKShcXFxcKD86XFxyXFxufFtcXHdcXFddKXwoPyFcXDEpW15cXFxcXFxyXFxuXSkqXFwxLyxcblx0J3Byb3BlcnR5JzogLyhcXGJ8XFxCKVtcXHctXSsoPz1cXHMqOikvaSxcblx0J2ltcG9ydGFudCc6IC9cXEIhaW1wb3J0YW50XFxiL2ksXG5cdCdmdW5jdGlvbic6IC9bLWEtejAtOV0rKD89XFwoKS9pLFxuXHQncHVuY3R1YXRpb24nOiAvWygpe307Ol0vXG59O1xuXG5QcmlzbS5sYW5ndWFnZXMuY3NzWydhdHJ1bGUnXS5pbnNpZGUucmVzdCA9IFByaXNtLnV0aWwuY2xvbmUoUHJpc20ubGFuZ3VhZ2VzLmNzcyk7XG5cbmlmIChQcmlzbS5sYW5ndWFnZXMubWFya3VwKSB7XG5cdFByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ21hcmt1cCcsICd0YWcnLCB7XG5cdFx0J3N0eWxlJzoge1xuXHRcdFx0cGF0dGVybjogLyg8c3R5bGVbXFx3XFxXXSo/PilbXFx3XFxXXSo/KD89PFxcL3N0eWxlPikvaSxcblx0XHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0XHRpbnNpZGU6IFByaXNtLmxhbmd1YWdlcy5jc3MsXG5cdFx0XHRhbGlhczogJ2xhbmd1YWdlLWNzcydcblx0XHR9XG5cdH0pO1xuXHRcblx0UHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnaW5zaWRlJywgJ2F0dHItdmFsdWUnLCB7XG5cdFx0J3N0eWxlLWF0dHInOiB7XG5cdFx0XHRwYXR0ZXJuOiAvXFxzKnN0eWxlPShcInwnKS4qP1xcMS9pLFxuXHRcdFx0aW5zaWRlOiB7XG5cdFx0XHRcdCdhdHRyLW5hbWUnOiB7XG5cdFx0XHRcdFx0cGF0dGVybjogL15cXHMqc3R5bGUvaSxcblx0XHRcdFx0XHRpbnNpZGU6IFByaXNtLmxhbmd1YWdlcy5tYXJrdXAudGFnLmluc2lkZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQncHVuY3R1YXRpb24nOiAvXlxccyo9XFxzKlsnXCJdfFsnXCJdXFxzKiQvLFxuXHRcdFx0XHQnYXR0ci12YWx1ZSc6IHtcblx0XHRcdFx0XHRwYXR0ZXJuOiAvLisvaSxcblx0XHRcdFx0XHRpbnNpZGU6IFByaXNtLmxhbmd1YWdlcy5jc3Ncblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGFsaWFzOiAnbGFuZ3VhZ2UtY3NzJ1xuXHRcdH1cblx0fSwgUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cC50YWcpO1xufVxuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgIEJlZ2luIHByaXNtLWNsaWtlLmpzXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cblByaXNtLmxhbmd1YWdlcy5jbGlrZSA9IHtcblx0J2NvbW1lbnQnOiBbXG5cdFx0e1xuXHRcdFx0cGF0dGVybjogLyhefFteXFxcXF0pXFwvXFwqW1xcd1xcV10qP1xcKlxcLy8sXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRwYXR0ZXJuOiAvKF58W15cXFxcOl0pXFwvXFwvLiovLFxuXHRcdFx0bG9va2JlaGluZDogdHJ1ZVxuXHRcdH1cblx0XSxcblx0J3N0cmluZyc6IC8oW1wiJ10pKFxcXFwoPzpcXHJcXG58W1xcc1xcU10pfCg/IVxcMSlbXlxcXFxcXHJcXG5dKSpcXDEvLFxuXHQnY2xhc3MtbmFtZSc6IHtcblx0XHRwYXR0ZXJuOiAvKCg/OlxcYig/OmNsYXNzfGludGVyZmFjZXxleHRlbmRzfGltcGxlbWVudHN8dHJhaXR8aW5zdGFuY2VvZnxuZXcpXFxzKyl8KD86Y2F0Y2hcXHMrXFwoKSlbYS16MC05X1xcLlxcXFxdKy9pLFxuXHRcdGxvb2tiZWhpbmQ6IHRydWUsXG5cdFx0aW5zaWRlOiB7XG5cdFx0XHRwdW5jdHVhdGlvbjogLyhcXC58XFxcXCkvXG5cdFx0fVxuXHR9LFxuXHQna2V5d29yZCc6IC9cXGIoaWZ8ZWxzZXx3aGlsZXxkb3xmb3J8cmV0dXJufGlufGluc3RhbmNlb2Z8ZnVuY3Rpb258bmV3fHRyeXx0aHJvd3xjYXRjaHxmaW5hbGx5fG51bGx8YnJlYWt8Y29udGludWUpXFxiLyxcblx0J2Jvb2xlYW4nOiAvXFxiKHRydWV8ZmFsc2UpXFxiLyxcblx0J2Z1bmN0aW9uJzogL1thLXowLTlfXSsoPz1cXCgpL2ksXG5cdCdudW1iZXInOiAvXFxiLT8oPzoweFtcXGRhLWZdK3xcXGQqXFwuP1xcZCsoPzplWystXT9cXGQrKT8pXFxiL2ksXG5cdCdvcGVyYXRvcic6IC8tLT98XFwrXFwrP3whPT89P3w8PT98Pj0/fD09Pz0/fCYmP3xcXHxcXHw/fFxcP3xcXCp8XFwvfH58XFxefCUvLFxuXHQncHVuY3R1YXRpb24nOiAvW3t9W1xcXTsoKSwuOl0vXG59O1xuXG5cbi8qICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgQmVnaW4gcHJpc20tamF2YXNjcmlwdC5qc1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXG5QcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdCA9IFByaXNtLmxhbmd1YWdlcy5leHRlbmQoJ2NsaWtlJywge1xuXHQna2V5d29yZCc6IC9cXGIoYXN8YXN5bmN8YXdhaXR8YnJlYWt8Y2FzZXxjYXRjaHxjbGFzc3xjb25zdHxjb250aW51ZXxkZWJ1Z2dlcnxkZWZhdWx0fGRlbGV0ZXxkb3xlbHNlfGVudW18ZXhwb3J0fGV4dGVuZHN8ZmluYWxseXxmb3J8ZnJvbXxmdW5jdGlvbnxnZXR8aWZ8aW1wbGVtZW50c3xpbXBvcnR8aW58aW5zdGFuY2VvZnxpbnRlcmZhY2V8bGV0fG5ld3xudWxsfG9mfHBhY2thZ2V8cHJpdmF0ZXxwcm90ZWN0ZWR8cHVibGljfHJldHVybnxzZXR8c3RhdGljfHN1cGVyfHN3aXRjaHx0aGlzfHRocm93fHRyeXx0eXBlb2Z8dmFyfHZvaWR8d2hpbGV8d2l0aHx5aWVsZClcXGIvLFxuXHQnbnVtYmVyJzogL1xcYi0/KDB4W1xcZEEtRmEtZl0rfDBiWzAxXSt8MG9bMC03XSt8XFxkKlxcLj9cXGQrKFtFZV1bKy1dP1xcZCspP3xOYU58SW5maW5pdHkpXFxiLyxcblx0Ly8gQWxsb3cgZm9yIGFsbCBub24tQVNDSUkgY2hhcmFjdGVycyAoU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIwMDg0NDQpXG5cdCdmdW5jdGlvbic6IC9bXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVtfJGEtekEtWjAtOVxceEEwLVxcdUZGRkZdKig/PVxcKCkvaVxufSk7XG5cblByaXNtLmxhbmd1YWdlcy5pbnNlcnRCZWZvcmUoJ2phdmFzY3JpcHQnLCAna2V5d29yZCcsIHtcblx0J3JlZ2V4Jzoge1xuXHRcdHBhdHRlcm46IC8oXnxbXi9dKVxcLyg/IVxcLykoXFxbLis/XXxcXFxcLnxbXi9cXFxcXFxyXFxuXSkrXFwvW2dpbXl1XXswLDV9KD89XFxzKigkfFtcXHJcXG4sLjt9KV0pKS8sXG5cdFx0bG9va2JlaGluZDogdHJ1ZVxuXHR9XG59KTtcblxuUHJpc20ubGFuZ3VhZ2VzLmluc2VydEJlZm9yZSgnamF2YXNjcmlwdCcsICdjbGFzcy1uYW1lJywge1xuXHQndGVtcGxhdGUtc3RyaW5nJzoge1xuXHRcdHBhdHRlcm46IC9gKD86XFxcXGB8XFxcXD9bXmBdKSpgLyxcblx0XHRpbnNpZGU6IHtcblx0XHRcdCdpbnRlcnBvbGF0aW9uJzoge1xuXHRcdFx0XHRwYXR0ZXJuOiAvXFwkXFx7W159XStcXH0vLFxuXHRcdFx0XHRpbnNpZGU6IHtcblx0XHRcdFx0XHQnaW50ZXJwb2xhdGlvbi1wdW5jdHVhdGlvbic6IHtcblx0XHRcdFx0XHRcdHBhdHRlcm46IC9eXFwkXFx7fFxcfSQvLFxuXHRcdFx0XHRcdFx0YWxpYXM6ICdwdW5jdHVhdGlvbidcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHJlc3Q6IFByaXNtLmxhbmd1YWdlcy5qYXZhc2NyaXB0XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHQnc3RyaW5nJzogL1tcXHNcXFNdKy9cblx0XHR9XG5cdH1cbn0pO1xuXG5pZiAoUHJpc20ubGFuZ3VhZ2VzLm1hcmt1cCkge1xuXHRQcmlzbS5sYW5ndWFnZXMuaW5zZXJ0QmVmb3JlKCdtYXJrdXAnLCAndGFnJywge1xuXHRcdCdzY3JpcHQnOiB7XG5cdFx0XHRwYXR0ZXJuOiAvKDxzY3JpcHRbXFx3XFxXXSo/PilbXFx3XFxXXSo/KD89PFxcL3NjcmlwdD4pL2ksXG5cdFx0XHRsb29rYmVoaW5kOiB0cnVlLFxuXHRcdFx0aW5zaWRlOiBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdCxcblx0XHRcdGFsaWFzOiAnbGFuZ3VhZ2UtamF2YXNjcmlwdCdcblx0XHR9XG5cdH0pO1xufVxuXG5QcmlzbS5sYW5ndWFnZXMuanMgPSBQcmlzbS5sYW5ndWFnZXMuamF2YXNjcmlwdDtcblxuLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICBCZWdpbiBwcmlzbS1maWxlLWhpZ2hsaWdodC5qc1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHRpZiAodHlwZW9mIHNlbGYgPT09ICd1bmRlZmluZWQnIHx8ICFzZWxmLlByaXNtIHx8ICFzZWxmLmRvY3VtZW50IHx8ICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0c2VsZi5QcmlzbS5maWxlSGlnaGxpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgRXh0ZW5zaW9ucyA9IHtcblx0XHRcdCdqcyc6ICdqYXZhc2NyaXB0Jyxcblx0XHRcdCdodG1sJzogJ21hcmt1cCcsXG5cdFx0XHQnc3ZnJzogJ21hcmt1cCcsXG5cdFx0XHQneG1sJzogJ21hcmt1cCcsXG5cdFx0XHQncHknOiAncHl0aG9uJyxcblx0XHRcdCdyYic6ICdydWJ5Jyxcblx0XHRcdCdwczEnOiAncG93ZXJzaGVsbCcsXG5cdFx0XHQncHNtMSc6ICdwb3dlcnNoZWxsJ1xuXHRcdH07XG5cblx0XHRpZihBcnJheS5wcm90b3R5cGUuZm9yRWFjaCkgeyAvLyBDaGVjayB0byBwcmV2ZW50IGVycm9yIGluIElFOFxuXHRcdFx0QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgncHJlW2RhdGEtc3JjXScpKS5mb3JFYWNoKGZ1bmN0aW9uIChwcmUpIHtcblx0XHRcdFx0dmFyIHNyYyA9IHByZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJyk7XG5cblx0XHRcdFx0dmFyIGxhbmd1YWdlLCBwYXJlbnQgPSBwcmU7XG5cdFx0XHRcdHZhciBsYW5nID0gL1xcYmxhbmcoPzp1YWdlKT8tKD8hXFwqKShcXHcrKVxcYi9pO1xuXHRcdFx0XHR3aGlsZSAocGFyZW50ICYmICFsYW5nLnRlc3QocGFyZW50LmNsYXNzTmFtZSkpIHtcblx0XHRcdFx0XHRwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChwYXJlbnQpIHtcblx0XHRcdFx0XHRsYW5ndWFnZSA9IChwcmUuY2xhc3NOYW1lLm1hdGNoKGxhbmcpIHx8IFssICcnXSlbMV07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIWxhbmd1YWdlKSB7XG5cdFx0XHRcdFx0dmFyIGV4dGVuc2lvbiA9IChzcmMubWF0Y2goL1xcLihcXHcrKSQvKSB8fCBbLCAnJ10pWzFdO1xuXHRcdFx0XHRcdGxhbmd1YWdlID0gRXh0ZW5zaW9uc1tleHRlbnNpb25dIHx8IGV4dGVuc2lvbjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciBjb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY29kZScpO1xuXHRcdFx0XHRjb2RlLmNsYXNzTmFtZSA9ICdsYW5ndWFnZS0nICsgbGFuZ3VhZ2U7XG5cblx0XHRcdFx0cHJlLnRleHRDb250ZW50ID0gJyc7XG5cblx0XHRcdFx0Y29kZS50ZXh0Q29udGVudCA9ICdMb2FkaW5n4oCmJztcblxuXHRcdFx0XHRwcmUuYXBwZW5kQ2hpbGQoY29kZSk7XG5cblx0XHRcdFx0dmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG5cdFx0XHRcdHhoci5vcGVuKCdHRVQnLCBzcmMsIHRydWUpO1xuXG5cdFx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0aWYgKHhoci5yZWFkeVN0YXRlID09IDQpIHtcblxuXHRcdFx0XHRcdFx0aWYgKHhoci5zdGF0dXMgPCA0MDAgJiYgeGhyLnJlc3BvbnNlVGV4dCkge1xuXHRcdFx0XHRcdFx0XHRjb2RlLnRleHRDb250ZW50ID0geGhyLnJlc3BvbnNlVGV4dDtcblxuXHRcdFx0XHRcdFx0XHRQcmlzbS5oaWdobGlnaHRFbGVtZW50KGNvZGUpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZSBpZiAoeGhyLnN0YXR1cyA+PSA0MDApIHtcblx0XHRcdFx0XHRcdFx0Y29kZS50ZXh0Q29udGVudCA9ICfinJYgRXJyb3IgJyArIHhoci5zdGF0dXMgKyAnIHdoaWxlIGZldGNoaW5nIGZpbGU6ICcgKyB4aHIuc3RhdHVzVGV4dDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjb2RlLnRleHRDb250ZW50ID0gJ+KcliBFcnJvcjogRmlsZSBkb2VzIG5vdCBleGlzdCBvciBpcyBlbXB0eSc7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdHhoci5zZW5kKG51bGwpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdH07XG5cblx0c2VsZi5QcmlzbS5maWxlSGlnaGxpZ2h0KCk7XG5cbn0pKCk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wcmlzbWpzL3ByaXNtLmpzXG4gKiogbW9kdWxlIGlkID0gMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGZyb20gPSBmdW5jdGlvbihvcHRzLCBwbHVnaW5zKSB7XG4gIHZhciBwYXJlbnQgPSAob3B0cy5wYXJlbnQgfHwgb3B0cykubm9kZVR5cGUgPT09IDEgPyAob3B0cy5wYXJlbnQgfHwgb3B0cykgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdHMucGFyZW50IHx8IG9wdHMpLFxuICAgIHNsaWRlcyA9IFtdLmZpbHRlci5jYWxsKHR5cGVvZiBvcHRzLnNsaWRlcyA9PT0gJ3N0cmluZycgPyBwYXJlbnQucXVlcnlTZWxlY3RvckFsbChvcHRzLnNsaWRlcykgOiAob3B0cy5zbGlkZXMgfHwgcGFyZW50LmNoaWxkcmVuKSwgZnVuY3Rpb24oZWwpIHsgcmV0dXJuIGVsLm5vZGVOYW1lICE9PSAnU0NSSVBUJzsgfSksXG4gICAgYWN0aXZlU2xpZGUgPSBzbGlkZXNbMF0sXG4gICAgbGlzdGVuZXJzID0ge30sXG5cbiAgICBhY3RpdmF0ZSA9IGZ1bmN0aW9uKGluZGV4LCBjdXN0b21EYXRhKSB7XG4gICAgICBpZiAoIXNsaWRlc1tpbmRleF0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBmaXJlKCdkZWFjdGl2YXRlJywgY3JlYXRlRXZlbnREYXRhKGFjdGl2ZVNsaWRlLCBjdXN0b21EYXRhKSk7XG4gICAgICBhY3RpdmVTbGlkZSA9IHNsaWRlc1tpbmRleF07XG4gICAgICBmaXJlKCdhY3RpdmF0ZScsIGNyZWF0ZUV2ZW50RGF0YShhY3RpdmVTbGlkZSwgY3VzdG9tRGF0YSkpO1xuICAgIH0sXG5cbiAgICBzbGlkZSA9IGZ1bmN0aW9uKGluZGV4LCBjdXN0b21EYXRhKSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICBmaXJlKCdzbGlkZScsIGNyZWF0ZUV2ZW50RGF0YShzbGlkZXNbaW5kZXhdLCBjdXN0b21EYXRhKSkgJiYgYWN0aXZhdGUoaW5kZXgsIGN1c3RvbURhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNsaWRlcy5pbmRleE9mKGFjdGl2ZVNsaWRlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RlcCA9IGZ1bmN0aW9uKG9mZnNldCwgY3VzdG9tRGF0YSkge1xuICAgICAgdmFyIHNsaWRlSW5kZXggPSBzbGlkZXMuaW5kZXhPZihhY3RpdmVTbGlkZSkgKyBvZmZzZXQ7XG5cbiAgICAgIGZpcmUob2Zmc2V0ID4gMCA/ICduZXh0JyA6ICdwcmV2JywgY3JlYXRlRXZlbnREYXRhKGFjdGl2ZVNsaWRlLCBjdXN0b21EYXRhKSkgJiYgYWN0aXZhdGUoc2xpZGVJbmRleCwgY3VzdG9tRGF0YSk7XG4gICAgfSxcblxuICAgIG9uID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgKGxpc3RlbmVyc1tldmVudE5hbWVdIHx8IChsaXN0ZW5lcnNbZXZlbnROYW1lXSA9IFtdKSkucHVzaChjYWxsYmFjayk7XG4gICAgICByZXR1cm4gb2ZmLmJpbmQobnVsbCwgZXZlbnROYW1lLCBjYWxsYmFjayk7XG4gICAgfSxcblxuICAgIG9mZiA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgIGxpc3RlbmVyc1tldmVudE5hbWVdID0gKGxpc3RlbmVyc1tldmVudE5hbWVdIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24obGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyICE9PSBjYWxsYmFjazsgfSk7XG4gICAgfSxcblxuICAgIGZpcmUgPSBmdW5jdGlvbihldmVudE5hbWUsIGV2ZW50RGF0YSkge1xuICAgICAgcmV0dXJuIChsaXN0ZW5lcnNbZXZlbnROYW1lXSB8fCBbXSlcbiAgICAgICAgLnJlZHVjZShmdW5jdGlvbihub3RDYW5jZWxsZWQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuIG5vdENhbmNlbGxlZCAmJiBjYWxsYmFjayhldmVudERhdGEpICE9PSBmYWxzZTtcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfSxcblxuICAgIGNyZWF0ZUV2ZW50RGF0YSA9IGZ1bmN0aW9uKGVsLCBldmVudERhdGEpIHtcbiAgICAgIGV2ZW50RGF0YSA9IGV2ZW50RGF0YSB8fCB7fTtcbiAgICAgIGV2ZW50RGF0YS5pbmRleCA9IHNsaWRlcy5pbmRleE9mKGVsKTtcbiAgICAgIGV2ZW50RGF0YS5zbGlkZSA9IGVsO1xuICAgICAgcmV0dXJuIGV2ZW50RGF0YTtcbiAgICB9LFxuXG4gICAgZGVjayA9IHtcbiAgICAgIG9uOiBvbixcbiAgICAgIG9mZjogb2ZmLFxuICAgICAgZmlyZTogZmlyZSxcbiAgICAgIHNsaWRlOiBzbGlkZSxcbiAgICAgIG5leHQ6IHN0ZXAuYmluZChudWxsLCAxKSxcbiAgICAgIHByZXY6IHN0ZXAuYmluZChudWxsLCAtMSksXG4gICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgIHNsaWRlczogc2xpZGVzXG4gICAgfTtcblxuICAocGx1Z2lucyB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pIHtcbiAgICBwbHVnaW4oZGVjayk7XG4gIH0pO1xuXG4gIGFjdGl2YXRlKDApO1xuXG4gIHJldHVybiBkZWNrO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGZyb206IGZyb21cbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iZXNwb2tlL2xpYi9iZXNwb2tlLmpzXG4gKiogbW9kdWxlIGlkID0gMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyohXG4gKiBiZXNwb2tlLXRoZW1lLW5lYnVsYSB2MS4wLjFcbiAqXG4gKiBDb3B5cmlnaHQgMjAxNCwgTWFyayBEYWxnbGVpc2hcbiAqIFRoaXMgY29udGVudCBpcyByZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIFxuICovXG5cbiFmdW5jdGlvbihlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKGUpO2Vsc2V7dmFyIG87XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz9vPXdpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP289Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiYobz1zZWxmKTt2YXIgZj1vO2Y9Zi5iZXNwb2tlfHwoZi5iZXNwb2tlPXt9KSxmPWYudGhlbWVzfHwoZi50aGVtZXM9e30pLGYubmVidWxhPWUoKX19KGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuXG52YXIgY2xhc3NlcyA9IF9kZXJlcV8oJ2Jlc3Bva2UtY2xhc3NlcycpO1xudmFyIGluc2VydENzcyA9IF9kZXJlcV8oJ2luc2VydC1jc3MnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNzcyA9IFwiLyohIG5vcm1hbGl6ZS5jc3MgdjMuMC4wIHwgTUlUIExpY2Vuc2UgfCBnaXQuaW8vbm9ybWFsaXplICovaHRtbHtmb250LWZhbWlseTpzYW5zLXNlcmlmOy1tcy10ZXh0LXNpemUtYWRqdXN0OjEwMCU7LXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OjEwMCV9Ym9keXttYXJnaW46MH1hcnRpY2xlLGFzaWRlLGRldGFpbHMsZmlnY2FwdGlvbixmaWd1cmUsZm9vdGVyLGhlYWRlcixoZ3JvdXAsbWFpbixuYXYsc2VjdGlvbixzdW1tYXJ5e2Rpc3BsYXk6YmxvY2t9YXVkaW8sY2FudmFzLHByb2dyZXNzLHZpZGVve2Rpc3BsYXk6aW5saW5lLWJsb2NrO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfWF1ZGlvOm5vdChbY29udHJvbHNdKXtkaXNwbGF5Om5vbmU7aGVpZ2h0OjB9W2hpZGRlbl0sdGVtcGxhdGV7ZGlzcGxheTpub25lfWF7YmFja2dyb3VuZDowIDB9YTphY3RpdmUsYTpob3ZlcntvdXRsaW5lOjB9YWJiclt0aXRsZV17Ym9yZGVyLWJvdHRvbToxcHggZG90dGVkfWJ7Zm9udC13ZWlnaHQ6NzAwfWRmbntmb250LXN0eWxlOml0YWxpY31oMXtmb250LXNpemU6MmVtfW1hcmt7YmFja2dyb3VuZDojZmYwO2NvbG9yOiMwMDB9c21hbGx7Zm9udC1zaXplOjgwJX1zdWIsc3Vwe2ZvbnQtc2l6ZTo3NSU7bGluZS1oZWlnaHQ6MDtwb3NpdGlvbjpyZWxhdGl2ZTt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZX1zdXB7dG9wOi0uNWVtfXN1Yntib3R0b206LS4yNWVtfWltZ3tib3JkZXI6MH1zdmc6bm90KDpyb290KXtvdmVyZmxvdzpoaWRkZW59ZmlndXJle21hcmdpbjoxZW0gNDBweH1ocntib3gtc2l6aW5nOmNvbnRlbnQtYm94fXByZXtvdmVyZmxvdzphdXRvfWNvZGUsa2JkLHByZSxzYW1we2ZvbnQtc2l6ZToxZW19a2JkLHByZSxzYW1we2ZvbnQtZmFtaWx5Om1vbm9zcGFjZSxtb25vc3BhY2V9YnV0dG9uLGlucHV0LG9wdGdyb3VwLHNlbGVjdCx0ZXh0YXJlYXtjb2xvcjppbmhlcml0O2ZvbnQ6aW5oZXJpdDttYXJnaW46MH1idXR0b257b3ZlcmZsb3c6dmlzaWJsZX1idXR0b24sc2VsZWN0e3RleHQtdHJhbnNmb3JtOm5vbmV9YnV0dG9uLGh0bWwgaW5wdXRbdHlwZT1cXFwiYnV0dG9uXFxcIl0saW5wdXRbdHlwZT1cXFwicmVzZXRcXFwiXSxpbnB1dFt0eXBlPVxcXCJzdWJtaXRcXFwiXXstd2Via2l0LWFwcGVhcmFuY2U6YnV0dG9uO2N1cnNvcjpwb2ludGVyfWJ1dHRvbltkaXNhYmxlZF0saHRtbCBpbnB1dFtkaXNhYmxlZF17Y3Vyc29yOmRlZmF1bHR9YnV0dG9uOjotbW96LWZvY3VzLWlubmVyLGlucHV0OjotbW96LWZvY3VzLWlubmVye2JvcmRlcjowO3BhZGRpbmc6MH1pbnB1dHtsaW5lLWhlaWdodDpub3JtYWx9aW5wdXRbdHlwZT1cXFwiY2hlY2tib3hcXFwiXSxpbnB1dFt0eXBlPVxcXCJyYWRpb1xcXCJde2JveC1zaXppbmc6Ym9yZGVyLWJveDtwYWRkaW5nOjB9aW5wdXRbdHlwZT1cXFwibnVtYmVyXFxcIl06Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24saW5wdXRbdHlwZT1cXFwibnVtYmVyXFxcIl06Oi13ZWJraXQtb3V0ZXItc3Bpbi1idXR0b257aGVpZ2h0OmF1dG99aW5wdXRbdHlwZT1cXFwic2VhcmNoXFxcIl17LXdlYmtpdC1hcHBlYXJhbmNlOnRleHRmaWVsZDtib3gtc2l6aW5nOmNvbnRlbnQtYm94fWlucHV0W3R5cGU9XFxcInNlYXJjaFxcXCJdOjotd2Via2l0LXNlYXJjaC1jYW5jZWwtYnV0dG9uLGlucHV0W3R5cGU9XFxcInNlYXJjaFxcXCJdOjotd2Via2l0LXNlYXJjaC1kZWNvcmF0aW9uey13ZWJraXQtYXBwZWFyYW5jZTpub25lfWZpZWxkc2V0e2JvcmRlcjoxcHggc29saWQgc2lsdmVyO21hcmdpbjowIDJweDtwYWRkaW5nOi4zNWVtIC42MjVlbSAuNzVlbX1sZWdlbmR7Ym9yZGVyOjA7cGFkZGluZzowfXRleHRhcmVhe292ZXJmbG93OmF1dG99b3B0Z3JvdXB7Zm9udC13ZWlnaHQ6NzAwfXRhYmxle2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtib3JkZXItc3BhY2luZzowfXRkLHRoLCp7cGFkZGluZzowfSp7bWFyZ2luOjB9aHRtbHstd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6YXV0bzstbXMtdGV4dC1zaXplLWFkanVzdDphdXRvO3RleHQtc2l6ZS1hZGp1c3Q6YXV0b30uYmVzcG9rZS1wYXJlbnR7Zm9udC1zaXplOjEuNWVtO2JhY2tncm91bmQ6IzExMTtjb2xvcjojZGRkO2ZvbnQtZmFtaWx5OmZ1dHVyYSxoZWx2ZXRpY2EsYXJpYWwsYXJpYWwsc2Fucy1zZXJpZjtvdmVyZmxvdzpoaWRkZW47dGV4dC1hbGlnbjpjZW50ZXI7LXdlYmtpdC10cmFuc2l0aW9uOmJhY2tncm91bmQgMXMgZWFzZTt0cmFuc2l0aW9uOmJhY2tncm91bmQgMXMgZWFzZTtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJSA1MCV9LmJlc3Bva2UtcGFyZW50LC5iZXNwb2tlLXNjYWxlLXBhcmVudHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MH0uYmVzcG9rZS1zY2FsZS1wYXJlbnR7cG9pbnRlci1ldmVudHM6bm9uZTt6LWluZGV4OjF9LmJlc3Bva2Utc2NhbGUtcGFyZW50IC5iZXNwb2tlLWFjdGl2ZXtwb2ludGVyLWV2ZW50czphdXRvfS5iZXNwb2tlLXNsaWRley13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC41cyBlYXNlO3RyYW5zaXRpb246b3BhY2l0eSAuNXMgZWFzZTt3aWR0aDo5NDBweDtoZWlnaHQ6NDgwcHg7cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwJTtsZWZ0OjUwJTttYXJnaW4tbGVmdDotNDcwcHg7bWFyZ2luLXRvcDotMjQwcHg7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi13ZWJraXQtZmxleDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1vcmllbnQ6dmVydGljYWw7LXdlYmtpdC1ib3gtZGlyZWN0aW9uOm5vcm1hbDstd2Via2l0LWZsZXgtZGlyZWN0aW9uOmNvbHVtbjstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjstd2Via2l0LWJveC1wYWNrOmNlbnRlcjstd2Via2l0LWp1c3RpZnktY29udGVudDpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LXdlYmtpdC1hbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjt6LWluZGV4OjF9LmJlc3Bva2UtYWN0aXZley13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTouNXM7dHJhbnNpdGlvbi1kZWxheTouNXN9LmJlc3Bva2UtYWN0aXZlW2RhdGEtYmVzcG9rZS1iYWNrZHJvcF17LXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5Oi43NXM7dHJhbnNpdGlvbi1kZWxheTouNzVzfS5iZXNwb2tlLWluYWN0aXZle29wYWNpdHk6MDtwb2ludGVyLWV2ZW50czpub25lfS5iZXNwb2tlLWJhY2tkcm9wey13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDFzIGVhc2U7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOjB9LmJlc3Bva2UtcHJvZ3Jlc3MtcGFyZW50e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtyaWdodDowO2hlaWdodDouM3Z3O3otaW5kZXg6MX0uYmVzcG9rZS1wcm9ncmVzcy1iYXJ7YmFja2dyb3VuZDojZGRkO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtoZWlnaHQ6MTAwJTstd2Via2l0LXRyYW5zaXRpb246d2lkdGggMXMgZWFzZTt0cmFuc2l0aW9uOndpZHRoIDFzIGVhc2V9LmJlc3Bva2UtYnVsbGV0ey13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC4zcyBlYXNlO3RyYW5zaXRpb246b3BhY2l0eSAuM3MgZWFzZX0uYmVzcG9rZS1idWxsZXQtaW5hY3RpdmV7b3BhY2l0eTowfXN0cm9uZ3tmb250LXdlaWdodDo0MDB9aHJ7d2lkdGg6NTAlO21hcmdpbjoxcmVtIGF1dG87aGVpZ2h0OjFweDtib3JkZXI6MDtiYWNrZ3JvdW5kOiNkZGR9aDMscCxsaXtwYWRkaW5nLWxlZnQ6MjBweDtwYWRkaW5nLXJpZ2h0OjIwcHh9aDMsaDQscCxsaSxwcmV7Zm9udC13ZWlnaHQ6MjAwfWgxe2xpbmUtaGVpZ2h0OjEuNGVtO3BhZGRpbmc6MWVtO2JvcmRlcjoxcHggc29saWQgI2RkZDtib3JkZXItbGVmdC13aWR0aDowO2JvcmRlci1yaWdodC13aWR0aDowO21pbi13aWR0aDo4ZW19aDEsaDJ7bGV0dGVyLXNwYWNpbmc6LjNlbTt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7Zm9udC13ZWlnaHQ6NDAwO21hcmdpbjouMTdlbSAwO3Bvc2l0aW9uOnJlbGF0aXZlfWgye2xpbmUtaGVpZ2h0OjEuMWVtO3BhZGRpbmc6MCAwIDAgLjNlbX1oM3tmb250LWZhbWlseTpkaWRvdCx0aW1lcyBuZXcgcm9tYW4sc2VyaWY7Zm9udC1zdHlsZTppdGFsaWM7Zm9udC1zaXplOjEuMmVtO2xpbmUtaGVpZ2h0OjEuNmVtO21hcmdpbjouNWVtIDB9aDR7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO2ZvbnQtc2l6ZTouOGVtO2xpbmUtaGVpZ2h0OjEuOGVtO2xldHRlci1zcGFjaW5nOi4zZW07bWFyZ2luOjFlbSAwfXVsLG9se3BhZGRpbmc6MDttYXJnaW46MDt0ZXh0LWFsaWduOmxlZnR9bGl7bGlzdC1zdHlsZTpub25lO21hcmdpbjouMmVtO2ZvbnQtc3R5bGU6bm9ybWFsOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTZweCk7LW1zLXRyYW5zZm9ybTp0cmFuc2xhdGVYKC02cHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC02cHgpfWxpOmJlZm9yZXtjb250ZW50OidcXFxcMjAxNCc7bWFyZ2luLXJpZ2h0OjRweH1wcmV7YmFja2dyb3VuZDpub25lIWltcG9ydGFudH1jb2Rle2ZvbnQtZmFtaWx5OnByZXN0aWdlIGVsaXRlIHN0ZCxjb25zb2xhcyxjb3VyaWVyIG5ldyxtb25vc3BhY2UhaW1wb3J0YW50O2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0OjIwMCFpbXBvcnRhbnQ7dGV4dC1hbGlnbjpsZWZ0fWF7cGFkZGluZy1sZWZ0Oi4zZW07Y29sb3I6Y3VycmVudENvbG9yO3RleHQtZGVjb3JhdGlvbjpub25lO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIGN1cnJlbnRDb2xvcn0uZW1waGF0aWN7YmFja2dyb3VuZDojZjMwfS5zaW5nbGUtd29yZHN7d29yZC1zcGFjaW5nOjk5OTlweDtsaW5lLWhlaWdodDoyLjllbTtvdmVyZmxvdzpoaWRkZW59LmJlc3Bva2UtYmFja2Ryb3B7b3BhY2l0eTowOy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDFzIGVhc2UsLXdlYmtpdC10cmFuc2Zvcm0gNnMgZWFzZTt0cmFuc2l0aW9uOm9wYWNpdHkgMXMgZWFzZSx0cmFuc2Zvcm0gNnMgZWFzZTtiYWNrZ3JvdW5kLXNpemU6Y292ZXI7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCUgNTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMClzY2FsZSgxLjMpO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApc2NhbGUoMS4zKX0uYmVzcG9rZS1iYWNrZHJvcC1hY3RpdmUsLmJlc3Bva2UtYmFja2Ryb3AtYmVmb3Jley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCl9LmJlc3Bva2UtYmFja2Ryb3AtYmVmb3Jley13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTouMnM7dHJhbnNpdGlvbi1kZWxheTouMnN9LmJlc3Bva2UtYmFja2Ryb3AtYWN0aXZle29wYWNpdHk6LjV9XCI7XG4gIGluc2VydENzcyhjc3MsIHsgcHJlcGVuZDogdHJ1ZSB9KTtcblxuICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuICAgIGNsYXNzZXMoKShkZWNrKTtcbiAgfTtcbn07XG5cbn0se1wiYmVzcG9rZS1jbGFzc2VzXCI6MixcImluc2VydC1jc3NcIjozfV0sMjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuICAgIHZhciBhZGRDbGFzcyA9IGZ1bmN0aW9uKGVsLCBjbHMpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS0nICsgY2xzKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlbW92ZUNsYXNzID0gZnVuY3Rpb24oZWwsIGNscykge1xuICAgICAgICBlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWVcbiAgICAgICAgICAucmVwbGFjZShuZXcgUmVnRXhwKCdiZXNwb2tlLScgKyBjbHMgKycoXFxcXHN8JCknLCAnZycpLCAnICcpXG4gICAgICAgICAgLnRyaW0oKTtcbiAgICAgIH0sXG5cbiAgICAgIGRlYWN0aXZhdGUgPSBmdW5jdGlvbihlbCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGFjdGl2ZVNsaWRlID0gZGVjay5zbGlkZXNbZGVjay5zbGlkZSgpXSxcbiAgICAgICAgICBvZmZzZXQgPSBpbmRleCAtIGRlY2suc2xpZGUoKSxcbiAgICAgICAgICBvZmZzZXRDbGFzcyA9IG9mZnNldCA+IDAgPyAnYWZ0ZXInIDogJ2JlZm9yZSc7XG5cbiAgICAgICAgWydiZWZvcmUoLVxcXFxkKyk/JywgJ2FmdGVyKC1cXFxcZCspPycsICdhY3RpdmUnLCAnaW5hY3RpdmUnXS5tYXAocmVtb3ZlQ2xhc3MuYmluZChudWxsLCBlbCkpO1xuXG4gICAgICAgIGlmIChlbCAhPT0gYWN0aXZlU2xpZGUpIHtcbiAgICAgICAgICBbJ2luYWN0aXZlJywgb2Zmc2V0Q2xhc3MsIG9mZnNldENsYXNzICsgJy0nICsgTWF0aC5hYnMob2Zmc2V0KV0ubWFwKGFkZENsYXNzLmJpbmQobnVsbCwgZWwpKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGFkZENsYXNzKGRlY2sucGFyZW50LCAncGFyZW50Jyk7XG4gICAgZGVjay5zbGlkZXMubWFwKGZ1bmN0aW9uKGVsKSB7IGFkZENsYXNzKGVsLCAnc2xpZGUnKTsgfSk7XG5cbiAgICBkZWNrLm9uKCdhY3RpdmF0ZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGRlY2suc2xpZGVzLm1hcChkZWFjdGl2YXRlKTtcbiAgICAgIGFkZENsYXNzKGUuc2xpZGUsICdhY3RpdmUnKTtcbiAgICAgIHJlbW92ZUNsYXNzKGUuc2xpZGUsICdpbmFjdGl2ZScpO1xuICAgIH0pO1xuICB9O1xufTtcblxufSx7fV0sMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgaW5zZXJ0ZWQgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzLCBvcHRpb25zKSB7XG4gICAgaWYgKGluc2VydGVkW2Nzc10pIHJldHVybjtcbiAgICBpbnNlcnRlZFtjc3NdID0gdHJ1ZTtcbiAgICBcbiAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9jc3MnKTtcblxuICAgIGlmICgndGV4dENvbnRlbnQnIGluIGVsZW0pIHtcbiAgICAgIGVsZW0udGV4dENvbnRlbnQgPSBjc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW0uc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICAgIH1cbiAgICBcbiAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5wcmVwZW5kKSB7XG4gICAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKGVsZW0sIGhlYWQuY2hpbGROb2Rlc1swXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICB9XG59O1xuXG59LHt9XX0se30sWzFdKVxuKDEpXG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iZXNwb2tlLXRoZW1lLW5lYnVsYS9kaXN0L2Jlc3Bva2UtdGhlbWUtbmVidWxhLmpzXG4gKiogbW9kdWxlIGlkID0gM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIGlzSG9yaXpvbnRhbCA9IG9wdGlvbnMgIT09ICd2ZXJ0aWNhbCc7XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUud2hpY2ggPT0gMzQgfHwgLy8gUEFHRSBET1dOXG4gICAgICAgIChlLndoaWNoID09IDMyICYmICFlLnNoaWZ0S2V5KSB8fCAvLyBTUEFDRSBXSVRIT1VUIFNISUZUXG4gICAgICAgIChpc0hvcml6b250YWwgJiYgZS53aGljaCA9PSAzOSkgfHwgLy8gUklHSFRcbiAgICAgICAgKCFpc0hvcml6b250YWwgJiYgZS53aGljaCA9PSA0MCkgLy8gRE9XTlxuICAgICAgKSB7IGRlY2submV4dCgpOyB9XG5cbiAgICAgIGlmIChlLndoaWNoID09IDMzIHx8IC8vIFBBR0UgVVBcbiAgICAgICAgKGUud2hpY2ggPT0gMzIgJiYgZS5zaGlmdEtleSkgfHwgLy8gU1BBQ0UgKyBTSElGVFxuICAgICAgICAoaXNIb3Jpem9udGFsICYmIGUud2hpY2ggPT0gMzcpIHx8IC8vIExFRlRcbiAgICAgICAgKCFpc0hvcml6b250YWwgJiYgZS53aGljaCA9PSAzOCkgLy8gVVBcbiAgICAgICkgeyBkZWNrLnByZXYoKTsgfVxuICAgIH0pO1xuICB9O1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Jlc3Bva2Uta2V5cy9saWIvYmVzcG9rZS1rZXlzLmpzXG4gKiogbW9kdWxlIGlkID0gNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIGF4aXMgPSBvcHRpb25zID09ICd2ZXJ0aWNhbCcgPyAnWScgOiAnWCcsXG4gICAgICBzdGFydFBvc2l0aW9uLFxuICAgICAgZGVsdGE7XG5cbiAgICBkZWNrLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUudG91Y2hlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICBzdGFydFBvc2l0aW9uID0gZS50b3VjaGVzWzBdWydwYWdlJyArIGF4aXNdO1xuICAgICAgICBkZWx0YSA9IDA7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZWNrLnBhcmVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZGVsdGEgPSBlLnRvdWNoZXNbMF1bJ3BhZ2UnICsgYXhpc10gLSBzdGFydFBvc2l0aW9uO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVjay5wYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChNYXRoLmFicyhkZWx0YSkgPiA1MCkge1xuICAgICAgICBkZWNrW2RlbHRhID4gMCA/ICdwcmV2JyA6ICduZXh0J10oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iZXNwb2tlLXRvdWNoL2xpYi9iZXNwb2tlLXRvdWNoLmpzXG4gKiogbW9kdWxlIGlkID0gNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHJldHVybiBmdW5jdGlvbihkZWNrKSB7XG4gICAgdmFyIGFjdGl2ZVNsaWRlSW5kZXgsXG4gICAgICBhY3RpdmVCdWxsZXRJbmRleCxcblxuICAgICAgYnVsbGV0cyA9IGRlY2suc2xpZGVzLm1hcChmdW5jdGlvbihzbGlkZSkge1xuICAgICAgICByZXR1cm4gW10uc2xpY2UuY2FsbChzbGlkZS5xdWVyeVNlbGVjdG9yQWxsKCh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycgPyBvcHRpb25zIDogJ1tkYXRhLWJlc3Bva2UtYnVsbGV0XScpKSwgMCk7XG4gICAgICB9KSxcblxuICAgICAgbmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbmV4dFNsaWRlSW5kZXggPSBhY3RpdmVTbGlkZUluZGV4ICsgMTtcblxuICAgICAgICBpZiAoYWN0aXZlU2xpZGVIYXNCdWxsZXRCeU9mZnNldCgxKSkge1xuICAgICAgICAgIGFjdGl2YXRlQnVsbGV0KGFjdGl2ZVNsaWRlSW5kZXgsIGFjdGl2ZUJ1bGxldEluZGV4ICsgMSk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1bGxldHNbbmV4dFNsaWRlSW5kZXhdKSB7XG4gICAgICAgICAgYWN0aXZhdGVCdWxsZXQobmV4dFNsaWRlSW5kZXgsIDApO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBwcmV2ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwcmV2U2xpZGVJbmRleCA9IGFjdGl2ZVNsaWRlSW5kZXggLSAxO1xuXG4gICAgICAgIGlmIChhY3RpdmVTbGlkZUhhc0J1bGxldEJ5T2Zmc2V0KC0xKSkge1xuICAgICAgICAgIGFjdGl2YXRlQnVsbGV0KGFjdGl2ZVNsaWRlSW5kZXgsIGFjdGl2ZUJ1bGxldEluZGV4IC0gMSk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1bGxldHNbcHJldlNsaWRlSW5kZXhdKSB7XG4gICAgICAgICAgYWN0aXZhdGVCdWxsZXQocHJldlNsaWRlSW5kZXgsIGJ1bGxldHNbcHJldlNsaWRlSW5kZXhdLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBhY3RpdmF0ZUJ1bGxldCA9IGZ1bmN0aW9uKHNsaWRlSW5kZXgsIGJ1bGxldEluZGV4KSB7XG4gICAgICAgIGFjdGl2ZVNsaWRlSW5kZXggPSBzbGlkZUluZGV4O1xuICAgICAgICBhY3RpdmVCdWxsZXRJbmRleCA9IGJ1bGxldEluZGV4O1xuXG4gICAgICAgIGJ1bGxldHMuZm9yRWFjaChmdW5jdGlvbihzbGlkZSwgcykge1xuICAgICAgICAgIHNsaWRlLmZvckVhY2goZnVuY3Rpb24oYnVsbGV0LCBiKSB7XG4gICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1idWxsZXQnKTtcblxuICAgICAgICAgICAgaWYgKHMgPCBzbGlkZUluZGV4IHx8IHMgPT09IHNsaWRlSW5kZXggJiYgYiA8PSBidWxsZXRJbmRleCkge1xuICAgICAgICAgICAgICBidWxsZXQuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1idWxsZXQtYWN0aXZlJyk7XG4gICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QucmVtb3ZlKCdiZXNwb2tlLWJ1bGxldC1pbmFjdGl2ZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYnVsbGV0LWluYWN0aXZlJyk7XG4gICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QucmVtb3ZlKCdiZXNwb2tlLWJ1bGxldC1hY3RpdmUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHMgPT09IHNsaWRlSW5kZXggJiYgYiA9PT0gYnVsbGV0SW5kZXgpIHtcbiAgICAgICAgICAgICAgYnVsbGV0LmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYnVsbGV0LWN1cnJlbnQnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJ1bGxldC5jbGFzc0xpc3QucmVtb3ZlKCdiZXNwb2tlLWJ1bGxldC1jdXJyZW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgYWN0aXZlU2xpZGVIYXNCdWxsZXRCeU9mZnNldCA9IGZ1bmN0aW9uKG9mZnNldCkge1xuICAgICAgICByZXR1cm4gYnVsbGV0c1thY3RpdmVTbGlkZUluZGV4XVthY3RpdmVCdWxsZXRJbmRleCArIG9mZnNldF0gIT09IHVuZGVmaW5lZDtcbiAgICAgIH07XG5cbiAgICBkZWNrLm9uKCduZXh0JywgbmV4dCk7XG4gICAgZGVjay5vbigncHJldicsIHByZXYpO1xuXG4gICAgZGVjay5vbignc2xpZGUnLCBmdW5jdGlvbihlKSB7XG4gICAgICBhY3RpdmF0ZUJ1bGxldChlLmluZGV4LCAwKTtcbiAgICB9KTtcblxuICAgIGFjdGl2YXRlQnVsbGV0KDAsIDApO1xuICB9O1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Jlc3Bva2UtYnVsbGV0cy9saWIvYmVzcG9rZS1idWxsZXRzLmpzXG4gKiogbW9kdWxlIGlkID0gNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGRlY2spIHtcbiAgICB2YXIgYmFja2Ryb3BzO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFja2Ryb3BGb3JTbGlkZShzbGlkZSkge1xuICAgICAgdmFyIGJhY2tkcm9wQXR0cmlidXRlID0gc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWJlc3Bva2UtYmFja2Ryb3AnKTtcblxuICAgICAgaWYgKGJhY2tkcm9wQXR0cmlidXRlKSB7XG4gICAgICAgIHZhciBiYWNrZHJvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBiYWNrZHJvcC5jbGFzc05hbWUgPSBiYWNrZHJvcEF0dHJpYnV0ZTtcbiAgICAgICAgYmFja2Ryb3AuY2xhc3NMaXN0LmFkZCgnYmVzcG9rZS1iYWNrZHJvcCcpO1xuICAgICAgICBkZWNrLnBhcmVudC5hcHBlbmRDaGlsZChiYWNrZHJvcCk7XG4gICAgICAgIHJldHVybiBiYWNrZHJvcDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVDbGFzc2VzKGVsKSB7XG4gICAgICBpZiAoZWwpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFja2Ryb3BzLmluZGV4T2YoZWwpLFxuICAgICAgICAgIGN1cnJlbnRJbmRleCA9IGRlY2suc2xpZGUoKTtcblxuICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2FjdGl2ZScpO1xuICAgICAgICByZW1vdmVDbGFzcyhlbCwgJ2luYWN0aXZlJyk7XG4gICAgICAgIHJlbW92ZUNsYXNzKGVsLCAnYmVmb3JlJyk7XG4gICAgICAgIHJlbW92ZUNsYXNzKGVsLCAnYWZ0ZXInKTtcblxuICAgICAgICBpZiAoaW5kZXggIT09IGN1cnJlbnRJbmRleCkge1xuICAgICAgICAgIGFkZENsYXNzKGVsLCAnaW5hY3RpdmUnKTtcbiAgICAgICAgICBhZGRDbGFzcyhlbCwgaW5kZXggPCBjdXJyZW50SW5kZXggPyAnYmVmb3JlJyA6ICdhZnRlcicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFkZENsYXNzKGVsLCAnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdiZXNwb2tlLWJhY2tkcm9wLScgKyBjbGFzc05hbWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZENsYXNzKGVsLCBjbGFzc05hbWUpIHtcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2Jlc3Bva2UtYmFja2Ryb3AtJyArIGNsYXNzTmFtZSk7XG4gICAgfVxuXG4gICAgYmFja2Ryb3BzID0gZGVjay5zbGlkZXNcbiAgICAgIC5tYXAoY3JlYXRlQmFja2Ryb3BGb3JTbGlkZSk7XG5cbiAgICBkZWNrLm9uKCdhY3RpdmF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgYmFja2Ryb3BzLmZvckVhY2godXBkYXRlQ2xhc3Nlcyk7XG4gICAgfSk7XG4gIH07XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmVzcG9rZS1iYWNrZHJvcC9saWIvYmVzcG9rZS1iYWNrZHJvcC5qc1xuICoqIG1vZHVsZSBpZCA9IDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuICAgIHZhciBwYXJlbnQgPSBkZWNrLnBhcmVudCxcbiAgICAgIGZpcnN0U2xpZGUgPSBkZWNrLnNsaWRlc1swXSxcbiAgICAgIHNsaWRlSGVpZ2h0ID0gZmlyc3RTbGlkZS5vZmZzZXRIZWlnaHQsXG4gICAgICBzbGlkZVdpZHRoID0gZmlyc3RTbGlkZS5vZmZzZXRXaWR0aCxcbiAgICAgIHVzZVpvb20gPSBvcHRpb25zID09PSAnem9vbScgfHwgKCd6b29tJyBpbiBwYXJlbnQuc3R5bGUgJiYgb3B0aW9ucyAhPT0gJ3RyYW5zZm9ybScpLFxuXG4gICAgICB3cmFwID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB3cmFwcGVyLmNsYXNzTmFtZSA9ICdiZXNwb2tlLXNjYWxlLXBhcmVudCc7XG4gICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3JhcHBlciwgZWxlbWVudCk7XG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgICAgfSxcblxuICAgICAgZWxlbWVudHMgPSB1c2Vab29tID8gZGVjay5zbGlkZXMgOiBkZWNrLnNsaWRlcy5tYXAod3JhcCksXG5cbiAgICAgIHRyYW5zZm9ybVByb3BlcnR5ID0gKGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICAgIHZhciBwcmVmaXhlcyA9ICdNb3ogV2Via2l0IE8gbXMnLnNwbGl0KCcgJyk7XG4gICAgICAgIHJldHVybiBwcmVmaXhlcy5yZWR1Y2UoZnVuY3Rpb24oY3VycmVudFByb3BlcnR5LCBwcmVmaXgpIHtcbiAgICAgICAgICAgIHJldHVybiBwcmVmaXggKyBwcm9wZXJ0eSBpbiBwYXJlbnQuc3R5bGUgPyBwcmVmaXggKyBwcm9wZXJ0eSA6IGN1cnJlbnRQcm9wZXJ0eTtcbiAgICAgICAgICB9LCBwcm9wZXJ0eS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIH0oJ1RyYW5zZm9ybScpKSxcblxuICAgICAgc2NhbGUgPSB1c2Vab29tID9cbiAgICAgICAgZnVuY3Rpb24ocmF0aW8sIGVsZW1lbnQpIHtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlLnpvb20gPSByYXRpbztcbiAgICAgICAgfSA6XG4gICAgICAgIGZ1bmN0aW9uKHJhdGlvLCBlbGVtZW50KSB7XG4gICAgICAgICAgZWxlbWVudC5zdHlsZVt0cmFuc2Zvcm1Qcm9wZXJ0eV0gPSAnc2NhbGUoJyArIHJhdGlvICsgJyknO1xuICAgICAgICB9LFxuXG4gICAgICBzY2FsZUFsbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgeFNjYWxlID0gcGFyZW50Lm9mZnNldFdpZHRoIC8gc2xpZGVXaWR0aCxcbiAgICAgICAgICB5U2NhbGUgPSBwYXJlbnQub2Zmc2V0SGVpZ2h0IC8gc2xpZGVIZWlnaHQ7XG5cbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaChzY2FsZS5iaW5kKG51bGwsIE1hdGgubWluKHhTY2FsZSwgeVNjYWxlKSkpO1xuICAgICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzY2FsZUFsbCk7XG4gICAgc2NhbGVBbGwoKTtcbiAgfTtcblxufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Jlc3Bva2Utc2NhbGUvbGliL2Jlc3Bva2Utc2NhbGUuanNcbiAqKiBtb2R1bGUgaWQgPSA4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZnVuY3Rpb24oZGVjaykge1xuICAgIHZhciBwYXJzZUhhc2ggPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSksXG4gICAgICAgIHNsaWRlTnVtYmVyT3JOYW1lID0gcGFyc2VJbnQoaGFzaCwgMTApO1xuXG4gICAgICBpZiAoaGFzaCkge1xuICAgICAgICBpZiAoc2xpZGVOdW1iZXJPck5hbWUpIHtcbiAgICAgICAgICBhY3RpdmF0ZVNsaWRlKHNsaWRlTnVtYmVyT3JOYW1lIC0gMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVjay5zbGlkZXMuZm9yRWFjaChmdW5jdGlvbihzbGlkZSwgaSkge1xuICAgICAgICAgICAgaWYgKHNsaWRlLmdldEF0dHJpYnV0ZSgnZGF0YS1iZXNwb2tlLWhhc2gnKSA9PT0gaGFzaCkge1xuICAgICAgICAgICAgICBhY3RpdmF0ZVNsaWRlKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciBhY3RpdmF0ZVNsaWRlID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgIHZhciBpbmRleFRvQWN0aXZhdGUgPSAtMSA8IGluZGV4ICYmIGluZGV4IDwgZGVjay5zbGlkZXMubGVuZ3RoID8gaW5kZXggOiAwO1xuICAgICAgaWYgKGluZGV4VG9BY3RpdmF0ZSAhPT0gZGVjay5zbGlkZSgpKSB7XG4gICAgICAgIGRlY2suc2xpZGUoaW5kZXhUb0FjdGl2YXRlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHBhcnNlSGFzaCgpO1xuXG4gICAgICBkZWNrLm9uKCdhY3RpdmF0ZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHNsaWRlTmFtZSA9IGUuc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWJlc3Bva2UtaGFzaCcpO1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHNsaWRlTmFtZSB8fCBlLmluZGV4ICsgMTtcbiAgICAgIH0pO1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHBhcnNlSGFzaCk7XG4gICAgfSwgMCk7XG4gIH07XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmVzcG9rZS1oYXNoL2xpYi9iZXNwb2tlLWhhc2guanNcbiAqKiBtb2R1bGUgaWQgPSA5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChkZWNrKSB7XG4gICAgdmFyIHByb2dyZXNzUGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICBwcm9ncmVzc0JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgcHJvcCA9IG9wdGlvbnMgPT09ICd2ZXJ0aWNhbCcgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cbiAgICBwcm9ncmVzc1BhcmVudC5jbGFzc05hbWUgPSAnYmVzcG9rZS1wcm9ncmVzcy1wYXJlbnQnO1xuICAgIHByb2dyZXNzQmFyLmNsYXNzTmFtZSA9ICdiZXNwb2tlLXByb2dyZXNzLWJhcic7XG4gICAgcHJvZ3Jlc3NQYXJlbnQuYXBwZW5kQ2hpbGQocHJvZ3Jlc3NCYXIpO1xuICAgIGRlY2sucGFyZW50LmFwcGVuZENoaWxkKHByb2dyZXNzUGFyZW50KTtcblxuICAgIGRlY2sub24oJ2FjdGl2YXRlJywgZnVuY3Rpb24oZSkge1xuICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGVbcHJvcF0gPSAoZS5pbmRleCAqIDEwMCAvIChkZWNrLnNsaWRlcy5sZW5ndGggLSAxKSkgKyAnJSc7XG4gICAgfSk7XG4gIH07XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmVzcG9rZS1wcm9ncmVzcy9saWIvYmVzcG9rZS1wcm9ncmVzcy5qc1xuICoqIG1vZHVsZSBpZCA9IDEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKmdsb2JhbCBtb2R1bGU6dHJ1ZSwgcmVxdWlyZTp0cnVlICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgcGx1Z2luTmFtZSA9IFwiaW5kZXhmaW5nZXJcIixcbiAgICAvLyBIYWNrIHRvIGdldCBhcm91bmQgaGF2aW5nIHRvIHdyaXRlIGFsbCBicm93c2VyIGNvZGUgd2l0aCByZXF1aXJlKCkuXG4gICAgYnJvd3Nlckdsb2JhbCA9IChmdW5jdGlvbihmKSB7XG4gICAgICAgIHJldHVybiBmKFwicmV0dXJuIHRoaXNcIikoKTtcbiAgICB9KEZ1bmN0aW9uKSksXG4gICAgY29udmVuaWVudCA9ICgoYnJvd3Nlckdsb2JhbC5iZXNwb2tlICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zLmNvbnZlbmllbnQpIHx8IHJlcXVpcmUoXCJiZXNwb2tlLWNvbnZlbmllbnRcIikpLFxuICAgIGN2ID0gY29udmVuaWVudC5idWlsZGVyKHBsdWdpbk5hbWUpLFxuXG4gICAgcGx1Z2luID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgZGVja2VyID0gZnVuY3Rpb24oZGVjaykge1xuICAgICAgICAgICAgdmFyIGN2Qm91bmRUb0RlY2sgPSBjdi5hY3RpdmF0ZURlY2soZGVjayksXG5cbiAgICAgICAgICAgICAgICBvZmYgPSB7fSxcblxuICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlID0gbnVsbCxcblxuICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlSW5kZXggPSAtMSxcblxuICAgICAgICAgICAgICAgIHVuYm91bmRBY3RpdmVTbGlkZURlY2tNZXRob2RzID0ge1xuICAgICAgICAgICAgICAgICAgICAvLyBQbHVnaW4gZnVuY3Rpb25zIGV4cGVjdCB0byBiZSBleGVjdXRlZCBpbiBhIGRlY2sgY29udGV4dFxuICAgICAgICAgICAgICAgICAgICBlbmFibGVBY3RpdmVTbGlkZUxpc3RlbmVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZi5zYXZlQWN0aXZlU2xpZGUgPSB0aGlzLm9uKFwiYWN0aXZhdGVcIiwgdW5ib3VuZEFjdGl2ZVNsaWRlRGVja01ldGhvZHMuc2F2ZUFjdGl2ZVNsaWRlLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIHNhdmVBY3RpdmVTbGlkZTogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlU2xpZGUgPSBlLnNsaWRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlU2xpZGVJbmRleCA9IGUuaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZ2V0QWN0aXZlU2xpZGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZVNsaWRlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGdldEFjdGl2ZVNsaWRlSW5kZXg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZVNsaWRlSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJEZWNrRXh0ZW5zaW9ucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBkZWNrLmdldEFjdGl2ZVNsaWRlID0gdW5ib3VuZEFjdGl2ZVNsaWRlRGVja01ldGhvZHMuZ2V0QWN0aXZlU2xpZGUuYmluZChkZWNrKTtcbiAgICAgICAgICAgICAgICAgICAgZGVjay5nZXRBY3RpdmVTbGlkZUluZGV4ID0gdW5ib3VuZEFjdGl2ZVNsaWRlRGVja01ldGhvZHMuZ2V0QWN0aXZlU2xpZGVJbmRleC5iaW5kKGRlY2spO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBlbmFibGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdW5ib3VuZEFjdGl2ZVNsaWRlRGVja01ldGhvZHMuZW5hYmxlQWN0aXZlU2xpZGVMaXN0ZW5lci5jYWxsKGRlY2spO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBpbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyRGVja0V4dGVuc2lvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaW5pdCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkZWNrZXI7XG4gICAgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBwbHVnaW47XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iZXNwb2tlLWluZGV4ZmluZ2VyL2xpYi9iZXNwb2tlLWluZGV4ZmluZ2VyLmpzXG4gKiogbW9kdWxlIGlkID0gMTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qZ2xvYmFsIG1vZHVsZTp0cnVlLCBjb25zb2xlOnRydWUgKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBwbHVnaW5OYW1lID0gXCJjb252ZW5pZW50XCIsXG4gICAgYnJvd3Nlckdsb2JhbCA9IChmdW5jdGlvbihmKSB7XG4gICAgICAgIHJldHVybiBmKFwicmV0dXJuIHRoaXNcIikoKTtcbiAgICB9KEZ1bmN0aW9uKSksXG5cbiAgICBjdixcblxuICAgIC8vIFRoZSBkZWZhdWx0cyBvYmplY3QgaXMgcGFzc2VkIGFzIGEgcmVmZXJlbmNlLCBhbmQgY2FuIGJlIG1vZGlmaWVkIGJ5IGJyb3dzZXJHbG9iYWwuY29udmVuaWVudEluaXRcbiAgICBkZWZhdWx0cyA9IHtcbiAgICAgICAgbG9nZ2VyOiB7XG4gICAgICAgICAgICBsb2c6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIHBoYW50b20tcG9seWZpbGwuanMgcHJvYmxlbXMgYmluZGluZyBjb25zb2xlLmxvZyAod2luZG93LmNvbnNvbGUubG9nKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgaW5pdE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1lcmdlZCA9IHt9O1xuXG4gICAgICAgIC8vIE9ubHkgbWVyZ2Uga25vd24gb3B0aW9uc1xuICAgICAgICBtZXJnZWQubG9nZ2VyID0ge307XG4gICAgICAgIG1lcmdlZC5sb2dnZXIubG9nID0gKGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMgJiYgYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIgJiYgYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIubG9nKSB8fCBkZWZhdWx0cy5sb2dnZXIubG9nO1xuXG4gICAgICAgIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMgPSBtZXJnZWQ7XG4gICAgfSxcblxuICAgIHBsdWdpbiA9IHt9LFxuXG4gICAgZGVja3NTdG9yYWdlcyA9IFtdLFxuXG4gICAgaXNTdG9yYWdlQWxyZWFkeUluaXRpYXRlZEZvckRlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG4gICAgICAgIGlmICghZGVjaykge1xuICAgICAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcImRlY2sgbXVzdCBiZSBkZWZpbmVkLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZWNrQWxyZWFkeVN0b3JlZCA9IGRlY2tzU3RvcmFnZXMuc29tZShmdW5jdGlvbihkZWNrU3RvcmFnZSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlY2tTdG9yYWdlLmRlY2sgPT09IGRlY2s7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBkZWNrQWxyZWFkeVN0b3JlZDtcbiAgICB9LFxuXG4gICAgc3RvcmVEZWNrID0gZnVuY3Rpb24oZGVjaykge1xuICAgICAgICB2YXIgZGVja0FscmVhZHlTdG9yZWQgPSBpc1N0b3JhZ2VBbHJlYWR5SW5pdGlhdGVkRm9yRGVjayhkZWNrKTtcblxuICAgICAgICBpZiAoIWRlY2tBbHJlYWR5U3RvcmVkKSB7XG4gICAgICAgICAgICBkZWNrc1N0b3JhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgIGRlY2s6IGRlY2ssXG4gICAgICAgICAgICAgICAgc3RvcmFnZToge31cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGlzU3RvcmFnZUFscmVhZHlJbml0aWF0ZWRGb3JEZWNrQW5kUGx1Z2luID0gZnVuY3Rpb24ocGx1Z2luTmFtZSwgZGVjaykge1xuICAgICAgICBpZiAoIXBsdWdpbk5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJwbHVnaW5OYW1lIG11c3QgYmUgZGVmaW5lZC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRlY2spIHtcbiAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJkZWNrIG11c3QgYmUgZGVmaW5lZC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RvcmFnZSA9IHBsdWdpbi5nZXREZWNrU3RvcmFnZShkZWNrKSxcbiAgICAgICAgICAgIGlzU3RvcmFnZUluaXRpYXRlZCA9ICEhKHN0b3JhZ2UgJiYgc3RvcmFnZVtwbHVnaW5OYW1lXSk7XG5cbiAgICAgICAgcmV0dXJuIGlzU3RvcmFnZUluaXRpYXRlZDtcbiAgICB9LFxuXG4gICAgaW5pdGlhdGVEZWNrUGx1Z2luU3RvcmFnZSA9IGZ1bmN0aW9uKHBsdWdpbk5hbWUsIGRlY2spIHtcbiAgICAgICAgaWYgKCFwbHVnaW5OYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwicGx1Z2luTmFtZSBtdXN0IGJlIGRlZmluZWQuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkZWNrKSB7XG4gICAgICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0b3JhZ2UgPSBwbHVnaW4uZ2V0RGVja1N0b3JhZ2UoZGVjayk7XG5cbiAgICAgICAgaWYgKCFzdG9yYWdlKSB7XG4gICAgICAgICAgICBzdG9yZURlY2soZGVjayk7XG4gICAgICAgICAgICBzdG9yYWdlID0gcGx1Z2luLmdldERlY2tTdG9yYWdlKGRlY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RvcmFnZVtwbHVnaW5OYW1lXSA9IHt9O1xuICAgIH0sXG5cbiAgICBpc051bWJlciA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xODA4Mi92YWxpZGF0ZS1udW1iZXJzLWluLWphdmFzY3JpcHQtaXNudW1lcmljXG4gICAgICAgIC8vIEZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTgzMDg0NFxuICAgICAgICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQobikpICYmIGlzRmluaXRlKG4pO1xuICAgIH0sXG5cbiAgICBpbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGluaXRPcHRpb25zKCk7XG4gICAgfTtcblxuLy8gRm9yIHBsdWdpbnMgdGhlbXNlbHZlc1xucGx1Z2luLmJ1aWxkZXIgPSBmdW5jdGlvbiBzZWxmKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgdGhyb3cgY3YuZ2VuZXJhdGVFcnJvck9iamVjdChcIlRoZSBwbHVnaW4gb3B0aW9ucyB3ZXJlIG5vdCBwcm9wZXJseSBkZWZpbmVkLlwiKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHBsdWdpbk5hbWU6IG9wdGlvbnNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMucGx1Z2luTmFtZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiVGhlIHBsdWdpbiBuYW1lIHdhcyBub3QgcHJvcGVybHkgZGVmaW5lZC5cIik7XG4gICAgfVxuXG4gICAgdmFyIGV4dGVybmFsID0ge30sXG5cbiAgICAgICAgdGFnID0gXCJiZXNwb2tlLlwiICsgb3B0aW9ucy5wbHVnaW5OYW1lLFxuXG4gICAgICAgIGdlbmVyYXRlRXJyb3JPYmplY3QgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKHRhZyArIFwiOiBcIiArIG1lc3NhZ2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGV2ZW50TmFtZXNwYWNlID0gb3B0aW9ucy5wbHVnaW5OYW1lLFxuXG4gICAgICAgIGV2ZW50SW5OYW1lc3BhY2UgPSBmdW5jdGlvbihldmVudE5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBldmVudE5hbWVzcGFjZSArIFwiLlwiICsgZXZlbnROYW1lO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG4gICAgICAgIC8vIE1pbWljaW5nLCBhbmQgZXh0ZW5kaW5nLHRoZSBpbnRlcm5hbCBjcmVhdGVFdmVudERhdGEgYmVzcG9rZSB1c2VzXG4gICAgICAgIGNyZWF0ZUV2ZW50RGF0YSA9IGZ1bmN0aW9uKGRlY2ssIGV2ZW50TmFtZXNwYWNlLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBldmVudERhdGEpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBwbHVnaW4uY3JlYXRlRXZlbnREYXRhLmNhbGwoZGVjaywgZXZlbnROYW1lc3BhY2UsIGV2ZW50TmFtZSwgaW5uZXJFdmVudCwgc2xpZGUsIGV2ZW50RGF0YSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gVE9ETzogY3JlYXRlIGEgc2Vjb25kIG9iamVjdCBib3VuZCB0byBib3RoIHRoaXMgZXh0ZXJuYWwgb2JqZWN0IGFuZCB0aGUgZGVjayxcbiAgICAgICAgLy8gdG8gYXZvaWQgcGFzc2luZyB0aGUgZGVjayBwYXJhbWV0ZXIgZXZlcnkgdGltZS4gKFdoaWNoIGNhbiBiZSBhbGxldmlhdGVkIHdpdGggc2ltcGxlciBmdW5jdGlvbiBiaW5kaW5nIHRob3VnaC4pXG4gICAgICAgIGZpcmUgPSBmdW5jdGlvbihkZWNrLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBjdXN0b21EYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVjay5maXJlKGV2ZW50SW5OYW1lc3BhY2UoZXZlbnROYW1lKSwgY3JlYXRlRXZlbnREYXRhKGRlY2ssIGV2ZW50TmFtZXNwYWNlLCBldmVudE5hbWUsIGlubmVyRXZlbnQsIHNsaWRlLCBjdXN0b21EYXRhKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbG9nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcHJlZml4ZXMgPSBbdGFnXTtcblxuICAgICAgICAgICAgLy8gYnJvd3Nlckdsb2JhbC5jb252ZW5pZW50T3B0aW9ucy5sb2dnZXIubG9nIGlzIGR5bmFtaWMsIHNvIGNhbid0IGJpbmQgZGlyZWN0bHkgdG8gaXRcbiAgICAgICAgICAgIGJyb3dzZXJHbG9iYWwuY29udmVuaWVudE9wdGlvbnMubG9nZ2VyLmxvZy5hcHBseShicm93c2VyR2xvYmFsLmNvbnZlbmllbnRPcHRpb25zLmxvZ2dlci5sb2csIHByZWZpeGVzLmNvbmNhdChwbHVnaW4uY29weUFycmF5KGFyZ3VtZW50cykpKTtcbiAgICAgICAgfSxcblxuICAgICAgICB0aHJvd0lmUGx1Z2luV2FzQWxyZWFkeUluaXRpYXRlZEZvckRlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG4gICAgICAgICAgICB2YXIgaXNTdG9yYWdlSW5pdGlhdGVkID0gaXNTdG9yYWdlQWxyZWFkeUluaXRpYXRlZEZvckRlY2tBbmRQbHVnaW4ob3B0aW9ucy5wbHVnaW5OYW1lLCBkZWNrKTtcblxuICAgICAgICAgICAgaWYgKGlzU3RvcmFnZUluaXRpYXRlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJUaGUgJ1wiICsgb3B0aW9ucy5wbHVnaW5OYW1lICsgXCInIHBsdWdpbiBoYXMgYWxyZWFkeSBiZWVuIGFjdGl2YXRlZCBmb3IgdGhpcyBkZWNrLCBjYW4ndCBhY3RpdmF0ZSBpdCB0d2ljZS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgYmluZFRvRGVjayA9IGZ1bmN0aW9uKGRlY2spIHtcbiAgICAgICAgICAgIHZhciBkZWNrQm91bmQgPSB7fTtcblxuICAgICAgICAgICAgZGVja0JvdW5kLmNyZWF0ZUV2ZW50RGF0YSA9IGV4dGVybmFsLmNyZWF0ZUV2ZW50RGF0YS5iaW5kKHRoaXMsIGRlY2spO1xuICAgICAgICAgICAgZGVja0JvdW5kLmZpcmUgPSBleHRlcm5hbC5maXJlLmJpbmQodGhpcywgZGVjayk7XG4gICAgICAgICAgICBkZWNrQm91bmQuZ2V0U3RvcmFnZSA9IGV4dGVybmFsLmdldFN0b3JhZ2UuYmluZCh0aGlzLCBkZWNrKTtcbiAgICAgICAgICAgIGRlY2tCb3VuZC5sb2cgPSBleHRlcm5hbC5sb2cuYmluZCh0aGlzLCBkZWNrKTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlY2tCb3VuZDtcbiAgICAgICAgfSxcblxuICAgICAgICBhY3RpdmF0ZURlY2sgPSBmdW5jdGlvbihkZWNrKSB7XG4gICAgICAgICAgICB2YXIgZGVja0JvdW5kO1xuXG4gICAgICAgICAgICB0aHJvd0lmUGx1Z2luV2FzQWxyZWFkeUluaXRpYXRlZEZvckRlY2soZGVjayk7XG4gICAgICAgICAgICBpbml0aWF0ZURlY2tQbHVnaW5TdG9yYWdlKG9wdGlvbnMucGx1Z2luTmFtZSwgZGVjayk7XG5cbiAgICAgICAgICAgIGRlY2tCb3VuZCA9IGJpbmRUb0RlY2soZGVjayk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWNrQm91bmQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYmluZEV4dGVybmFsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBleHRlcm5hbC5jcmVhdGVFdmVudERhdGEgPSBjcmVhdGVFdmVudERhdGEuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIGV4dGVybmFsLmdlbmVyYXRlRXJyb3JPYmplY3QgPSBnZW5lcmF0ZUVycm9yT2JqZWN0LmJpbmQodGhpcyk7XG4gICAgICAgICAgICBleHRlcm5hbC5maXJlID0gZmlyZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgZXh0ZXJuYWwubG9nID0gbG9nLmJpbmQodGhpcyk7XG4gICAgICAgICAgICBleHRlcm5hbC5hY3RpdmF0ZURlY2sgPSBhY3RpdmF0ZURlY2suYmluZCh0aGlzKTtcbiAgICAgICAgICAgIGV4dGVybmFsLmdldFN0b3JhZ2UgPSBwbHVnaW4uZ2V0RGVja1BsdWdpblN0b3JhZ2UuYmluZCh0aGlzLCBvcHRpb25zLnBsdWdpbk5hbWUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGJpbmRFeHRlcm5hbCgpO1xuICAgICAgICB9O1xuXG4gICAgaW5pdCgpO1xuXG4gICAgcmV0dXJuIGV4dGVybmFsO1xufTtcblxucGx1Z2luLmdldERlY2tTdG9yYWdlID0gZnVuY3Rpb24oZGVjaykge1xuICAgIGlmICghZGVjaykge1xuICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuICAgIH1cblxuICAgIHZhciBzdG9yYWdlID0gbnVsbDtcblxuICAgIGRlY2tzU3RvcmFnZXMuc29tZShmdW5jdGlvbihkZWNrU3RvcmFnZSkge1xuICAgICAgICBpZiAoZGVja1N0b3JhZ2UuZGVjayA9PT0gZGVjaykge1xuICAgICAgICAgICAgc3RvcmFnZSA9IGRlY2tTdG9yYWdlLnN0b3JhZ2U7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIHJldHVybiBzdG9yYWdlO1xufTtcblxucGx1Z2luLmdldERlY2tQbHVnaW5TdG9yYWdlID0gZnVuY3Rpb24ocGx1Z2luTmFtZSwgZGVjaykge1xuICAgIGlmICghcGx1Z2luTmFtZSkge1xuICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwicGx1Z2luTmFtZSBtdXN0IGJlIGRlZmluZWQuXCIpO1xuICAgIH1cblxuICAgIGlmICghZGVjaykge1xuICAgICAgICB0aHJvdyBjdi5nZW5lcmF0ZUVycm9yT2JqZWN0KFwiZGVjayBtdXN0IGJlIGRlZmluZWQuXCIpO1xuICAgIH1cblxuICAgIHZhciBzdG9yYWdlID0gcGx1Z2luLmdldERlY2tTdG9yYWdlKGRlY2spO1xuXG4gICAgaWYgKCFzdG9yYWdlKSB7XG4gICAgICAgIHRocm93IGN2LmdlbmVyYXRlRXJyb3JPYmplY3QoXCJzdG9yYWdlIHdhcyBub3QgaW5pdGlhdGVkIGZvciB0aGlzIGRlY2suXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBzdG9yYWdlW3BsdWdpbk5hbWVdO1xufTtcblxuLy8gUGx1Z2luIGZ1bmN0aW9ucyBleHBlY3QgdG8gYmUgZXhlY3V0ZWQgaW4gYSBkZWNrIGNvbnRleHRcbi8vIE1pbWljaW5nLCBhbmQgZXh0ZW5kaW5nLHRoZSBpbnRlcm5hbCBjcmVhdGVFdmVudERhdGEgYmVzcG9rZSB1c2VzXG5wbHVnaW4uY3JlYXRlRXZlbnREYXRhID0gZnVuY3Rpb24oZXZlbnROYW1lc3BhY2UsIGV2ZW50TmFtZSwgaW5uZXJFdmVudCwgc2xpZGUsIGV2ZW50RGF0YSkge1xuICAgIGV2ZW50RGF0YSA9IGV2ZW50RGF0YSB8fCB7fTtcblxuICAgIGV2ZW50RGF0YS5ldmVudE5hbWVzcGFjZSA9IGV2ZW50TmFtZXNwYWNlIHx8IG51bGw7XG5cbiAgICBldmVudERhdGEuZXZlbnROYW1lID0gZXZlbnROYW1lIHx8IG51bGw7XG5cbiAgICAvLyBDYW4gYmUgZWl0aGVyIGEgRE9NL2Jyb3dzZXIgZXZlbnQgb3IgYSBiZXNwb2tlIGV2ZW50XG4gICAgZXZlbnREYXRhLmlubmVyRXZlbnQgPSBpbm5lckV2ZW50IHx8IG51bGw7XG5cbiAgICBpZiAoaXNOdW1iZXIoc2xpZGUpKSB7XG4gICAgICAgIGV2ZW50RGF0YS5pbmRleCA9IHNsaWRlO1xuICAgICAgICBldmVudERhdGEuc2xpZGUgPSB0aGlzLnNsaWRlc1tzbGlkZV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZXZlbnREYXRhLmluZGV4ID0gdGhpcy5zbGlkZXMuaW5kZXhPZihzbGlkZSk7XG4gICAgICAgIGV2ZW50RGF0YS5zbGlkZSA9IHNsaWRlO1xuICAgIH1cblxuICAgIHJldHVybiBldmVudERhdGE7XG59O1xuXG5wbHVnaW4uY29weUFycmF5ID0gZnVuY3Rpb24oYXJyKSB7XG4gICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoYXJyLCAwKTtcbn07XG5cbmN2ID0gcGx1Z2luLmJ1aWxkZXIocGx1Z2luTmFtZSk7XG5cbmluaXQoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBwbHVnaW47XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iZXNwb2tlLWNvbnZlbmllbnQvbGliL2Jlc3Bva2UtY29udmVuaWVudC5qc1xuICoqIG1vZHVsZSBpZCA9IDEyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKmdsb2JhbCBtb2R1bGU6dHJ1ZSwgcmVxdWlyZTp0cnVlLCB3aW5kb3c6dHJ1ZSwgZG9jdW1lbnQ6dHJ1ZSwgTWF0aDp0cnVlICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgcGx1Z2luTmFtZSA9IFwic2Vjb25kYXJ5XCIsXG4gICAgLy8gSGFjayB0byBnZXQgYXJvdW5kIGhhdmluZyB0byB3cml0ZSBhbGwgYnJvd3NlciBjb2RlIHdpdGggcmVxdWlyZSgpLlxuICAgIGJyb3dzZXJHbG9iYWwgPSAoZnVuY3Rpb24oZikge1xuICAgICAgICByZXR1cm4gZihcInJldHVybiB0aGlzXCIpKCk7XG4gICAgfShGdW5jdGlvbikpLFxuICAgIGNvbnZlbmllbnQgPSAoKGJyb3dzZXJHbG9iYWwuYmVzcG9rZSAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucyAmJiBicm93c2VyR2xvYmFsLmJlc3Bva2UucGx1Z2lucy5jb252ZW5pZW50KSB8fCByZXF1aXJlKFwiYmVzcG9rZS1jb252ZW5pZW50XCIpKSxcbiAgICBjdiA9IGNvbnZlbmllbnQuYnVpbGRlcihwbHVnaW5OYW1lKSxcblxuICAgIC8vIE1ha2luZyBzdXJlIGluZGV4ZmluZ2VyIGlzIGF2YWlsYWJsZS5cbiAgICAvLyBUT0RPOiBjaGVjayB0aGF0IGluZGV4ZmluZ2VyIGhhcyBiZWVuIGxvYWRlZDsgbWF5YmUgY2hlY2tpbmcgZm9yIGRlY2suZ2V0QWN0aXZlU2xpZGUoKS5cbiAgICBpbmRleGZpbmdlciA9ICgoYnJvd3Nlckdsb2JhbC5iZXNwb2tlICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zICYmIGJyb3dzZXJHbG9iYWwuYmVzcG9rZS5wbHVnaW5zLmluZGV4ZmluZ2VyKSB8fCByZXF1aXJlKFwiYmVzcG9rZS1pbmRleGZpbmdlclwiKSksXG5cbiAgICBLZXlDb25zdGFudHMgPSB7XG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9LZXlib2FyZEV2ZW50I1ZpcnR1YWxfa2V5X2NvZGVzXG4gICAgICAgIFM6IDB4NTMsIC8vICg4MykgXCJTXCIga2V5LlxuICAgIH0sXG5cbiAgICBkZWZhdWx0cyA9IHtcbiAgICAgICAgbm90ZXM6IFwiYXNpZGVcIixcbiAgICAgICAga2V5czoge1xuICAgICAgICAgICAgdG9nZ2xlOiBLZXlDb25zdGFudHMuU1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHJhbmRvbUludGVnZXIgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuICAgICAgICAvLyBUT0RPOiBsb29rIGZvciBzb21lb25lIGVsc2UncyBpbXBsZW1lbnRhdGlvbiAtIHRoZXkndmUgcHJvYmFibHkgY292ZXJlZCBhbGwgdGhlIGNvcm5lciBjYXNlcy5cbiAgICAgICAgLy8gVGhpcyBzaG91bGQgZG8gZm9yIDAgPD0gZnJvbSA8IHRvIDwgKHJhbmRvbSdzIHJlc29sdXRpb24pIHRob3VnaC5cbiAgICAgICAgdmFyIGRpZmYsXG4gICAgICAgICAgICBybmQ7XG5cbiAgICAgICAgaWYgKHRvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRvID0gZnJvbTtcbiAgICAgICAgICAgIGZyb20gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlmZiA9IHRvIC0gZnJvbTtcblxuICAgICAgICBybmQgPSBmcm9tICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZGlmZik7XG5cbiAgICAgICAgcmV0dXJuIHJuZDtcbiAgICB9LFxuXG4gICAgYmFzZVdpbmRvd05hbWUgPSBwbHVnaW5OYW1lICsgXCItd2luZG93LVwiLFxuXG4gICAgZ2VuZXJhdGVXaW5kb3dOYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBybmQgPSByYW5kb21JbnRlZ2VyKDEwMDAsIDEwMDAwKSxcbiAgICAgICAgICAgIHdpbmRvd05hbWUgPSBiYXNlV2luZG93TmFtZSArIHJuZDtcblxuICAgICAgICByZXR1cm4gd2luZG93TmFtZTtcbiAgICB9LFxuXG4gICAgaW5pdGlhbGl6ZVNlY29uZGFyeVdpbmRvd0NvbnRlbnRzID0gZnVuY3Rpb24oZG9jKSB7XG4gICAgICAgIGRvYy5ib2R5LmlubmVySFRNTCA9IFwiPGgxPk5vdGVzPC9oMT48ZGl2IGlkPSdub3Rlcyc+PC9kaXY+XCI7XG4gICAgfSxcblxuICAgIHBsdWdpbiA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlY2tlciA9IGZ1bmN0aW9uKGRlY2spIHtcbiAgICAgICAgICAgIHZhciBjdkJvdW5kVG9EZWNrID0gY3YuYWN0aXZhdGVEZWNrKGRlY2spLFxuXG4gICAgICAgICAgICAgICAgb2ZmID0ge30sXG5cbiAgICAgICAgICAgICAgICB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBsdWdpbiBmdW5jdGlvbnMgZXhwZWN0IHRvIGJlIGV4ZWN1dGVkIGluIGEgZGVjayBjb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIGdldE5vdGVzRWxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkud2luZG93ICYmIHRoaXMuc2Vjb25kYXJ5LndpbmRvdy5kb2N1bWVudCAmJiB0aGlzLnNlY29uZGFyeS53aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub3Rlc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBpc09wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSB0aGlzLnNlY29uZGFyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ID0gcy53aW5kb3csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXNJbml0aWFsaXplZCwgaXNOb3ROdWxsLCBpc05vdENsb3NlZCwgaXNPd25lZEJ5VGhpc1dpbmRvdywgY29udGFpbnNOb3Rlc0VsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAhIShzICE9PSB1bmRlZmluZWQgJiYgdyAhPT0gbnVsbCAmJiB3LmNsb3NlZCAhPT0gdHJ1ZSAmJiB3Lm9wZW5lciA9PT0gd2luZG93ICYmIHRoaXMuc2Vjb25kYXJ5LmdldE5vdGVzRWxlbWVudCgpICE9PSBudWxsKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBvcGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlY29uZGFyeS53aW5kb3cgPSB3aW5kb3cub3BlbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVTZWNvbmRhcnlXaW5kb3dDb250ZW50cyh0aGlzLnNlY29uZGFyeS53aW5kb3cuZG9jdW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkud2luZG93LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgZm9jdXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkud2luZG93LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kYXJ5LmlzT3BlbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWNvbmRhcnkub3BlbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRhcnkuaXNPcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgc3luY2hyb25pemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVOb3RlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxOb3RlcztcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNlY29uZGFyeS5pc09wZW4oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IHRoaXMuc2Vjb25kYXJ5LmdldE5vdGVzRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUgPSB0aGlzLmdldEFjdGl2ZVNsaWRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlTm90ZXMgPSBjb252ZW5pZW50LmNvcHlBcnJheShzbGlkZS5xdWVyeVNlbGVjdG9yQWxsKG9wdGlvbnMubm90ZXMpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsTm90ZXMgPSBzbGlkZU5vdGVzLnJlZHVjZShmdW5jdGlvbihub3Rlc0h0bWwsIHNsaWRlTm90ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3Rlc0h0bWwgKyBzbGlkZU5vdGUub3V0ZXJIVE1MO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgXCJcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gYWxsTm90ZXM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlY29uZGFyeS5pc09wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICByZWdpc3RlckRlY2tFeHRlbnNpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY2suc2Vjb25kYXJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kYXJ5V2luZG93TmFtZTogZ2VuZXJhdGVXaW5kb3dOYW1lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXROb3Rlc0VsZW1lbnQ6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5nZXROb3Rlc0VsZW1lbnQuYmluZChkZWNrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzT3BlbjogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLmlzT3Blbi5iaW5kKGRlY2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbjogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLm9wZW4uYmluZChkZWNrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuY2xvc2UuYmluZChkZWNrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOiB1bmJvdW5kU2Vjb25kYXJ5RGVja01ldGhvZHMuZm9jdXMuYmluZChkZWNrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZTogdW5ib3VuZFNlY29uZGFyeURlY2tNZXRob2RzLnRvZ2dsZS5iaW5kKGRlY2spLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3luY2hyb25pemU6IHVuYm91bmRTZWNvbmRhcnlEZWNrTWV0aG9kcy5zeW5jaHJvbml6ZS5iaW5kKGRlY2spXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGluaXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IG1lcmdlIGZ1bmN0aW9uP1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IG1lcmdlIGtub3duIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lcmdlZCA9IHt9O1xuXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgICAgICAgICAgICAgIG1lcmdlZC5rZXlzID0ge307XG4gICAgICAgICAgICAgICAgICAgIG1lcmdlZC5rZXlzLnRvZ2dsZSA9IChvcHRpb25zLmtleXMgJiYgb3B0aW9ucy5rZXlzLnRvZ2dsZSkgfHwgZGVmYXVsdHMua2V5cy50b2dnbGU7XG5cbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkLm5vdGVzID0gb3B0aW9ucy5ub3RlcyB8fCBkZWZhdWx0cy5ub3RlcztcblxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gbWVyZ2VkO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBrZXlEb3duTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudEhhbmRsZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBObyBtb2RpZmllciBrZXlzLCBwbGVhc2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlLmFsdEtleSAmJiAhZS5jdHJsS2V5ICYmICFlLm1ldGFLZXkgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SGFuZGxlZCA9IGV2ZW50SGFuZGxlZCB8fCAoZS53aGljaCA9PT0gb3B0aW9ucy5rZXlzLnRvZ2dsZSAmJiBjdkJvdW5kVG9EZWNrLmZpcmUoXCJ0b2dnbGVcIiwgZSkgJiYgZGVjay5zZWNvbmRhcnkudG9nZ2xlKCkgJiYgZGVjay5zZWNvbmRhcnkuc3luY2hyb25pemUoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRIYW5kbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWV2ZW50SGFuZGxlZDtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgb25CZWZvcmVVbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjay5zZWNvbmRhcnkuY2xvc2UoKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgb25BY3RpdmF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBkZWNrLnNlY29uZGFyeS5zeW5jaHJvbml6ZSgpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBlbmFibGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgZG9lc24ndCBzZWVtIHRvIHdvcmsgZm9yIG9uYmVmb3JldW5sb2FkXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IG9uQmVmb3JlVW5sb2FkO1xuXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGtleURvd25MaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBvZmYuYWN0aXZhdGUgPSBkZWNrLm9uKFwiYWN0aXZhdGVcIiwgb25BY3RpdmF0ZSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdE9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJEZWNrRXh0ZW5zaW9ucygpO1xuICAgICAgICAgICAgICAgICAgICBlbmFibGUoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpbml0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRlY2tlcjtcbiAgICB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBsdWdpbjtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Jlc3Bva2Utc2Vjb25kYXJ5L2xpYi9iZXNwb2tlLXNlY29uZGFyeS5qc1xuICoqIG1vZHVsZSBpZCA9IDEzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
